var cn=(()=>{var Fy3={};var a_=($,_)=>()=>(_||$((_={nZ:{}}).nZ,_),_.nZ);var eD=a_((F_,N_)=>{var R_=(()=>{var $=(A,u)=>()=>(u||A((u={nZ:{}}).nZ,u),u.nZ),_=$((A,u)=>{function N(C,h){this.x=C,this.y=h}N.prototype={LJ:function(){this.x=-this.x,this.y=-this.y}},u.nZ=N}),D=$((A,u)=>{var N=_();u.nZ=function(C){var{g:h=32,f:O=63,a:p=1,B$:B=0,d$:s=0}=C||{};this.g=h,this.f=O,this.a=p,this.B=new N(B,s)}}),r=$((A,u)=>{function N(h){var{g:O=32,f:p=63,a:B=1,Z$:s=0,H:F=null,M:I=null}=h||{};this.Uc=this.uc=this.z$=null,this.xr=0,this.I5=null,this.H=F,this.M=I,this.Z$=s,this.a=B,this.f=p,this.g=O,this.o$=1/0}var C=_();N.prototype={G5:function(h){if(h*=.017453292519943295,0>h){h=-h;var O=this.H;this.H=this.M,this.M=O,this.Z$=-this.Z$}.17435839227423353<h&&5.934119456780721>h&&(this.o$=1/Math.tan(h/2))},nJ:function(){return isFinite(this.o$)?114.59155902616465*Math.atan(1/this.o$):0},W_:function(){var{o$:h,M:{B:O},H:{B:p}}=this,B,s,F,I;isFinite(h)?(F=.5*(O.x-p.x),I=.5*(O.y-p.y),B=p.x+F-I*h,s=p.y+I+F*h,F=p.x-B,I=p.y-s,this.xr=Math.sqrt(F*F+I*I),this.Uc=new C(s-p.y,p.x-B),this.uc=new C(O.y-s,B-O.x),0>=h&&(this.Uc.LJ(),this.uc.LJ()),this.I5=new C(B,s)):(F=p.x-O.x,I=p.y-O.y,s=Math.sqrt(I*I+F*F),this.z$=new C(-I/s,F/s))}},u.nZ=N}),c=$((A,u)=>{var N=_();u.nZ=function(C){var{g:h=32,f:O=63,a:p=1,c$:B=0,g_:s=0,B_:F=0}=C||{};this.g=h,this.f=O,this.a=p,this.c$=B,this.z$=new N(s,F)}}),f=$((A,u)=>{function N(h){var{AB:O=0,UB:p=0,uB:B=0,RB:s=0}=h||{};this.d_=new C(B,s),this.L_=new C(O,p)}var C=_();N.prototype={Tr:function({x:h,y:O},{x:p,y:B}){var{L_:{x:s,y:F},d_:{x:I,y:l}}=this,K=p-h,R=B-O;return 0<R*(s-h)-K*(F-O)==0<R*(I-h)-K*(l-O)?!1:(K=I-s,R=l-F,0<R*(h-s)-K*(O-F)!=0<R*(p-s)-K*(B-F))}},u.nZ=N}),a=$((A,u)=>{var N=_();u.nZ=function(C){var{g:h=63,f:O=63,Z:p=.99,j:B=1,a:s=.5,l:F=10,BU:I=0,dU:l=0,LU:K=0,nU:R=0,B$:k=0,d$:j=0}=C||{};this.g=h,this.f=O,this.Z=p,this.j=B,this.a=s,this.l=F,this.V=new N(I,l),this.I=new N(K,R),this.B=new N(k,j)}}),L=$((A,u)=>{u.nZ=function(N){var{p_:C=1/0,v$:h=100,O$:O=100,P$:p=0,H$:B=0}=N||{};this.p_=C,this.v$=h,this.O$=O,this.P$=p,this.H$=B}}),g=$((A,u)=>{function N(h){C.apply(this,[h])}var C=a();N.prototype={sJ:function(h,O,p){var{I:B,j:s}=this;B.x+=h*O*s,B.y+=h*p*s},FB:function(h,O){var{I:p}=this;p.x+=h,p.y+=O},NB:function(){var{x:h,y:O}=this.I;return 0<h*h+O*O}},u.nZ=N}),U=$((A,u)=>{function N(){this.F=[],this.O=[],this.m=[],this.k=[],this.L$=[]}N.prototype={E$:function(C,h){var O,p,B,s,F,I,{F:l,m:K,k:R,O:k,L$:j}=this;l.forEach(({B:i,I:V,V:o,Z:t})=>{var{x:D$,y:X$}=V;i.x+=C*D$,i.y+=C*X$,V.x=t*(D$+o.x),V.y=t*(X$+o.y)}),l.forEach((i,V)=>{var{a:o,l:t,f:D$,g:X$,j:J$,B:Q,I:y$}=i;for(O=V+1;O<l.length;O++)if(B=l[O],B.f&X$&&B.g&D$){var{B:O$,I:h$}=B,u$=Q.x-O$.x,V$=Q.y-O$.y,Y$=u$*u$+V$*V$,$$=B.l+t;if(0<Y$&&Y$<=$$*$$){Y$=Math.sqrt(Y$),u$/=Y$,V$/=Y$;var I$=J$/(J$+B.j);$$-=Y$,Y$=$$*I$,Q.x+=u$*Y$,Q.y+=V$*Y$,$$-=Y$,O$.x-=u$*$$,O$.y-=V$*$$,$$=u$*(y$.x-h$.x)+V$*(y$.y-h$.y),0>$$&&($$*=o*B.a+1,I$*=$$,y$.x-=u$*I$,y$.y-=V$*I$,I$=$$-I$,h$.x+=u$*I$,h$.y+=V$*I$,h?.tr?.(V,i,O,B))}}if(J$!=0){K.forEach((q,f$)=>{if(q.f&X$&&q.g&D$){var{z$:{x:H,y:W}}=q;s=q.c$-(H*Q.x+W*Q.y)+t,0<s&&(Q.x+=H*s,Q.y+=W*s,s=y$.x*H+y$.y*W,0>s&&(s*=o*q.a+1,y$.x-=s*H,y$.y-=s*W,h?.wr?.(V,i,f$)))}}),R.forEach((q,f$)=>{if(q.f&X$&&q.g&D$){var H,W,T,{x:g$,y:B$}=Q;if(isFinite(q.o$)){if(W=q.I5,H=g$-W.x,W=B$-W.y,T=q.Uc,$$=q.uc,(0<T.x*H+T.y*W&&0<$$.x*H+$$.y*W)==0>=q.o$||($$=Math.sqrt(H*H+W*W),$$==0))return;T=$$-q.xr,H/=$$,W/=$$}else{var{x:v$,y:p$}=q.H.B,{x:e$,y:j$}=q.M.B;if(W=e$-v$,H=j$-p$,T=g$-e$,$$=B$-j$,0>=(g$-v$)*W+(B$-p$)*H||0<=T*W+$$*H)return;W=q.z$,H=W.x,W=W.y,T=H*T+W*$$}if($$=q.Z$,$$==0)0>T&&(T=-T,H=-H,W=-W);else if(0>$$&&($$=-$$,T=-T,H=-H,W=-W),T<-$$)return;T>=t||(T=t-T,Q.x+=H*T,Q.y+=W*T,T=H*y$.x+W*y$.y,0>T&&(T*=o*q.a+1,y$.x-=H*T,y$.y-=W*T,h?.Pr?.(V,i,f$)))}});var s$=t*t;k.forEach((q,f$)=>{if(q.f&X$&&q.g&D$&&(s=Q.x-q.B.x,F=Q.y-q.B.y,I=s*s+F*F,0<I&&I<=s$)){I=Math.sqrt(I),s/=I,F/=I,I=t-I,Q.x+=s*I,Q.y+=F*I,I=s*y$.x+F*y$.y;var H=0>I;H&&(I*=o*q.a+1,y$.x-=s*I,y$.y-=F*I),h?.Hr?.(V,i,f$,H)}})}});for(var n$=0;2>n$;n$++)j.forEach(({H$:i,P$:V,p_:o,O$:t,v$:D$},X$)=>{if(i=l[i],V=l[V],i&&V){var{B:J$,I:Q,j:y$}=i,{B:O$,I:h$,j:u$}=V;if(p=J$.x-O$.x,V=J$.y-O$.y,B=Math.sqrt(p*p+V*V),!(0>=B)){if(p/=B,V/=B,O=y$/(y$+u$),O!=O&&(O=.5),t>=D$)s=t,F=0;else if(B<=t)s=t,F=1;else if(B>=D$)s=D$,F=-1;else return;B=s-B,isFinite(o)?(O=o*B*.5,p*=O,V*=O,Q.x+=p*y$,Q.y+=V*y$,h$.x-=p*u$,h$.y-=V*u$,h?.p5?.(X$,!1,!0)):(s=B*O,J$.x+=p*s*.5,J$.y+=V*s*.5,B-=s,O$.x-=p*B*.5,O$.y-=V*B*.5,B=p*(Q.x-h$.x)+V*(Q.y-h$.y),(o=0>=F*B)&&(O*=B,Q.x-=p*O,Q.y-=V*O,O=B-O,h$.x+=p*O,h$.y+=V*O),h?.p5?.(X$,!0,o))}}})},Rc:function(C){this.F.push(C)},S5:function(C){C=this.F.indexOf(C),0>C||this.F.splice(C,1)}},u.nZ=N});return $((A,u)=>{u.nZ={kX:_(),i5:D(),e5:r(),k5:c(),hB:f(),o5:a(),l5:L(),Mr:g(),$y:U()}})()})();typeof F_<"u"?(typeof N_<"u"&&N_.nZ&&(F_=N_.nZ=R_),F_.AJ=R_):typeof root<"u"?root.nago=R_:window.nago=R_});var gX=a_((oy,aX)=>{function H$($,_){return _={nZ:{}},$(_,_.nZ),_.nZ}Object.assign(Fy3,{S_:null,Y_:{Fc:"www.haxball.com",UJ:"p2p.haxball.com",oX:!0},f_:null,uJ:9,lX:null,_y:[{urls:"stun:stun.l.google.com:19302"}],RJ:"",b5:"",C_:null,n_:null,Q5:null,Nc:null,FJ:null,Dy:null,hc:null,j5:null,NJ:null,rX:null,Yc:null,p$:null,hJ:null,q$:null,YJ:null,Cc:null,Xy:null});var dc=($,_)=>{var D=Fy3,r=_?.backend;r&&(r.hostname!=null&&(D.Y_.Fc=r.hostname),r.hostnameWs!=null&&(D.Y_.UJ=r.hostnameWs),r.secure!=null&&(D.Y_.oX=r.secure)),r=_?.proxy,r&&(D.S_={YB:r.HttpUrl,Oc:r.WebSocketUrl,E5:r.WebSocketChangeOriginAllowed}),_?.version!=null&&(D.uJ=_.version),D.RJ=(D.Y_.oX?"wss":"ws")+"://"+D.Y_.UJ+"/",D.b5=D?.S_?.YB||(D.Y_.oX?"https":"http")+"://"+D.Y_.Fc+"/rs/",_?.stunServer!=null&&(D._y=[{urls:_.stunServer}]),D.C_=$.setTimeout?.bind($),D.n_=$.clearTimeout?.bind($),D.Q5=$.setInterval?.bind($),D.Nc=$.clearInterval?.bind($),D.FJ=$.console?.log?.bind($),D.Dy=$.console?.warn?.bind($),D.hc=$.requestAnimationFrame?.bind($),D.j5=$.cancelAnimationFrame?.bind($),D.NJ=$.fetch?.bind($),D.rX=$.crypto?.subtle,D.Yc=$.WebSocket,D.p$=$.performance,D.hJ=$.JSON5,D.q$=$.pako,D.f_=_?.proxyAgent,D.lX=_?.identityToken;var c=$.webkitRTCPeerConnection||$.mozRTCPeerConnection||$.RTCPeerConnection,f=$.webkitRTCIceCandidate||$.mozRTCIceCandidate||$.RTCIceCandidate,a=$.webkitRTCSessionDescription||$.mozRTCSessionDescription||$.RTCSessionDescription;return D.YJ=c,D.Cc=f,D.Xy=a,D},m=H$(function($){$.nZ=$.cy||($.cy={bX:0,zc:1,vc:2,CJ:-1,OJ:0,zJ:1,vJ:2,VJ:3,ry:4,IJ:0,m5:1,GJ:2,pJ:3,SJ:4,iJ:5,eJ:6,kJ:7,oJ:8,lJ:9,yy:10,bJ:12,K5:14,QJ:18,jJ:20,fy:21,EJ:22,mJ:23,KJ:24,ZJ:25,qJ:26,WJ:27,xJ:31,TJ:32,QD:33,tJ:36,Jy:38,wJ:40,PJ:41,HJ:51,MJ:55,$4:56,ay:59,gy:62,By:63,_4:2,D4:6,X4:17})}),_D=null;function w$($,_=null){this.abbr=$,this.api={errors:{}},this.defineMetadata(_)}Object.defineProperty(w$,"current",{get:function(){return _D},set:function($){_D=$,w$.CB?.($)}});w$.prototype.defineMetadata=function($){};w$.resolveText=function($,_){if($){_=_.map(L=>L?.sU||L);for(var D=/\$([\d]+)\?\("([^"]*)":"([^"]*)"\)/gm,r=/\$([\d]+)/gm,c,f="",a=0;(c=D.exec($))!=null;)f+=$.substring(a,c.index)+(_[c[1]-1]?c[2]:c[3]),a=c.index+c[0].length;for(f+=$.substring(a),$="",a=0;(c=r.exec(f))!=null;)$+=f.substring(a,c.index)+_[c[1]-1],a=c.index+c[0].length;return $+=f.substring(a),$}};w$.dy=($,_)=>w$.resolveText(_D?.api?.errors?.[$],_||[]);var WD=w$,l$=H$(function($){var{b:_}=Fy3,{dy:D}=WD;function r(){this.c4=m.IJ,this.r4=null;var f=this;this.toString=()=>D(f.c4,f.r4)}function c(f,...a){var L=new r;return L.c4=f,L.r4=a,L}_(r,[],["code","params"],[]),$.nZ=$.OB||($.OB={W$:c,Vc:r})}),z$=H$(function($){var{C_:_,n_:D,p$:r,b:c}=Fy3,{W$:f}=l$;let a=.97;function L(B,s){var F=B.indexOf(s);return F<0?!1:(B.splice(F,1),!0)}function g(B,s=1){if(s<=0){B();return}Promise.resolve().then(()=>{g(B,s-1)})}function U(B,s=!1){this.Y=B,this.l$=s,this.d=0}U.b$=function(B,s){var F=B.getUint8(s),I=s;if(!(F&128))s++;else if((F&224)==192)F=(F&31)<<6|B.getUint8(s+1)&63,s+=2;else if((F&240)==224)F=(F&15)<<12|(B.getUint8(s+1)&63)<<6|B.getUint8(s+2)&63,s+=3;else if((F&248)==240)F=(F&7)<<18|(B.getUint8(s+1)&63)<<12|(B.getUint8(s+2)&63)<<6|B.getUint8(s+3)&63,s+=4;else if((F&252)==248)F=(F&3)<<24|(B.getUint8(s+1)&63)<<18|(B.getUint8(s+2)&63)<<12|(B.getUint8(s+3)&63)<<6|B.getUint8(s+4)&63,s+=5;else if((F&254)==252)F=(F&1)<<30|(B.getUint8(s+1)&63)<<24|(B.getUint8(s+2)&63)<<18|(B.getUint8(s+3)&63)<<12|(B.getUint8(s+4)&63)<<6|B.getUint8(s+5)&63,s+=6;else throw f(m.jJ,s,F);return{zB:F,vB:s-I}},U.prototype={m$:function(B){if(B==null&&(B=this.Y.byteLength-this.d),this.d+B>this.Y.byteLength)throw f(m.fy);var s=new Uint8Array(this.Y.buffer,this.Y.byteOffset+this.d,B);return this.d+=B,s},Ly:function(B){var s=this.m$(B);return B=new ArrayBuffer(B),new Uint8Array(B).set(s),B},Ic:function(){return this.Y.getInt8(this.d++)},z:function(){return this.Y.getUint8(this.d++)},ny:function(){var B=this.Y.getInt16(this.d,this.l$);return this.d+=2,B},x$:function(){var B=this.Y.getUint16(this.d,this.l$);return this.d+=2,B},S:function(){var B=this.Y.getInt32(this.d,this.l$);return this.d+=4,B},n$:function(){var B=this.Y.getUint32(this.d,this.l$);return this.d+=4,B},sy:function(){var B=this.Y.getFloat32(this.d,this.l$);return this.d+=4,B},h:function(){var B=this.Y.getFloat64(this.d,this.l$);return this.d+=8,B},b$:function(){var{d:B,Y:s}=this,F=0,I,l=0;do I=s.getUint8(B+F),F<5&&(l|=(I&127)<<7*F>>>0),++F;while(I&128);return this.d+=F,l|0},yX:function(B){for(var{d:s,Y:F}=this,I,l="",K=s+B;s<K;)I=U.b$(F,s),s+=I.vB,l+=String.fromCodePoint(I.zB);if(s!=K)throw f(m.EJ,s-K);return this.d=s,l},s_:function(){var B=this.b$();return B<=0?null:this.yX(B-1)},O_:function(){return this.yX(this.b$())},y4:function(){return this.yX(this.z())},Gc:function(){return JSON.parse(this.O_())}};function A(B,s=!1){this.Y=B,this.l$=s,this.d=0}A.D=function(B=16,s=!1){return new A(new DataView(new ArrayBuffer(B)),s)},A.S$=function(B,s,F){var I=F;if(B<0)throw f(m.mJ,B);if(B<128)s.setUint8(F,B&127),++F;else if(B<2048)s.setUint8(F,B>>6&31|192),s.setUint8(F+1,B&63|128),F+=2;else if(B<65536)s.setUint8(F,B>>12&15|224),s.setUint8(F+1,B>>6&63|128),s.setUint8(F+2,B&63|128),F+=3;else if(B<2097152)s.setUint8(F,B>>18&7|240),s.setUint8(F+1,B>>12&63|128),s.setUint8(F+2,B>>6&63|128),s.setUint8(F+3,B&63|128),F+=4;else if(B<67108864)s.setUint8(F,B>>24&3|248),s.setUint8(F+1,B>>18&63|128),s.setUint8(F+2,B>>12&63|128),s.setUint8(F+3,B>>6&63|128),s.setUint8(F+4,B&63|128),F+=5;else if(B<-2147483648)s.setUint8(F,B>>30&1|252),s.setUint8(F+1,B>>24&63|128),s.setUint8(F+2,B>>18&63|128),s.setUint8(F+3,B>>12&63|128),s.setUint8(F+4,B>>6&63|128),s.setUint8(F+5,B&63|128),F+=6;else throw f(m.KJ,B);return F-I},A.VB=function(B){if(B<0)throw f(m.ZJ,B);if(B<128)return 1;if(B<2048)return 2;if(B<65536)return 3;if(B<2097152)return 4;if(B<67108864)return 5;if(B<-2147483648)return 6;throw f(m.qJ,B)},A.Z5=function(B){for(var s=0,F=B.length,I=0;I<F;I++)s+=A.VB(B.charCodeAt(I));return s},A.IB=function(B){return B>>>=0,B<128?1:B<16384?2:B<2097152?3:B<268435456?4:5},A.prototype={QX:function(){var B=new ArrayBuffer(this.d),s=new Uint8Array(this.Y.buffer,this.Y.byteOffset,this.d);return new Uint8Array(B).set(s),B},Q$:function(){return new Uint8Array(this.Y.buffer,this.Y.byteOffset,this.d)},fX:function(){return new DataView(this.Y.buffer,this.Y.byteOffset,this.d)},f4:function(){return new U(this.fX(),this.l$)},rD:function(B){this.Y.byteLength>=B||this.GB(2*this.Y.byteLength>=B?2*this.Y.byteLength:B)},GB:function(B){if(B<1)throw f(m.WJ);if(!(this.Y.byteLength>=B)){var s=new Uint8Array(this.Y.buffer);B=new ArrayBuffer(B),new Uint8Array(B).set(s),this.Y=new DataView(B)}},n:function(B){var s=this.d++;this.rD(this.d),this.Y.setUint8(s,B)},Ay:function(B){var s=this.d;this.d+=2,this.rD(this.d),this.Y.setInt16(s,B,this.l$)},K$:function(B){var s=this.d;this.d+=2,this.rD(this.d),this.Y.setUint16(s,B,this.l$)},i:function(B){var s=this.d;this.d+=4,this.rD(this.d),this.Y.setInt32(s,B,this.l$)},V$:function(B){var s=this.d;this.d+=4,this.rD(this.d),this.Y.setUint32(s,B,this.l$)},Uy:function(B){var s=this.d;this.d+=4,this.rD(this.d),this.Y.setFloat32(s,B,this.l$)},R:function(B){var s=this.d;this.d+=8,this.rD(this.d),this.Y.setFloat64(s,B,this.l$)},M$:function(B){var s=this.d;this.d+=B.byteLength,this.rD(this.d),new Uint8Array(this.Y.buffer,this.Y.byteOffset,this.Y.byteLength).set(B,s)},pc:function(B){this.M$(new Uint8Array(B))},z_:function(B){this.S$(A.Z5(B)),this.q5(B)},A_:function(B){if(B==null){this.S$(0);return}this.S$(A.Z5(B)+1),this.q5(B)},J4:function(B){var s=A.Z5(B);if(s>255)throw null;this.n(s),this.q5(B)},W5:function(B){this.z_(JSON.stringify(B))},q5:function(B){var{d:s}=this,F=B.length;this.rD(s+A.Z5(B));for(var{Y:I}=this,l=0;l<F;l++)s+=A.S$(B.charCodeAt(l),I,s);this.d=s},S$:function(B){var{d:s}=this;B>>>=0,this.rD(s+A.IB(B));var{Y:F}=this;F.setUint8(s,B|128),B>=128?(F.setUint8(s+1,B>>7|128),B>=16384?(F.setUint8(s+2,B>>14|128),B>=2097152?(F.setUint8(s+3,B>>21|128),B>=268435456?(F.setUint8(s+4,B>>28&127),B=5):(F.setUint8(s+3,F.getUint8(s+3)&127),B=4)):(F.setUint8(s+2,F.getUint8(s+2)&127),B=3)):(F.setUint8(s+1,F.getUint8(s+1)&127),B=2)):(F.setUint8(s,F.getUint8(s)&127),B=1),this.d+=B}};function u(B){this.Sc=[];for(var s=0;s<B;s++)this.Sc.push(0);this.ic=0,this.uy=0}u.prototype={pB:function(B){this.uy-=this.Sc[this.ic],this.Sc[this.ic]=B,this.uy+=B,this.ic++,this.ic>=this.Sc.length&&(this.ic=0)},SB:function(){return this.uy/this.Sc.length}};function N(B){this.iB=B,this.T$=[],this.ec=0}N.prototype={a4:function(B){this.ec=0;var s=0;this.T$.forEach((I,l)=>{I.Ry++,I.jX*=a,this.T$[s].Ry<I.Ry&&(s=l),this.ec+=I.jX});var F;for(this.T$.length>=this.iB?(F=this.T$[s],this.ec-=F.jX,this.T$.splice(s,1)):F={},F.value=B,F.jX=1,F.Ry=0,this.ec+=F.jX,B=0;B<this.T$.length&&this.T$[B].value<=F.value;++B);this.T$.splice(B,0,F)},x5:function(B){if(this.T$.length==0)return 0;if(this.T$.length==1)return this.T$[0].value;B*=this.ec;for(var s=this.T$[0].jX,F=0;F<this.T$.length-1&&!(s>=B);)s+=this.T$[++F].jX;return this.T$[F].value},eB:function(){return this.T$.length==0?0:this.T$[this.T$.length-1].value}};function C(B,s){this.g4=B,this.B4=s,this.kc=B,this.Fy=Fy3.p$.now()}C.prototype={d4:function(B=1){return this.E$(),B>this.kc?!1:(this.kc-=B,!0)},E$:function(){var B=Fy3.p$.now(),s=Math.floor((B-this.Fy)/this.B4);this.Fy+=s*this.B4,this.kc+=s,this.kc>=this.g4&&(this.kc=this.g4,this.Fy=B)}};let h="0123456789ABCDEF";var O=B=>(B=parseInt(B),isNaN(B)?null:B),p={name:"Integer"};c(U,[],["dataView","littleEndian","offset"],["readUint8Array","readArrayBuffer","readInt8","readUint8","readInt16","readUint16","readInt32","readUint32","readFloat32","readFloat64","readUTF8Char","readStringContents","readNullableString","readString","readString2","readJSON"]),c(A,[],["dataView","littleEndian","offset"],["toArrayBuffer","toUint8Array","toDataView","createStreamReader","doubleSizeIfNecessary","resize","writeUint8","writeInt16","writeUint16","writeInt32","writeUint32","writeFloat32","writeFloat64","writeUint8Array","writeArrayBuffer","writeString","writeNullableString","writeString2","writeJSON","writeStringContents","writeUTF8Char"]),A.create=A.D,$.nZ=$.kB||($.kB={T5:(B,s,F)=>B<s?s:B>F?F:B,oc:L,jD:U,ED:A,oB:u,lB:N,bB:C,t5:p,w5:(B,s)=>{var F=s!=null;if(F){switch(s){case Array:F=B instanceof Array;break;case Boolean:F=typeof B=="boolean";break;case Number:F=typeof B=="number";break;case p:F=typeof B=="number"&&(B|0)===B;break;case String:F=typeof B=="string";break;default:F=!1}if(F)return B}throw f(m.QJ,JSON.stringify(B),s.name||JSON.stringify(s))},P5:(B,s)=>new Promise((F,I)=>{var l=Fy3.C_(()=>{I("Timed out")},s);B.then(K=>{Fy3.n_(l),F(K)},K=>{Fy3.n_(l),I(K)})}),yD:(B,s)=>{var F=Object.create(B);for(var I in s)F[I]=s[I];return s.toString!==Object.prototype.toString&&(F.toString=s.toString),F},H5:B=>{for(var s="",F=0;F<B.length;)s+=String.fromCharCode(h.indexOf(B.charAt(F++))<<4|h.indexOf(B.charAt(F++)));return s},M5:B=>B.reduce((s,F)=>s+String.fromCharCode(F),""),$r:O,AU:B=>O("0x"+B),lc:(B,s)=>{var F="";do F=h.charAt(B&15)+F,B>>>=4;while(B>0);if(s!=null)for(;F.length<s;)F="0"+F;return F},_r:B=>{var s;if(B?.includes(".")){if(s=B.split("."),s.length>4)return;for(;s.length<4;)s.splice(0,0,"");return s.reduce((K,R,k)=>{if(K!=null){var j=parseInt(R.length>0?R:"0");return isNaN(j)||j<0||j>255?null:(K|=j<<24-k*8,K)}},0)}if(B?.includes(":")){s=B.split(":");var F=B.indexOf("::");if(F!=B.lastIndexOf("::"))return;if(F>=0){var I=s.length;if(I>9)return;F=s.findIndex(K=>K.length==0),(F==0||F==I-2&&s[I-1].length==0)&&(s.splice(F,1),I--),s[F]="0";for(var l=0;l<8-I;l++)s.splice(F+1,0,"0")}return s.length!=8?void 0:s.reduce((K,R,k)=>{if(K!=null){var j=parseInt(R,16);if(!(isNaN(j)||j<0||j>65535))return K|=BigInt(j)<<112n-BigInt(k)*16n,K}},0n)}},Dr:B=>{var s=B?.__proto__.constructor.name,F,I;if(s=="BigInt"){var l={bc:-1,x_:0},K={bc:-1,x_:0};for(I=[],F=0;F<8;F++){var R=B&65535n;R==0?(K.x_==0&&(K.bc=7-F),K.x_++,K.x_>l.x_&&(l.x_=K.x_,l.bc=K.bc)):K.x_=0,I.splice(0,0,R.toString(16)),B>>=16n}l.x_>0&&(F=l.bc-l.x_+1,I.splice(F,l.x_-1),I[F]="");var k=I.join(":");return k.length==0?k="::":k.charAt(k.length-1)==":"?k+=":":k.charAt(0)==":"&&(k=":"+k),k}else if(s=="Number"){for(I=[],F=0;F<4;F++)I.splice(0,0,""+(B&255)),B>>=8;return I.join(".")}},Ny:B=>{if(B.length==43){for(var s=0n,F=0,I=252;F<43;F++,I-=6){var l=B.charCodeAt(F);if(l==45)l=0;else if(l==95)l=63;else if(l>=48&&l<=57)l-=47;else if(l>=65&&l<=90)l-=54;else if(l>=97&&l<=122)l-=60;else return;s|=BigInt(l)<<BigInt(I)}return s}},hy:B=>{var s=B?.__proto__.constructor.name;if(s=="BigInt"){for(var F="",I=0;I<43;I++){if(s=Number(B&63n),s==0)s=45;else if(s==63)s=95;else if(s>=1&&s<=10)s+=47;else if(s>=11&&s<=36)s+=54;else if(s>=37&&s<=62)s+=60;else return;F=String.fromCharCode(s)+F,B>>=6n}return F}},Xr:(B,s,F)=>!((B^s)&F),Qc:(B,s,F=!0)=>!B&&F?null:(typeof B=="string"&&(B=JSON.parse(B)),{lat:B?.lat||s?.lat||40,lon:B?.lon||s?.lon||40,flag:B?.flag||s?.flag||"tr"}),Yy:g})}),{jD:kD,ED:Lc}=z$,{W$:nc}=l$,cD={name:"ECDSA",namedCurve:"P-256"},xD={name:"ECDSA",hash:{name:"SHA-256"}};function sc($,_,D){try{return Fy3.rX.importKey("jwk",{crv:"P-256",ext:!0,key_ops:["sign"],kty:"EC",d:D,x:$,y:_},cD,!0,["sign"])}catch(r){return Promise.reject(r)}}function Ac($,_){try{return Fy3.rX.importKey("jwk",{crv:"P-256",ext:!0,key_ops:["verify"],kty:"EC",x:$,y:_},cD,!0,["verify"])}catch(D){return Promise.reject(D)}}function P$(){this.x=null,this.y=null,this.Cy=null,this.Oy=null}P$.QB=function(){try{return Fy3.rX.generateKey(cD,!0,["sign","verify"]).then(function($){var _=$.privateKey;return Fy3.rX.exportKey("jwk",_).then(function(D){var r=new P$;return r.x=D.x,r.y=D.y,r.Cy=D.d,r.Oy=_,r})})}catch($){return Promise.reject($)}};P$.jB=function($){var _=$.split(".");if(_.length!=4||_[0]!="idkey")return Promise.reject(nc(m.HJ));var D=_[1],r=_[2],c=_[3];return sc(D,r,c).then(function(f){var a=new P$;return a.x=D,a.y=r,a.Cy=c,a.Oy=f,a})};P$.EB=function($,_){try{var D=new kD(new DataView($.buffer,$.byteOffset,$.byteLength),!1);D.z();var r=D.m$(D.x$()),c=D.m$();D=new kD(new DataView(r.buffer,r.byteOffset,r.byteLength),!1);var f=D.O_(),a=D.O_(),L=D.m$();if(L.byteLength!=_.byteLength)return Promise.reject(null);for(var g=0;g<L.byteLength;g++)if(L[g]!=_[g])return Promise.reject(null);return Ac(f,a).then(function(U){return Fy3.rX.verify(xD,U,c,r)}).then(function(U){if(!U)throw null;return f})}catch(U){return Promise.reject(U)}};P$.prototype={mB:function(){return"idkey."+this.x+"."+this.y+"."+this.Cy},KB:function($){try{var _=Lc.D(1024);_.n(1);var D=_.d;_.K$(0);var r=_.d;_.z_(this.x),_.z_(this.y),_.M$($);var c=_.d-r;return _.Y.setUint16(D,c,_.l$),Fy3.rX.sign(xD,this.Oy,new Uint8Array(_.Y.buffer,_.Y.byteOffset+r,c)).then(function(f){return _.pc(f),_.Q$()})}catch(f){return Promise.reject(f)}}};var TD=P$,DD=H$(function($){function _(a,L,g,U,A,u,N){return new Promise(function(C,h){var O={method:g,body:A};a!=null&&(O.agent=a);var p=N||{};u!=null&&Object.assign(p,{"Content-type":u}),O.headers=p,Fy3.NJ(L,O).then(async B=>{B.status>=200&&B.status<300?C(await B[U]()):h("status: "+B.status)}).catch(B=>{h(B)})})}function D(a,L,g,U){return _(a,L,"GET",g,null,null,U)}function r(a,L,g){return D(a,L,"json",g).then(function(U){if(U.error!=null)throw U.error;return U.data})}function c(a,L,g,U,A){return _(a,L,"POST","json",g,U,A).then(function(u){if(u.error!=null)throw u.error;return u.data})}function f({L4:a,i_:L,n4:g,f_:U,ZB:A,EX:u,T_:N,mX:C,KX:h}){var O;if(U||Fy3.S_?.E5){var p={};U&&(p.agent=U);var B=A||{};Fy3.S_.E5&&Object.assign(B,{Origin:(Fy3.Y_.oX?"https":"http")+"://"+Fy3.Y_.Fc}),p.headers=B,O=new Fy3.Yc(a+"?token="+L,g,p)}else O=new Fy3.Yc(a+"?token="+L,g);return O.binaryType="arraybuffer",O.onopen=u,O.onclose=N,O.onerror=C,O.onmessage=h,O}$.nZ=$.qB||($.qB={zy:a=>D(a,Fy3.b5+"api/list","arrayBuffer"),vy:a=>r(a,Fy3.b5+"api/geo").then(L=>({lat:L.lat,lon:L.lon,flag:L.code.toLowerCase()})),Vy:({f_:a,i_:L,WB:g=""},U,A)=>c(a,Fy3.b5+"api/host","token="+L+"&rcr="+g,"application/x-www-form-urlencoded",{Accept:"*/*","Content-length":"11","Content-type":"application/x-www-form-urlencoded",Priority:"u=1, i","User-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"}).then(u=>{switch(u.action){case"connect":U(u.url,u.token);break;case"recaptcha":A(u.sitekey);break}}),s4:f})}),{W$:__}=l$,{yD:Uc}=z$;function F$(){this.D_=0}F$.cr=new Map;F$.xB=function($){if($.fD==null)throw __(m.xJ);$.prototype.fD=$.fD,F$.cr.set($.prototype.eventType,$)};F$.A=function($,_){var D=$?.ZX?.prototype?.eventType;if(D==null)throw __(m.TJ);_.n(D),$.A(_)};F$.U=function($,_){var D=K$.rr($.z());return D.N$=0,D.U($,_),D};F$.prototype={e:function(){throw __(m.QD)},U:function(){throw __(m.QD)},A:function(){throw __(m.QD)},copy:function(){throw __(m.QD)},ZX:F$};F$.prototype.eventType=null;function K$(){}K$.q=F$;K$.s$=function({$,J$:_,r$:D,Q:r,A$:c,U$:f,e:a,A:L,U:g}){function U(){this.D_=0,r.call(this)}return U.D=function(...A){return c(new U,...A)},U.prototype=Uc(F$.prototype,{e:function(A){a.call(this,A)},A:function(A){L.call(this,A)},U:function(A,u){g.call(this,A,u)},copy:function(){var A=U.D(...f.call(this));return A.D_=this.D_,A.N$=this.N$,A.X=this.X,A.yr=this.yr,to},ZX:U}),U.prototype.eventType=$,U.fD={J$:_,r$:D},F$.xB(U),U};K$.jc=function($,_){F$.cr.delete($.prototype.eventType),$.prototype.eventType=_,F$.cr.set(_,$)};K$.rr=$=>{var _=F$.cr.get($);if(_){var D=Object.create(_.prototype);return D.D_=0,D}};K$.Iy=F$.U;K$.Gy=F$.A;var Z$=K$,rD=H$(function($){var{W$:_}=l$,{s$:D}=Z$,r=D({$:m._4,J$:!1,r$:!1,Q:function(){this.$$=null,this.X_=null},A$:function(a,L,g){return a.$$=L,a.X_=g,a},U$:function(){var a,L=null;return this.$$&&(a=new ArrayBuffer(this.$$.byteLength),new Uint8Array(a).set(new Uint8Array(this.$$))),this.X_&&(L=new ArrayBuffer(this.X_.byteLength),new Uint8Array(L).set(new Uint8Array(this.X_))),[a,L]},e:function(a){a.TB(this.$$,this.X_)},A:function(a){a.S$(this.$$.byteLength),a.pc(this.$$),this.X_&&a.pc(this.X_)},U:function(a,L){this.$$=a.Ly(a.b$()),!L&&a.Y.byteLength>a.d&&(this.X_=a.Ly(a.Y.byteLength-a.d))}}),c=D({$:m.D4,J$:!1,r$:!1,Q:function(){this.$=0,this.JD=null,this.Ec=!1,this.X=0},A$:function(a,L,g,U){return a.$=L,a.JD=g,a.Ec=U,a},U$:function(){return[this.$,this.JD,this.Ec]},e:function(a){a.e_(this.X,128)&&a.tB(a.t(this.$),this.JD,this.Ec,a.t(this.X))},A:function(a){this.JD!=null&&(this.JD=this.JD.substring(0,100)),a.i(this.$),a.A_(this.JD),a.n(this.Ec?1:0)},U:function(a){if(this.$=a.S(),this.JD=a.s_(),this.Ec=a.z()!=0,this.JD!=null&&this.JD.length>100)throw _(m.tJ)}}),f=D({$:m.X4,J$:!1,r$:!1,Q:function(){this.CD=null,this.X=0},A$:function(a,L){return a.CD=L,a},U$:function(){return[this.CD.slice()]},e:function(a){this.X==0&&a.wB(this.CD)},A:function(a){a.S$(this.CD.length),this.CD.forEach(L=>a.S$(L))},U:function(a){var L=a.b$();this.CD=[];for(var g=0;g<L;g++)this.CD.push(a.b$())}});$.nZ=$.PB||($.PB={JX:r,aX:c,gX:f})});function tD(){}tD.py=function({Q:$,v_:_}){function D(){this.U_=-1,this.D$=null,this.$=0,this.L="Player",this.qX=0,this.h$=null,this.aD=!1,this.mD=null,this.t$=null,this.Sy=null,$?.call(this)}return D.v_=function(r,c,f){r.$=c.$,r.L=c.L,r.qX=c.qX,r.h$=c.h$,r.aD=c.aD,_?.(r,c,f)},D.prototype={V_:function(r){return r!=this.U_&&(this.D$||(this.D$=new D),this.U_=r,D.v_(this.D$,this,r)),this.D$}},D};var uc=tD,wD=H$(function($){var{b:_}=Fy3;function D(){this.I_=0,this.L="",this.h$="",this.WX=0,this.xX=0,this.u_=!1,this.mc=0,this.G=0}D.prototype={A4:function(){this.L=this.L.substring(0,40),this.h$=this.h$.substring(0,3)},A:function(c){this.A4(),c.l$=!0,c.K$(this.I_),c.J4(this.L),c.J4(this.h$),c.Uy(this.WX),c.Uy(this.xX),c.n(this.u_?1:0),c.n(this.mc),c.n(this.G),c.l$=!1},U:function(c){c.l$=!0,this.I_=c.x$(),this.L=c.y4(),this.h$=c.y4(),this.WX=c.sy(),this.xX=c.sy(),this.u_=c.z()!=0,this.mc=c.z(),this.G=c.z(),c.l$=!1,this.A4()}};function r(){this.$$=null,this.$="",this.c$=1/0}r.prototype={copy:function(){var c=new r;c.$=this.$,c.c$=this.c$;var{$$:f}=c,{$$:a}=this.$$;return f.I_=a.I_,f.L=a.L,f.h$=a.h$,f.WX=a.WX,f.xX=a.xX,f.u_=a.u_,f.mc=a.mc,f.G=a.G,c}},_(D,[],["version","name","flag","lat","lon","password","maxPlayers","players"],[]),_(r,[],["data","id","dist"],[]),$.nZ=$.HB||($.HB={U4:D,u4:r})}),{jD:T_,ED:t_}=z$,{q:oD}=Z$;function Rc($,{Q:_,Kc:D,Zc:r,qc:c,iy:f,ey:a}){function L(){this.r=new $.t_($),this.gD=[],this.TX=0,_?.call(this)}return L.prototype={MB:function(g){var U=0,A=new T_(new DataView(g.buffer),!1);D?.call(this,A),this.TX=A.n$();var u,N=Fy3.q$.inflateRaw(A.m$());A=new T_(new DataView(N.buffer,N.byteOffset,N.byteLength)),r?.call(this,A,this);var C=null;for(N=A.m$(),A=new T_(new DataView(N.buffer,N.byteOffset,N.byteLength),!1),this.r.U(A);A.d<A.Y.byteLength;)u=A.b$(),U+=u,u=A.x$(),C=oD.U(A,!0),C.X=u,C.frameNo=U,this.gD.push(C)},$d:function(){var g=t_.D(16384),U=0;this.r.A(g),this.gD.forEach(C=>{var h=C.frameNo;h<U||(g.S$(h-U),U=h,g.K$(C.X),oD.A(C,g))});var A=t_.D(1e3);f?.call(this,A,this),A.M$(g.Q$());var u=Fy3.q$.deflateRaw(A.Q$()),N=t_.D(u.byteLength+32);return c?.call(this,N),N.V$(this.TX),N.M$(u),N.Q$()},_d:function(g){var{r:U,gD:A,TX:u}=this,N=g?.beginFrameNo||0;N<0&&(N=0);var C=g?.endFrameNo||u-1;if(C>=u&&(C=u-1),!(C<N)){for(var h=0,O=0,p=A[0];O<N;){for(;O==p?.frameNo;)p.e(U),p=A[++h];O++,U.j$(1)}A=A.filter(B=>B.frameNo>=N&&B.frameNo<=C),A.forEach(B=>{B.frameNo-=N}),this.gD=A,a?.call(this,N,C),this.TX=C-N+1}},Dd:function(g){var{r:U,gD:A,TX:u}=this,N=g?.beginFrameNo||0;N<0&&(N=0);var C=g?.endFrameNo||u-1;if(C>=u&&(C=u-1),C<N)return Promise.resolve();var h=0,O=0,p=A[0];return new Promise((B,s)=>{var F;F=_setInterval(()=>{if(O>=N){_clearInterval(F),A=A.filter(I=>I.frameNo>=N&&I.frameNo<=C),A.forEach(I=>{I.frameNo-=N}),this.gD=A,a?.call(this,N,C),this.TX=C-N+1,B();return}for(;O==p?.frameNo;)p.e(U),p=A[++h];O++,U.j$(1)},0)})}},L}function PD(){}PD.Xd=Rc;var Fc=PD,{q:Nc}=Z$,{ED:w_}=z$;function hc({Q:$,qc:_,BX:D}){function r(c){this.cd=c?.N,this.dX=w_.D(1e3),this.Wc=w_.D(16384),this.r=c;var f=this,a=c.N;c.c.A(this.Wc),c.w_=L=>{var g=c.N;f.Wc.S$(g-a),a=g,f.Wc.K$(L.X),Nc.A(L,f.Wc)},$?.call(this)}return r.prototype={BX:function(){this.r.w_=null,D?.call(this),this.dX.M$(this.Wc.Q$());var c=Fy3.q$.deflateRaw(this.dX.Q$()),f=w_.D(c.byteLength+32);return _?.call(this,f),f.V$(this.r.N-this.cd),f.M$(c),f.Q$()}},r}function HD(){}HD.rd=hc;var Yc=HD;function MD(){this.$_=[]}MD.prototype={ky:function($){var _=0,{N$:D,D_:r}=$;this.$_.find(c=>{var f=c.N$;if(f>D)return!0;if(f==D){if(f=c.D_,f>r)return!0;f==r&&r++}_++}),$.D_=r,this.$_.splice(_,0,$)},yd:function($){var _=this.$_.findIndex(D=>D.N$>=$);_<0?this.$_.length=0:this.$_.splice(0,_)},fd:function($,_){var{$_:D}=this;if(D.length=0,$=$.$_,_=_.$_,$.length==0){_.forEach(U=>D.push(U));return}if(_.length==0){$.forEach(U=>D.push(U));return}for(var r=0,c=$.length,f=0,a=_.length;;){var L=$[r],g=_[f];if(L.N$<=g.N$){if(D.push(L),r++,r>=c){for(;f<a;)D.push(_[f++]);break}}else if(D.push(g),f++,f>=a){for(;r<c;)D.push($[r++]);break}}},Jd:function($){var _=0,{$_:D}=this;D.forEach(r=>{r.LX!=$&&(D[_++]=r)}),D.length=_},ad:function($){var _=this.$_.findIndex(D=>D.N$>=$);return _<0?this.$_.length:_}};var XD=MD,{W$:P_}=l$;function $X($){this.oy=new XD,this.nX=0,this.J_=0,this.OD=new XD,this.k_=0,this.zD=0,this.P_=.06,this.ly=16.666666666666668,this.fr=120,this.N=0,this.c=$,this.by=0,this.Qy=null}$X.prototype={vD:function(){throw P_(m.QD)},BD:function($=0){throw P_(m.QD)},E$:function(){throw P_(m.QD)},R4:function($){this.Qy=null;for(var{$_:_}=this.OD,D=0,r=_.length,c,f=0;f<$;f++){for(;D<r&&(c=_[D],c.N$==this.N);)c.e(this.c),this.w_?.(c),this.J_++,D++;this.c.j$(1),this.nX+=this.J_,this.J_=0,this.N++}for(;D<r&&(c=_[D],!(c.N$!=this.N||c.D_!=this.J_));)c.e(this.c),this.w_?.(c),this.J_++,D++;_.splice(0,D)},w:function($){$.N$==this.N&&$.D_<=this.J_?($.D_=this.J_++,$.e(this.c),this.w_?.($)):this.OD.ky($)},F4:function($,_){if($<=0)return this.c;$>this.fr&&($=this.fr);var D=this.Qy=this.c.V_(++this.by),r;_!=null?(this.oy.fd(this.OD,_),r=this.oy):r=this.OD,r=r.$_;for(var c=0,f=r.length,a=$|0,L=this.N,g=L+a;L<=g;L++){for(;c<f;){var U=r[c];if(U.N$>L)break;U.fD.J$&&U.e(D),c++}D.j$(L!=g?1:$-a)}return this.oy.$_.length=0,D},gd:function($){this.k_=$*this.P_|0,this.c.jy?.($)}};var o$=$X,{Vc:Cc,W$:Oc}=l$,{jD:H_,yD:zc}=z$,{q:vc}=Z$;function Vc($,{Kc:_,Zc:D,KD:r,VD:c}){function f(g,U,A){this.Jr=0,this.tX=-1,this.dD=0,this.Ey=0,this.LD=0,this.my=0,o$.call(this,U);var u=new H_(new DataView(g.buffer),!1);_?.call(this,u),this.Ky=u.n$();var N=Fy3.q$.inflateRaw(u.m$());this.wX=new H_(new DataView(N.buffer,N.byteOffset,N.byteLength)),D?.call(this,this.wX),N=this.wX.m$(),this.wX=new H_(new DataView(N.buffer,N.byteOffset,N.byteLength),!1),this.ar(),this.Ey=Fy3.p$.now(),this.zD=-1,this.UU=A,this.PX=null,this.Zy=null}f.prototype=zc(o$.prototype,{N4:function(){var{wX:g}=this;if(g.Y.byteLength>g.d){this.my+=g.b$();var U=g.x$();this.xc=vc.U(g,!0),this.xc.X=U}else this.xc=null},vD:function(){},BD:function(g=0){this.E$();var U=this.c.V_(++this.by);return U.j$(this.dD+g*this.P_|0),U},E$:function(){var g=Fy3.p$.now(),U=g-this.Ey;this.Ey=g;var A=!1,u=!1;this.tX>=0?(this.LD+=1e4,this.LD>this.tX&&(this.LD=this.tX,this.tX=-1,A=!0)):this.LD+=U*this.Jr;var N=this.Ky*this.ly;for(this.LD>N&&(this.LD=N,u=!0),U=this.LD*this.P_,N=U|0,this.dD=U-N;this.N<N;){for(;this.xc!=null&&this.my==this.N;)this.xc.e(this.c),this.w_?.(this.xc),this.N4();this.N++,this.c.j$(1)}A&&(this.PX.KD(),this.Zy?.onDestinationTimeReached?.()),u&&(this.Jr=0,this.PX.VD(),this.Zy?.onEnd?.())},h4:function(g){this.PX.VD(),this.tX=g,this.LD>g&&this.ar()},ar:function(){this.my=0,this.wX.d=0,this.N=0,this.LD=0,this.c.U(this.wX),this.N4()}});function a(g,U,A){var u=0,N=A?.requestAnimationFrame||Fy3.hc,C=A?.cancelAnimationFrame||Fy3.j5,h=U?.render,O=h&&function(){g.tX>0||h()},p=function(){u=N(p),g.E$(),O?.()};u=N(p),this.VD=function(){c?.(g)},this.KD=function(){r?.(g,U)},this.y$=function(){C(u),this.VD()},this.ar=()=>{g.ar()}}function L(g,U,A){var u,N=new $.t_($);try{u=new f(g,N,U),u.PX=new a(u,U,A)}catch(h){throw h instanceof Cc?h:Oc(m.wJ,h)}var C={state:N,extrapolate:h=>u.BD(h),getSpeed:()=>u.Jr,setSpeed:h=>{u.PX.KD(),u.Jr=h},getTime:()=>u.LD,length:()=>u.ly*u.Ky,setTime:h=>{u.h4(h)},getCurrentFrameNo:()=>u.N,setCurrentFrameNo:h=>{u.h4(u.ly*h)},destroy:()=>{u.PX.y$()}};return Object.defineProperty(C,"gameState",{get(){return N.J}}),Object.defineProperty(C,"currentPlayerId",{get(){return u.zD}}),Object.defineProperty(C,"maxFrameNo",{get(){return u.Ky}}),u.Zy=C,C}return L}function _X(){}_X.Bd=Vc;var Ic=_X,{Xd:Gc}=Fc,{rd:pc}=Yc,{Bd:Sc}=Ic;function ic($,{Kc:_,qc:D,$$:{Q:r,Zc:c,iy:f,ey:a},dd:{Q:L,BX:g},Ld:{KD:U,VD:A}}){var u=Gc($,{Q:r,Kc:_,qc:D,Zc:c,iy:f,ey:a});return{nd:u,sd:pc({Q:L,qc:D,BX:g}),Ad:Sc($,{Kc:_,Zc:c,KD:U,VD:A}),Ud:function(N){var C=new u;return C.MB(N),C},ud:function(N){return N.$d()},Rd:function(N,C){N?._d(C)},Fd:function(N,C){return N?.Dd(C)||Promise.resolve()}}}function DX(){}DX.qy=ic;var ec=DX,{oc:kc,jD:oc,ED:lD}=z$;function XX(){}XX.Wy=function($,{Q:_,v_:D,sX:r,j$:c,Nd:f,hd:a}){function L(){this.U_=-1,this.D$=null,this.L="",this.G=[],this.AX=$,_?.call(this)}return L.v_=function(g,U,A){if(g.L=U.L,!U.G)g.G=null;else{g.G||(g.G=[]);for(var u=g.G,N=U.G,C=N.length;u.length>C;)u.pop();for(var h=0;h<C;h++)u[h]=N[h].V_(A)}D?.(g,U,A)},L.prototype={wB:function(g){this.G.find((U,A)=>{if(A>=g.length)return!0;U.qX=g[A]}),this.xy?.(g)},tB:function(g,U,A,u){g?.$&&(kc(this.G,g),r?.call(this,g),this.sX?.(g,U,A,u))},Yd:function(g,U,A,u,N,C){var h=new this.AX.UX;h.$=g,h.L=U,h.h$=A,h.F$=u,h.mD=N,h.t$=C,this.G.push(h),this.Tc?.(h)},Ty:function(g,U,A){var u=this.t(g);u&&(u.Sy=U,this.ty?.(g,U,A))},t:function(g){return this.G.find(U=>U.$==g)},j$:function(g){c?.call(this,g)},A:function(g){g.A_(this.L),f?.call(this,g)},U:function(g){this.L=g.s_(),a?.call(this,g)},Y4:function(){var g=0,U=lD.D();for(this.A(U),U=U.f4();U.d<=U.Y.byteLength-4;)g^=U.S();return g},uU:function(){var g=lD.D(4);return g.i(this.Y4()),g.QX()},TB:function(g,U){this.C4?.(this.Y4()!=new oc(new DataView(g)).S(),U)},e_:function(g){return g==0||this.t(g)?.o_},V_:function(g){return g!=this.U_&&(this.D$||(this.D$=new this.AX.t_(this.AX)),this.U_=g,L.v_(this.D$,this,g)),this.D$}},L};var lc=XX,{b:v_}=Fy3,{_r:S$,Dr:bc,Xr:Qc,H5:jc}=z$,O_=340282366920938463463374607431768211455n;function d_(){this.gr=!1,this.value=null,this.l_=null}d_.D=function($,_){if($==null)return;let D=new d_,r=$.__proto__.constructor.name;return D.gr=r=="BigInt",D.value=$,D.l_=r!=_?.__proto__.constructor.name?D.gr?O_:-1:_,D};function m$(){this.$=null,this.W=null,this.value=null}m$.D=function($,_,D){var r=new m$;return r.$=$,r.W=_,r.value=D,r};m$.prototype={tc:function(){var $=new m$;return $.$=this.$,$.W=this.W,$.value=this.value.tc?this.value.tc():this.value,$}};function z_(){this.ZD=null,this.l_=null}z_.D=function($,_){var D=new z_;return D.ZD=$,D.l_=_,D};function D_(){this.wc=null,this.wy=null,this.uX=null,this.t$=null}D_.D=function($,_,D,r){var c=new D_;return c.wc=$,c.wy=_,c.uX=D,c.t$=r,c};D_.prototype={tc:function(){var $=new D_;return $.wc=this.wc,$.wy=this.wy,$.uX=this.uX,$.t$=this.t$,$}};function Ec($){var _=[],D=1,r=new Set,c=[];this.Br=L=>{var g=$.RX.get(L?.$)?._$;if(!(!g||_.findIndex(A=>A.W==m.bX&&A.value.wc==L.$)>-1)){var U=[];return g.FX&&U.push(jc(g.FX)),g.Pc.forEach(A=>{U.includes(A)||U.push(A)}),U.forEach(A=>{var u=S$(A);u&&c.push(d_.D(u))}),r.add(L.t$),_.push(m$.D(D,m.bX,D_.D(L.$,L.name,U,L.t$))),D++}},this.O4=(...L)=>L.map(g=>{var U=typeof g;if(U=="string")g={ZD:g};else if(U=="object")g={ZD:g.ip,l_:g.mask};else return;var A=S$(g.ZD);if(A==null)return;let u=A.__proto__.constructor.name=="BigInt";var N=S$(g.l_);A.__proto__.constructor.name!=N?.__proto__.constructor.name&&(N=u?O_:-1,g.l_=bc(N));for(var C=0;C<_.length;C++){let h=_[C];if(h.W==m.zc&&A==S$(h.value.ZD)&&N==S$(h.value.l_))return}return c.push(d_.D(A,N)),_.push(m$.D(D,m.zc,z_.D(g.ZD,g.l_))),D++}),this.Cd=(...L)=>L.map(g=>{if(!r.has(g))return _.push(m$.D(D,m.vc,g)),r.add(g),D++}),this.Py=L=>{let g=S$(L);if(g==null)return!1;let U=g.__proto__.constructor.name=="BigInt";for(var A=0;A<c.length;A++){let u=c[A];if(U==u.gr&&Qc(g,u.value,u.l_))return!0}return!1},this.Od=L=>r.has(L);let f=(L,g)=>{let U=S$(L);if(U==null)return;let A=U.__proto__.constructor.name=="BigInt";var u=S$(g);u==null&&(u=A?O_:-1);let N=u==(A?O_:-1);for(var C=[],h=0;h<c.length;h++){let O=c[h];A==O.gr&&U==O.value&&u==O.l_&&C.push(h)}for(;C.length>0;)c.splice(C.pop(),1);for(C.length=0,_.forEach((O,p)=>{N&&O.W==m.bX&&O.value.uX.findIndex(B=>S$(B)==U)>-1?(O.W=m.vc,O.value=O.value.t$):O.W==m.zc&&U==S$(O.value.ZD)&&u==S$(O.value.l_)&&C.push(p)});C.length>0;)_.splice(C.pop(),1)},a=L=>{r.delete(L);var g=[],U=[];for(_.forEach((A,u)=>{A.W==m.bX&&L==A.value.t$?(U.splice(U.length,0,...A.value.uX),g.push(u)):A.W==m.vc&&L==A.value&&g.push(u)});g.length>0;)_.splice(g.pop(),1);this.O4(...U)};this.zd=L=>{var g=_.findIndex(u=>u.$==L);if(g<0)return!1;var{W:U,value:A}=_.splice(g,1)[0];switch(U){case m.bX:A.uX.forEach(u=>{f(u)}),a(A.t$);break;case m.zc:f(A.ZD,A.l_);break;case m.vc:a(A);break}return!0},this.Hy=L=>{var g=_.findIndex(A=>A.W==0&&A.value?.wc==L);if(g<0)return!1;var{value:U}=_.splice(g,1)[0];return U.uX.forEach(A=>{f(A)}),a(U.t$),!0},this.vd=()=>{r.clear(),c.length=0,_.length=0},this.Vd=()=>_.map(L=>L.tc())}v_(d_,[],["ipv6","value","mask"],[]);v_(m$,[],["id","type","value"],[]);v_(z_,[],["ip","mask"],[]);v_(D_,[],["pId","pName","ips","auth"],[]);var mc=Ec,cX=H$(function($){function D(r){this.dr=!0,r.z4(),this.Y$=r.Y$,this.qD=r.qD,this.Pc=r.Pc,this.FX=r.FX,this.v4=Fy3.p$.now(),this.V4=r.$;var c=this,f,f=function(){var a=1e4-(Fy3.p$.now()-c.v4);a<=0?c.y$():(Fy3.n_(c.I4),c.I4=Fy3.C_(f,a+1e3))};f(),this.Y$.oniceconnectionstatechange=function(){var a=c.Y$.iceConnectionState;a!="closed"&&a!="failed"||c.y$()},this.qD.forEach(a=>{a.onmessage=function(L){c.dr&&(c.v4=Fy3.p$.now(),c.KX?.(L.data))},a.onclose=function(){c.y$()}})}D.prototype={R_:function(r,c){if(this.dr){var f=this.qD[r];if(f.readyState=="open")try{f.send(c.QX())}catch{}}},y$:function(){Fy3.n_(this.I4),this.dr&&(this.dr=!1,this.Y$.close(),this.Lr?.())}},$.nZ=$.Id||($.Id={G4:[{L:"c1",My:!0,$f:!0},{L:"c2",My:!0,$f:!1},{L:"c3",My:!1,$f:!1}],p4:D})}),{b:Kc}=Fy3,{P5:Zc}=z$;function L_($,_,D){this.HX=null,this.FX=null,this.Pc=[],this.S4=0,this.i4=!1,this.nr=[],this.qD=[],this.Y$=_&&new Fy3.YJ({iceServers:_},L_.Gd);var r=this;this._f=new Promise(c=>{r.pd=c}),this.$=$,_&&(this.Y$.onicecandidate=function(c){if(!c.candidate){r.pd(r.nr);return}c=c.candidate,c.candidate&&(r.Df?.(c),r.nr.push(c))},D.forEach(c=>r.Sd(c)))}L_.Gd={mandatory:{OfferToReceiveAudio:!1,OfferToReceiveVideo:!1}};L_.prototype={Xf:function($=1e4){Fy3.n_(this.HX),this.HX=Fy3.C_(this.sr.bind(this),$)},id:function($,_){var D=this;this.e4(this.Y$.setRemoteDescription($).then(()=>D.Y$.createAnswer()),_,500)},ed:function(){this.e4(this.Y$.createOffer(),[],1e3)},e4:function($,_,D){var r=this;$.then(c=>r.Y$.setLocalDescription(c).then(()=>c)).then(c=>(_.forEach(f=>r.k4(f)),Zc(r._f,D).then(()=>c,()=>c))).then(c=>{r.Hc(c)}).catch(()=>{r.Ar()})},Sd:function($){var _=this,D={id:this.qD.length,negotiated:!0,ordered:$.$f};$.My||(D.maxRetransmits=0);var r=this.Y$.createDataChannel($.L,D);r.binaryType="arraybuffer",r.onopen=function(){_.qD.find(c=>c.readyState!="open")||_.Mc?.()},r.onclose=this.Ar,r.onmessage=this.Ar,this.qD.push(r)},k4:function($,_){var D=this;Fy3.C_(()=>{try{D.Y$?.addIceCandidate($).catch(r=>_?.(r))}catch{}},this.S4)},sr:function(){this.Ar()},Ar:function(){this.MX?.(),this.y$?.()},y$:function(){if(this.Y$){this.z4();var $=this.Y$;this.Y$=null,Promise.resolve().then(()=>$.close())}},z4:function(){Fy3.n_(this.HX),this.Hc=this.Mc=this.Df=this.MX=null,this.Y$.onicecandidate=null,this.Y$.ondatachannel=null,this.Y$.onsignalingstatechange=null,this.Y$.oniceconnectionstatechange=null,this.qD.forEach($=>{$.onopen=null,$.onclose=null,$.onmessage=null})}};Kc(L_,[],[null,null,null,null,null,null,null,null,null,"id"],[]);var rX=L_,{q:h_}=Z$,{W$:E$}=l$,{oc:bD,jD:g_,ED:A$,oB:qc,bB:QD,T5:jD,yD:Wc,M5:xc,lc:Tc}=z$,{JX:tc}=rD,{G4:wc,p4:Pc}=cX,Hc=2e4;function Mc($){function _(c,f){this.F_=c,this.cf=!1,this.$c=!1,this.Ur=!1,this.WD=null,this.$="",this.rf=null,this.NX=new Map,this.i_=f||"",this.$5=new Map,this.ur()}_.o4=function(c){try{if(c=c.candidate.split(" "),c[6]!="typ")throw null;if(c[7]=="srflx")return c[4]}catch{}return null},_.prototype={y$:function(){if(Fy3.n_(this.rf),Fy3.n_(this._c),this._c=null,Fy3.Nc(this.l4),this.X$!=null)try{this.X$.onmessage=null,this.X$.onerror=null,this.X$.onclose=null,this.X$.onopen=null,this.X$.close(),this.X$=null}catch{}this.b4()},yf:function(c){if(!(!this.WD&&!c)){var f=this;if(this.WD!=null&&c!=null&&this.WD.byteLength==c.byteLength){var a=new Uint8Array(this.WD),L=new Uint8Array(c);if(a.findIndex((g,U)=>g!=L[U])<0)return}this.WD=c.slice(0),this.Ur=!0,this.X$!=null&&this.X$.readyState==1&&!this._c&&(this.ff(),this._c=Fy3.C_(function(){f._c=null,f.X$.readyState==1&&f.Ur&&f.ff()},1e4))}},Jf:function(c){var f=this;function a(){f.X$!=null&&f.X$.readyState==1&&f.$c!=f.cf&&f.Q4(),f.j4=null}this.$c=c,!this.j4&&(a(),this.j4=Fy3.C_(a,1e3))},ur:function(c){var f=this;DD.Vy({f_:f.F_.g$.f_,i_:c||this.i_||""},(a,L)=>{if(f.F_.Rr.useRecaptchaToken=null,!a||!L)throw null;Fy3.S_?.Oc&&(a=Fy3.S_?.Oc),a.endsWith("host")||(a.endsWith("/")||(a+="/"),a+="host"),f.X$=DD.s4({L4:a,i_:L,n4:$?.(f.F_.g$)||[],f_:f.F_.g$.f_,ZB:{"Cache-control":"no-cache",Pragma:"no-cache","User-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"},EX:function(){f.kd()},T_:function(g){f._5(g.code!=4001)},mX:function(g){f._5(!0),f.F_.g$.T_?.(E$(m.ay,g))},KX:f.af.bind(f)})},a=>{if(!a)throw null;f.F_.Rr.useRecaptchaToken=L=>{f.F_.Rr.useRecaptchaToken=null,f.ur(L)},f._5(!1),f.F_.g$.T_?.(E$(m.Jy,a))}).catch(function(a){f.F_.Rr.useRecaptchaToken=null,f._5(!0),f.F_.g$.T_?.(E$(m.ay,a))})},kd:function(){var c=this;this.WD!=null&&this.ff(),this.$c!=0&&this.Q4(),this.l4=Fy3.Q5(function(){c.od()},4e4)},af:function(c){var f=new g_(new DataView(c.data),!1);switch(f.z()){case 1:this.gf(f);break;case 4:this.Bf(f);break;case 5:this.ld(f);break;case 6:this.bd(f);break;case 111:this.Qd(f);break}},E4:function(c,f){var a=this.$5.get(c._$.V4);if(a)return f&&this.F_.c.Ty(c.$,a),this.$5.delete(c._$.V4),a},Qd:function(c){var f=null,a;try{f=c.n$(),a=c.Gc(),f==2e9?this.F_.c.Ty(0,a):this.$5.set(f,a)}catch{f!=null&&this.Dc(f,4111)}},gf:function(c){var f=c.n$(),a=xc(c.m$(c.z()));try{c=new g_(new DataView(Fy3.q$.inflateRaw(c.m$()).buffer),!1);var L=c.z()!=0,g=c.O_(),U=[];c.Gc().forEach(A=>U.push(new Fy3.Cc(A))),this.jd(f,a,g,U,c,L)}catch{this.Dc(f,0)}},jd:function(c,f,a,L,g,U){var A=this;if(this.NX.size>=16){this.Dc(c,4104);return}else if(this.b_.Py(f)){this.Dc(c,4102);return}for(var u=[],N=0;N<L.length;N++){var C=_.o4(L[N]);if(C!=null){if(this.b_.Py(C)){this.Dc(c,4102);return}u.push(C)}}var h=this.df?.(g);if(h!=null){this.Dc(c,h);return}var O=new rX(c,Fy3._y,wc);for(U&&(O.S4=2500),O.Pc=u,O.FX="",N=0;N<f.length;N++)O.FX+=Tc(f.charCodeAt(N));this.NX.set(c,O),O.MX=()=>{A.ID(0,O,null),A.NX.delete(O.$),A.$5.delete(O.$)},O.Mc=()=>{A.NX.delete(O.$),A.ID(0,O,null),A.Lf?.(new Pc(O))},O.Hc=p=>{A.nf(O,p,O.nr,null),O._f.then(()=>{A.ID(0,O,null)}),O.Df=B=>{A.sf(O,B)}},O.Xf(),O.id(new Fy3.Xy({sdp:a,type:"offer"}),L)},Bf:function(c){var f=c.n$(),a;try{c=new g_(new DataView(Fy3.q$.inflateRaw(c.m$()).buffer),!1),a=new Fy3.Cc(c.Gc())}catch{return}this.Ed(f,a)},Ed:function(c,f){var a=this.NX.get(c);if(a){var L=_.o4(f);L!=null&&(a.Pc.push(L),this.b_.Py(L))||a.k4(f)}},ld:function(c){this.$=c.yX(c.z()),this.Af?.(this.$)},bd:function(c){this.i_=c.yX(c.Y.byteLength-c.d)},ID:function(c,f,a){if(!f.i4){c==0&&(f.i4=!0);var L=A$.D(32,!1);L.n(c),L.V$(f.$),a!=null&&L.M$(Fy3.q$.deflateRaw(a.Q$())),this.X$.send(L.fX())}},Dc:function(c,f){this.$5.delete(c);var a=A$.D(16,!1);a.n(0),a.V$(c),a.K$(f),this.X$.send(a.fX())},od:function(){var c=A$.D(1,!1);c.n(8),this.X$.send(c.fX())},ff:function(){this.Ur=!1;var c=A$.D(256,!1);c.n(7),this.WD!=null&&c.pc(this.WD),this.X$.send(c.fX())},Q4:function(){var c=A$.D(2,!1);c.n(this.F_.g$?.I_),c.n(this.$c?1:0),this.X$.send(c.fX()),this.cf=this.$c,this.F_.g$?._onRoomRecaptchaModeChange?.(this.$c)},nf:function(c,f,a,L){var g=A$.D(32,!1);g.z_(f.sdp),g.W5(a),L!=null&&g.M$(L.Q$()),this.ID(1,c,g)},sf:function(c,f){var a=A$.D(32,!1);a.W5(f),this.ID(4,c,a)},b4:function(){for(var c of this.NX)c[1].y$();this.NX.clear()},_5:function(c){this.b4(),Fy3.n_(this._c),this._c=null,this.Ur=!1,Fy3.Nc(this.l4),Fy3.n_(this.rf);var f=this;c&&(this.rf=Fy3.C_(()=>f.ur(),Hc))}};function D(c){this.m4=new qc(15),this.Uf=0,this.K4=new Map,this.md=new QD(100,16),this.GD=!1,this.qX=0,this._$=c;var f=A$.D(8);f.R(Math.random()),this.D5=f.Q$()}D.prototype={R_:function(c,f=0){this._$.R_(f,c)}};function r(c,f){this.Rr=c,this.u_=null,this.hX=32,this.RX=new Map,this.G_=[],this.xD=4,this.Kd=600,o$.call(this,f),this.Zd=1,this.Z4=0,this.Xc=!1,this.Fr=!0,this.X5=null,this.cc=null,this.YX=0,this.P=null,this.g$=null}return r.prototype=Wc(o$.prototype,{CX:function(c){this.YX=Fy3.p$.now(),this.P=new _(this,c),this.P.b_=new mc(this),this.P.df=this.df.bind(this);var f=this;this.P.Lf=function(a){f.Lf(a)},this.P.Af=function(a){f.Af?.(a)}},y$:function(){this.P.y$(),this.G_.forEach(({_$:c})=>{c.Lr=null,c.KX=null,c.y$()}),this.g$=null},qd:function(c,f,a,L){var g=this.RX.get(c.$);if(g){L&&this.P.b_.Br(c);var U=A$.D();U.n(5),U.n(L?1:0),U.z_(f),U.z_(a||""),g.R_(U),g._$.y$()}},Wd:function(){this.P.b_.vd()&&this.g$?._onBansClear?.()},xd:function(c){this.P.b_.Hy(c)&&this.g$?._onBanClear?.(c)},Td:function(c){return this.P.b_.Br(c)},td:function(...c){return this.P.b_.O4(...c)},wd:function(...c){return this.P.b_.Cd(...c)},Pd:function(c){return this.P.b_.zd(c)},yf:function(c){this.P.yf(c)},Jf:function(c){this.P.Jf(c)},vD:function(c){c.N$=c.fD.r$?this.N+this.xD+this.k_:this.N,this.w(c),this.Nr(!0),this.G_.length>0&&this.c5(this.hr(c),1)},q4:function(c,f,a){if(c.X=f,a)c.e(this.c),this.Hd(c,1);else{if(this.G_.length==0)return;c.N$=c.fD.r$?this.N+this.xD+this.k_:this.N,this.w(c),this.Nr(),this.c5(this.hr(c),1)}},uf:function(c,f,a){if(f==0){c.e(this.c);return}var L=this.RX.get(f);if(L){a||(c.X=0);var g=A$.D();g.n(6),h_.A(c,g),L.R_(g,0)}},E$:function(){var c=((Fy3.p$.now()-this.YX)*this.P_|0)-this.N;c>0&&this.R4(c),this.N-this.W4>=7&&this.Nr(!0),this.N-this.Z4>=this.Kd&&(this.Nr(!0),this.Md())},BD:function(c=0){return this.k_<0&&(this.k_=0),this.F4((Fy3.p$.now()-this.YX+c)*this.P_-this.N+this.xD+this.k_)},df:function(c){if(!this.Xc&&this.G_.length>=this.hX)return 4100;try{if(c.x$()!=this.g$?.I_)throw null}catch{return 4103}try{var f=c.s_();if(this.u_!=null&&f!=this.u_)throw null}catch{return 4101}},Lf:function(c){var f=this;if(!this.Xc&&this.G_.length>=this.hX){c.y$();return}var a=new D(c);this.G_.push(a),c.KX=g=>{f.$L(new g_(new DataView(g)),a)},c.Lr=()=>{bD(f.G_,a),f.RX.delete(a.$),f.sX?.(a.$)};var L=A$.D(a.D5.byteLength+1);L.n(0),L.S$(a.D5.byteLength),L.M$(a.D5),a.R_(L)},hr:function(c){var f=A$.D();return f.n(2),this.Rf(c,f),f},Rf:function(c,f){f.V$(c.N$),f.S$(c.D_),f.K$(c.X),f.V$(c.LX),h_.A(c,f)},Nr:function(c){if(!(this.N<=this.W4||this.G_.length==0)){var f=A$.D();f.n(3),f.V$(this.N),f.V$(this.nX),this.c5(f,2),c&&this._L?.(f),this.W4=this.N}},c5:function(c,f=0){this.G_.forEach(a=>{a.GD&&a.R_(c,f)})},Hd:function(c){var f=A$.D();f.n(6),h_.A(c,f);var a=this.g$.r5;this.G_.forEach(L=>{L.GD&&a.has(L.$)&&L.R_(f,0)})},DL:function(c){var f=A$.D();f.n(1);var a=A$.D();a.K$(c.$),a.V$(this.N),a.V$(this.nX),a.S$(this.J_),this.c.A(a);var L=this;this.OD.$_.forEach(g=>{L.Rf(g,a)}),f.M$(Fy3.q$.deflateRaw(a.Q$())),c.R_(f)},XL:function(c){c.V$(this.N),c.V$(this.nX),c.S$(this.J_),this.c.A(c);var f=this;this.OD.$_.forEach(a=>{f.Rf(a,c)})},cL:function({$:c},f){this.c.G.forEach(a=>{a.Sy&&this.g$.setPlayerIdentity(a.$,a.Sy,c)}),f&&this.c.G.forEach(a=>{a.$!=0&&a.$!=c&&this.g$.setPlayerIdentity(c,f,a.$)})},Md:function(){if(this.Z4=this.N,this.G_.length!=0){var c=A$.D();this.c.A(c);for(var f=0,a=c.f4();a.d<=a.Y.byteLength-4;)f^=a.S();a=A$.D(4),a.i(f);var L=tc.D(a.QX(),this.g$.y5?c.QX():null);L.N$=this.N,L.D_=this.J_++,L.X=0,this.c5(this.hr(L))}},rL:function(c,f){var a=this,L=c.m$(c.b$()),g=c.m$(c.b$()),U=f.D5;f.D5=null,TD.EB(L,U).catch(()=>null).then(A=>{try{if(a.P.b_.Od(A))throw E$(m.$4,A);if(a.G_.indexOf(f)<0)return;var u=a.Zd++;f.$=u,a.RX.set(u,f),(a.Tc?.(u,new g_(new DataView(g.buffer,g.byteOffset,g.byteLength),!1),f._$.FX,A)||Promise.resolve()).then(()=>{f.GD=!0,a.DL(f),Fy3.C_(()=>{a.cL(f,a.P.E4(f,1))},1e3)}).catch(N=>{a.mX(f,N)})}catch(N){a.mX(f,N)}})},$L:function(c,f){this.E$();try{if(!f.md.d4())throw E$(m.gy,f.$);var a=c.z();if(f.GD)switch(a){case 1:this.yL(c,f);break;case 2:this.fL(c,f);break;default:throw E$(m.By,f.$)}else if(a==0)this.rL(c,f);else throw E$(m.By,f.$);if(c.Y.byteLength>c.d)throw E$(m.fy,f.$)}catch(L){this.mX(f,L)}},mX:function(c,f){this.JL?.(f,c.$),this.P.E4(c,0),this.RX.delete(c.$),bD(this.G_,c),c.GD&&this.aL?.(c.$),c._$.y$()},fL:function(c,f){var a=c.h(),L=this.g$?._modifyPlayerPing;L&&(f.qX=L(f.$,c.b$()));var g=A$.D();g.n(4),g.R((Fy3.p$.now()-this.YX)*this.P_+this.xD),g.R(a),f.R_(g,2)},yL:function(c,f){var a=c.n$(),L=c.n$(),g=h_.U(c),U=g.fD.Yr;if(U!=null){var A=f.K4.get(U);if(A||(A=new QD(U.Cr,U.Or),f.K4.set(U,A)),!A.d4())throw E$(m.gy,f.$,g)}var u=jD(a,this.N,this.N+20);if(g.fD.r$){var N=this.N+this.xD,C=a-N;C<-this.xD-3?u=N:f.m4.pB(jD(C,-this.xD,this.xD)),u<N&&f.m4.SB()<-.85&&(u=N),u<f.Uf&&(u=f.Uf),f.Uf=u}g.X=f.$,g.LX=L,g.N$=u,this.g$?.gL(g,a)&&(this.w(g),this.c5(this.hr(g),1))}}),r}var $5=Mc,{OJ:_5,zJ:ED,vJ:D5,VJ:B_,ry:X5}=m,R$=m,{q:M_}=Z$,{W$:i$}=l$,{jD:Y_,ED:t$,lB:mD,yD:c5}=z$,{G4:r5,p4:y5}=cX,KD={4001:R$.pJ,4004:R$.Jy,4100:R$.SJ,4101:R$.iJ,4102:R$.eJ,4103:R$.kJ};function f5($){function _(r,c,f,a){this.g$=r,this.GD=!1,this.f5=!1;var L=this;this._$=new rX(0,Fy3._y,r5),this._$.MX=function(){L.rc(i$(R$.oJ))},this._$.Mc=function(){L.Mc?.(new y5(L._$)),L._$=null,L.sr()},this._$.Hc=function(g){L.x4=g;var U=Fy3.S_?.Oc||Fy3.RJ;U.endsWith("client")||(U.endsWith("/")||(U+="/"),U+="client");var A=$?.(r.g$)||[];if(r.f_||Fy3.S_?.E5){var u={},N={"Cache-control":"no-cache",Pragma:"no-cache","User-agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/133.0.0.0 Safari/537.36"};r.f_&&(u.agent=r.f_),Fy3.S_.E5&&Object.assign(N,{Origin:(Fy3.Y_.oX?"https":"http")+"://"+Fy3.Y_.Fc}),u.headers=N,L.X$=new Fy3.Yc(U+"?id="+c+(a==null?"":"&token="+a),A,u)}else L.X$=new Fy3.Yc(U+"?id="+c+(a==null?"":"&token="+a),A);L.X$.binaryType="arraybuffer",L.X$.onclose=function(C){var h=O=>KD[O]?i$(KD[O]):i$(R$.m5,O);L.GD||L.rc(h(C.code))},L.X$.onerror=function(C){L.GD||L.rc(i$(R$.K5))},L.X$.onmessage=L.af.bind(L),L.X$.onopen=function(){L.BL?.(),L._$.Xf(),L.nf(L.x4,L._$.nr,f),L._$.Df=L.sf.bind(L),L._$._f.then(function(){L.ID(0,null)})}},this._$.ed()}_.prototype={dL:function(){this.rc(i$(R$.yy))},sr:function(){if(this.X$!=null)try{this.X$.onclose=null,this.X$.onmessage=null,this.X$.onerror=null,this.X$.onopen=null,this.X$.close(),this.X$=null}catch{}this._$!=null&&(this._$.y$(),this._$=null)},rc:function(r){this.MX?.(r),this.sr()},af:function(r){var c=new Y_(new DataView(r.data)),f=c.z();switch(c.Y.byteLength>c.d&&(c=new Y_(new DataView(Fy3.q$.inflateRaw(c.m$()).buffer),!1)),f){case 1:{var a=[],L=c.O_();c.Gc().forEach(g=>{a.push(new Fy3.Cc(g))}),this.gf(L,a);break}case 4:{this.Bf(new Fy3.Cc(c.Gc()));break}}},gf:function(r,c){var f=this;this._$.Xf(this.f5?1e4:4e3),this.GD=!0,this.Hc?.(),this._$.Y$.setRemoteDescription(new Fy3.Xy({sdp:r,type:"answer"}),()=>{c.forEach(a=>{try{f._$.Y$?.addIceCandidate(a).catch(()=>{})}catch{f.rc(i$(R$.K5))}})},()=>{f.rc(i$(R$.K5))})},Bf:function(r){try{this._$.Y$?.addIceCandidate(r).catch(()=>{})}catch{}},ID:function(r,c){if(this.X$){var f=t$.D(32,!1);f.n(r),c!=null&&f.M$(Fy3.q$.deflateRaw(c.Q$())),this.X$.send(f.fX())}},nf:function(r,c,f){var a=t$.D(32,!1);a.n(this.f5?1:0),a.z_(r.sdp),a.W5(c),f!=null&&a.M$(f.Q$()),this.ID(1,a)},sf:function(r){var c=t$.D(32,!1);c.W5(r),this.ID(4,c)}};function D(r,c){this.Ff=[],this.J5=[],this.zr=new XD,this.LL=1,this.T4=0,this.OX=null,this.Nf=new mD(50),this.vr=new mD(50),this.nL=1e3,o$.call(this,r),this.Vr=null,this.sL=c,this.g$=null}return D.prototype=c5(o$.prototype,{CX:function(r,c,f,a){var L=this;this.a5(_5);var g=t$.D();g.K$(this.g$.I_),g.A_(c),this.P=new _(this,r,g,f),this.P.f5=a,this.P.Mc=function(A){L.P=null,L._$=A,A.KX=function(u){L.AL(new Y_(new DataView(u)))},A.Lr=function(){L.OX!=B_&&L.g5?.(i$(R$.m5)),L.y$()},L.HX=Fy3.C_(function(){L.g5?.(i$(R$.GJ)),L.y$()},1e4),L.a5(D5,L._$.Y$.remoteDescription.sdp)},this.P.BL=function(){L.a5(ED,L.P.x4.sdp)};var U=!1;this.P.Hc=function(){U=!0},this.P.MX=function(A){!a&&L.OX==ED&&U?(L.g$.Ir?.(R$.CJ),L.CX(r,c,f,!0)):(L.P.MX=null,L.g5?.(A),L.y$(A))}},y$:function(r){this.P!=null&&(this.P.dL(),this.P=null),Fy3.n_(this.HX),this._$!=null&&(this._$.Lr=null,this._$.y$(),this._$=null),this.a5(X5,r||i$(R$.m5)),this.g$=null},a5:function(r,c){this.OX!=r&&(this.OX=r,this.g$.Ir?.(r,c),this.zX?.(r,c))},t4:function(){return this.OX==B_},E$:function(){this.t4()&&Fy3.p$.now()-this.T4>this.nL&&this.UL(),this.dD=Fy3.p$.now()*this.P_+this.Nf.x5(.5)-this.N,this.w4()},BD:function(r=0){return this.t4()?(this.k_<0&&(this.k_=0),this.F4((Fy3.p$.now()+r)*this.P_+this.Nf.x5(.5)-this.N+this.k_,this.zr)):this.c},w4:function(){this.dD<0&&(this.dD=0),this.dD>this.fr&&(this.dD=this.fr)},AL:function(r){switch(r.z()){case 0:this.uL(r);break;case 1:this.RL(r);break;case 2:this.FL(r);break;case 3:this.NL(r);break;case 4:this.hL(r);break;case 5:this.YL(r);break;case 6:this.CL(r);break}},uL:function(r){var c=this,f=r.m$(r.b$());(this.sL?.KB(f)||Promise.resolve(null)).catch(()=>null).then(a=>{c.OL(a)})},RL:function(r){var c=Fy3.q$.inflateRaw(r.m$());for(r=new Y_(new DataView(c.buffer,c.byteOffset,c.byteLength)),this.zD=r.x$(),this.N=r.n$(),this.nX=r.n$(),this.J_=r.b$(),this.dD=10,this.c.U(r);r.d<r.Y.byteLength;)this.w(this.P4(r));Fy3.n_(this.HX),this.a5(B_)},OL:function(r){var c=t$.D();c.n(0),r?(c.S$(r.byteLength),c.M$(r)):c.S$(0),c.S$(this.Vr.byteLength),c.pc(this.Vr),this.R_(c),this.Vr=null},R_:function(r,c=0){this._$.R_(c,r)},P4:function(r){var c=r.n$(),f=r.b$(),a=r.x$(),L=r.n$(),g=M_.U(r);return g.X=a,g.LX=L,g.N$=c,g.D_=f,g},FL:function(r){var c=this.P4(r);this.w(c),c.X==this.zD&&this.zr.Jd(c.LX),this.H4()},CL:function(r){var c=M_.U(r);c.X=0,c.LX=0,c.e(this.c),this.w_?.(c)},NL:function(r){this.J5.push({Gr:r.n$(),zL:r.n$()}),this.H4()},H4:function(){if(this.OX==B_){var r=this;this.J5.forEach(f=>{f.Gr<=r.N||f.zL==r.nX+r.J_+r.OD.ad(f.Gr)&&r.vL(f.Gr-r.N)});var c=0;this.J5.forEach(f=>{f.Gr>r.N&&(r.J5[c++]=f)}),this.J5.length=c,this.zr.yd(this.N)}},YL:function(r){var c=r.z()!=0,f=r.O_(),a="";r.Y.byteLength>r.d&&(a=r.O_()),this.y$(i$(R$.bJ,f,c,a))},hL:function(r){var c=r.h(),f=r.h(),a=Fy3.p$.now()-f;this.Nf.a4(c-f*this.P_),this.vr.a4(a),c=0,this.Ff.findIndex(L=>{if(L>f)return!0;this.VL?.(L<f?-1:a),c++}),this.Ff.splice(0,c)},UL:function(){var r=Fy3.p$.now();this.T4=r,this.Ff.push(r);var c=this.vr.x5(.5)|0,f=this.g$?._modifyClientPing;f&&(c=f(c));var a=t$.D();a.n(2),a.R(r),a.S$(c),this.R_(a,2)},vL:function(r){this.R4(r),this.dD-=r,this.w4()},vD:function(r,c,f,a=!0){if(!(a&&this.OX!=B_)){var L=this.LL++,g=0;this.k_<0&&(this.k_=0),r.fD.r$&&(g=this.N+(this.dD|0)+this.k_);var U=t$.D();U.n(1),U.V$(g),U.V$(L),M_.A(r,U),this.R_(U),r.fD.J$&&(r.LX=L,r.X=this.zD,r.N$=g,this.zr.ky(r))}}}),D}var J5=f5,{FJ:a5}=Fy3,{W$:C_}=l$,{Qc:g5,ED:B5}=z$,{U4:d5}=wD,{aX:ZD,gX:L5}=rD;function yX(){}yX.hf=function($,{Q:_,IL:D,GL:r,pL:c,SL:f,iL:a,eL:L,kL:g,oL:U,lL:A,bL:u,QL:N}){let C=$5(r),h=J5(r);function O(s,F){var I=s.id,l=s.password,K=s.token,R=s.authObj;if(!I||!R)throw C_(m.PJ);var k=D(F),j={};l==""&&(l=null);try{var n$=k.B5.f5,i=new $.t_($),V=new h(i,R);V.M4=X$=>{V.M4=null,c?.(o,X$),o.$a?.call?.(o,X$)};var o=new $.yc(k,V);V.Vr=f?.(k.B5),V.g$=o,V.CX(I,l,K,n$),j.cancel=()=>{V.zX=null,V.g5=null,V.y$(C_(m.yy))};var t=X$=>{j.cancel=null,c?.(o,X$),V.M4?.(X$)};V.g5=X$=>{V.g5=null,V.zX=null,t(X$)},V.zX=X$=>{X$==3&&(j.cancel=null,o.CX(),o.d5=I,V.VL=J$=>{o._onPingChange?.(J$,V.vr.x5(.5),V.vr.eB())},o._a=()=>{V.zX?.(m.ry),V.zX=null,V.y$(),o.y$()},V.zX=(J$,Q)=>{V.zX=null,o.y$(),o.vX?.BX(),t(Q)},o.Da?.call?.(o),o.EX?.(o),a?.(o))}}catch(X$){j.cancel=null;var D$=C_(m.lJ,X$);c?.(o,D$),o.T_?.(D$)}return j}function p(s,F){var I=D(F),l={},K=new $.t_($);K.L=s.name;var R=new C(l,K);R._L=s.onHostSpecificDataSent,R.JL=s.onError,R.pD=g5(s.geo,I.B5.pD,!1),R.fc=!!s.noPlayer;var k;R.fc||(k=new $.UX,k.L=I.B5.Xa,k.o_=!0,k.h$=R.pD.flag,k.F$=I.B5.F$,k.VX=!0,K.G.push(k)),R.Xc=!!s.unlimitedPlayerCount,R.Fr=!!s.showInRoomList,R.X5=s.playerCount,R.cc=s.fakePassword!=null?!!s.fakePassword:null,R.hX=(s.maxPlayerCount|0)-(R.fc?0:1),R.u_=s.password==""?null:s.password;var j=new $.yc(I,R);j.L5=function(){if(R.Fr){var i=new d5;i.I_=j.I_,i.L=K.L,i.G=R.X5!=null?R.X5:K.G.length,i.mc=R.hX+(R.fc?0:1),i.h$=R.pD.flag,i.u_=R.cc!=null?R.cc:R.u_!=null,i.WX=R.pD.lat,i.xX=R.pD.lon;var V=B5.D(16);i.A(V),R.yf(V.QX())}},R.g$=j,R.CX(s.token),j.L5(),j.CX();var n$=Fy3.Q5(()=>{j.v(L5.D(R.c.G.map(i=>{var V=R.RX.get(i.$);return V?V.qX:R.c.jL?.()})))},3e3);return R.aL=function(i){K.t(i)&&j.v(ZD.D(i,C_(m.MJ).toString(),!1))},R.Tc=async(i,V,o,t)=>{var D$=await L?.(j,i,V,o,t);if(D$)throw D$;j.L5()},R.sX=function(i){K.t(i)&&j.v(ZD.D(i,null,!1))},R.Af=function(i){j.d5=i,g?.(j)},j.EL=function(i,V,o,t){R.qd(i,V,o,t)},l.cancel=j._a=function(){R.y$(),j.y$(),Fy3.Nc(n$),U?.(j),j.$a?.call?.(j)},j.Da?.call?.(j),j.hostPing=0,j.EX?.(j),A?.(j),l}function B(s,F){this.i$=F instanceof C,this.r=F,this.Yf=0,this.ca=this.mL.bind(this),_?.call(this,s,F)}return B.prototype={CX:function(s=50){var F=this.r;this.Yf=Fy3.hc(this.ca),this.KL=Fy3.Q5(()=>{F.E$()},s)},mL:function(){this.Yf=Fy3.hc(this.ca),u?.call(this),this.r.E$(),N?.call(this)},y$:function(){Fy3.j5(this.Yf),Fy3.Nc(this.KL)},T_:function(s){s&&a5?.(s.toString()||s)},v:function(s,F){return this.i$&&(s.X=F||0),this.r.vD(s),!0}},B.ZL=O,B.D=p,B};var n5=yX,{yD:s5}=z$;function A5($,{Q:_,KD:D,VD:r}){function c(L){o$.call(this,L),this.gD=[],this.I=1,this.YX=Fy3.p$.now(),this.TD=!1}c.prototype=s5(o$.prototype,{vD:function(){},BD:function(L=0){this.E$();var g=this.c.V_(++this.by);return g.j$(L*this.P_|0),g},E$:function(){var L=this.gD;this.gD=[];for(var g=((Fy3.p$.now()-this.YX)*this.P_*this.I|0)-this.N,U=0;U<g;U++)this.N+=1,this.TD||this.c.j$(1);L.forEach(this.w.bind(this))},ra:function(L){this.gD.push(L)},w:function(L){this.qL?.(L)!=!1&&(L.e(this.c),this.w_?.(L))},Cf:function(L){if(!(L<0)){if(L==0){this.TD=!0;return}this.N=this.N*L/this.I|0,this.I=L,this.TD=!1}},j$:function(L){this.TD&&this.c.j$(L)}});function f(L,g,U){var A=0,u=U?.requestAnimationFrame||Fy3.hc,N=U?.cancelAnimationFrame||Fy3.j5,C=g?.render,h=function(){A=u(h),L.E$(),C?.()};function O(){A=u(h),D?.(L,g)}function p(){N(A),r?.(L)}this.initialize=O,!U?.delayedInit&&O(),this.y$=function(){p()},this.ya=function(B){p(),L.c=B,O()}}function a(L,g){var U=new $.t_($),A=new c(U),u=new f(A,L,g),N;return N={state:U,initialize:()=>u.initialize(),extrapolate:C=>A.BD(C),takeSnapshot:()=>U.copy(),useSnapshot:function(C){var h=C.copy();u.ya(h),U=h,N.state=h},executeEvent:function(C){A.ra(C)},applyEvent:function(C){A.w(C)},setSimulationSpeed:function(C){A.Cf(C)},runSteps:function(C){A.j$(C)},destroy:u.y$},_?.call(N,A,g,L),Object.defineProperty(N,"gameState",{get(){return U.J}}),Object.defineProperty(N,"currentPlayerId",{get(){return 0}}),Object.defineProperty(N,"currentFrameNo",{get(){return A.N}}),N}return{WL:f,xL:a}}function fX(){}fX.Of=A5;var U5=fX,{jD:qD,yD:u5}=z$,{q:$D}=Z$;function R5($,_){function D(c){o$.call(this,c),this.I=1,this.YX=Fy3.p$.now(),this.TD=!1,this.TL=[],this.n5=[],this.maxFrameNo=0}D.prototype=u5(o$.prototype,{vD:function(){},BD:function(c=0){return this.c},E$:function(){var c=this.maxFrameNo;if(!(this.N>=c))do{var f=0,a=this.n5[0];if(!a||this.N>a.N$)break;for(;a?.N$==this.N;)a.e(this.c),this.TL.push(a),a=this.n5[++f];this.c.j$(1),this.N++,this.n5.splice(0,f)}while(this.N<c)},Cf:function(c){if(!(c<0)){if(c==0){this.TD=!0;return}this.N=this.N*c/this.I|0,this.I=c,this.TD=!1}},j$:function(c){this.TD&&this.c.j$(c)}});function r(c,f={},a){var L=new $.t_($),g=new D(L),U=new _(g,f,a),A;function u(h){var O=h.n$(),p=h.b$(),B=h.x$(),s=h.n$(),F=$D.U(h);return F.X=B,F.LX=s,F.N$=O,F.D_=p,F}function N(h){h.N$==g.N&&h.D_<=g.J_?(h.D_=g.J_++,g.ra(h)):g.OD.ky(h)}var C=new qD(new DataView(c.buffer,c.byteOffset,c.byteLength));for(g.N=C.n$(),g.nX=C.n$(),g.J_=C.b$(),L.U(C);C.d<C.Y.byteLength;)N(u(C));return c=null,C=null,A={state:L,extrapolate:h=>g.BD(h),readStream:h=>{if(g.maxFrameNo=h.n$(),h.Y.byteLength!=h.Y.byteOffset+h.d){var O=Fy3.q$.inflateRaw(new Uint8Array(h.Y.buffer,h.d)),p,B,s,F,I;for(h=new qD(new DataView(O.buffer,O.byteOffset,O.byteLength));h.d<O.byteLength;)for(F=g.maxFrameNo-h.x$(),p=h.x$(),I=0;I<p;I++)B=h.x$(),s=$D.U(h,!0),s.X=B,s.N$=F,g.n5.push(s)}},readImmediateStream:h=>{var O=g.maxFrameNo=h.n$(),p=h.x$(),B=$D.U(h,!0);B.X=p,B.N$=O,g.n5.push(B)},takeSnapshot:()=>L.copy(),useSnapshot:function(h){var O=h.copy();U.ya(O),L=A.state=O},setSimulationSpeed:function(h){g.Cf(h)},runSteps:function(h){g.j$(h)},destroy:U.y$},Object.defineProperty(A,"gameState",{get(){return L.J}}),Object.defineProperty(A,"currentPlayerId",{get(){return 0}}),Object.defineProperty(A,"currentFrameNo",{get(){return g.N}}),Object.defineProperty(A,"maxFrameNo",{get(){return g.maxFrameNo}}),A}return r}function JX(){}JX.zf=R5;var F5=JX,N5=($,_)=>{var D=dc($,_);let r=m,c=l$,f=WD,a=TD,{jD:L,ED:g,t5:U,oc:A,w5:u,T5:N,yD:C,lc:h,$r:O,_r:p,Dr:B,Ny:s,hy:F,Xr:I,Yy:l,Qc:K,P5:R,H5:k,M5:j}=z$,n$=DD;var{s$:i,jc:V,rr:o,Iy:t,Gy:D$}=Z$,{JX:X$,aX:J$,gX:Q}=rD,{py:y$}=uc,{u4:O$,U4:h$}=wD,{qy:u$}=ec,{Wy:V$}=lc,{hf:Y$}=n5,{Of:$$}=U5,{zf:I$}=F5;return{_:D,f$:{s5:{pr:L,A5:g},q:{s$:i,jc:V,rr:o,Iy:t,Gy:D$,vf:{JX:X$,aX:J$,gX:Q}},Wy:V$,py:y$,hf:Y$,qy:u$,Of:$$,zf:I$,u4:O$},tL:{UX:r.bX,wL:r.zc,PL:r.vc},HL:{ML:r.CJ,$n:r.OJ,_n:r.zJ,Dn:r.vJ,Xn:r.VJ,cn:r.ry},RU:{FU:r._4,NU:r.D4,hU:r.X4},Sr:{oc:A,t5:U,w5:u,T5:N,yD:C,rn:function(){try{return a.QB().then(s$=>[s$.mB(),s$])}catch(s$){return Promise.reject(s$)}},yn:function(s$){try{return a.jB(s$)}catch(q){return Promise.reject(q)}},zy:()=>n$.zy().then(s$=>{var q=new L(new DataView(s$),!1);q.z();for(var f$=[];q.d!=q.Y.byteLength;){var H=q.yX(q.x$()),W=q.Ly(q.x$());try{var T=new h$;T.U(new L(new DataView(W),!1));var g$=new O$;g$.$$=T,g$.$=H,f$.push(g$)}catch{}}return f$}),fn:(s$,q)=>{let f$=Math.PI/180,H=s$.lat,W=s$.lon;q.forEach(T=>{var{WX:g$,xX:B$}=T.$$,v$=Math.cos(f$*(g$-H)),p$=Math.cos(f$*(g$+H));T.c$=6378*Math.acos((v$-p$+(v$+p$)*Math.cos(f$*(B$-W)))/2),isFinite(T.c$)||(T.c$=22e3)})},_r:p,Dr:B,Ny:s,hy:F,Xr:I,Yy:l,vy:n$.vy,Qc:K,lc:h,$r:O,P5:R,H5:k,M5:j,Jn:function({token:s$="",rcr:q=""}){return new Promise(f$=>{n$.Vy({i_:s$,WB:q},(H,W)=>{f$({code:0,value:W})},H=>{f$({code:1,value:H})}).catch(H=>{f$({code:2,value:H})})})},an:function({token:s$="",proxyAgent:q}){return new Promise((f$,H)=>{var W,T;function g$(){W?.close(),W=null,T?f$(T):H()}n$.Vy({i_:s$},(B$,v$)=>{(!B$||!v$)&&g$(),D.S_?.Oc&&(B$=D.S_?.Oc),B$.endsWith("host")||(B$.endsWith("/")||(B$+="/"),B$+="host"),W=n$.s4({L4:B$,i_:v$,f_:q,n4:[],mX:g$,T_:g$,KX:p$=>{var e$=new L(new DataView(p$.data),!1);switch(e$.z()){case 5:T={roomId:e$.yX(e$.z()),newToken:v$},g$();break}}})},()=>g$()).catch(()=>g$())})}},gn:f,IX:{Vc:c.Vc,W$:c.W$,Bn:{dn:r.IJ,Ln:r.m5,nn:r.GJ,sn:r.pJ,An:r.SJ,Un:r.iJ,un:r.eJ,Rn:r.kJ,Fn:r.oJ,Nn:r.lJ,hn:r.yy,Yn:r.bJ,Cn:r.K5,On:r.QJ,zn:r.jJ,vn:r.fy,Vn:r.EJ,In:r.mJ,Gn:r.KJ,pn:r.ZJ,Sn:r.qJ,en:r.WJ,kn:r.xJ,on:r.wJ,ln:r.TJ,bn:r.QD,Qn:r.tJ,jn:r.Jy,En:r.PJ,mn:r.HJ,Kn:r.MJ,Zn:r.$4,qn:r.ay,Wn:r.gy,xn:r.By}}}};aX.nZ=N5});var TX=a_((by,xX)=>{function X_($,_){return _={nZ:{}},$(_,_.nZ),_.nZ}var x=X_(function($){$.nZ=$.cy||($.cy={fa:0,Ja:1,aa:2,ga:3,Tn:1,tn:2,wn:0,Pn:1,Hn:2,Mn:0,$2:1,_2:1,D2:2,X2:4,c2:8,r2:16,y2:32,f2:64,J2:128,a2:256,g2:512,B2:1024,d2:2048,L2:4096,n2:8192,s2:16384,A2:32768,U2:65536,u2:1<<17,R2:1<<18,F2:1<<19,N2:1<<20,h2:1<<21,Y2:1<<22,C2:1<<23,O2:1<<24,z2:1<<25,v2:1<<26,V2:1<<27,I2:1<<28,G2:1<<29,p2:1<<30,S2:1<<31,i2:-1,e2:0,k2:1,Ba:15,da:16,La:17,na:19,sa:28,Aa:29,Ua:30,ua:34,Ra:35,ir:37,Fa:39,Na:42,ha:43,Ya:44,Ca:45,Oa:46,er:47,za:48,kr:49,va:50,Va:57,Ia:58,Ga:60,pa:61,o2:0,l2:1,b2:2,Q2:3,Sa:0,ia:1,ea:2,ka:3,oa:4,la:5,ba:6,Qa:7,ja:8,Ea:9,ma:10,Ka:11,Za:12,qa:13,Wa:14,xa:15,Ta:16,ta:17,wa:18,Pa:19,Ha:20,Ma:21,$g:22,_g:23,Dg:24,Xg:25,cg:26,j2:0,E2:1,m2:2,K2:3,Z2:4,q2:5,W2:6,x2:7,T2:8,t2:9,w2:10,P2:11,H2:12,M2:13,$s:14,_s:15,Ds:16,Xs:17,cs:18,rs:19,ys:20,fs:0,rg:1,Js:2,as:3,gs:4,Bs:5,ds:6,Ls:7,ns:8,ss:9,As:10,Us:11,us:12,Rs:13,Fs:14,Ns:15,hs:16,Ys:17,Cs:18})}),{b:h5}=Fy3;function N$($,_,D,r,c){this.$=$,this.u=_,this.yg=D,this.f=r,this.g=c}N$.spec=N$.N_=new N$(0,16777215,0,-1,0);N$.red=N$.I$=new N$(1,15035990,-1,8,2);N$.blue=N$.__=new N$(2,5671397,1,16,4);N$.byId=N$.X=[N$.N_,N$.I$,N$.__];h5(N$,[],["id","color","defenseDir","cMask","cGroup"],[]);var r$=N$,{b:Y5,T:{IX:{W$:ly}}}=Fy3;function $_(){this.GX=0,this.Q_=16777215,this.H_=[]}$_.SD=function($,_,...D){var r=new $_;r.H_=[$.u];var c=D.length;if(c<1)return r;if(r.GX=256*_/360|0,r.Q_=D[0],c>1){c>4&&(c=4),r.H_=[];for(var f=1;f<c;f++)r.H_.push(D[f])}return r};$_.prototype={A:function($){$.n(this.GX),$.i(this.Q_),$.n(this.H_.length),this.H_.forEach(_=>{$.i(_)})},U:function($){this.GX=$.z(),this.Q_=$.S();var _=$.z();if(_>3)throw Fy3.W$(x.na);this.H_=[];for(var D=0;D<_;D++)this.H_.push($.S())},copy:function(){var $=new $_;return $.GX=this.GX,$.Q_=this.Q_,$.H_=this.H_.slice(),$}};Y5($_,[],["angle","text","inner"],[]);Object.defineProperty($_.prototype,"angleDeg",{get:function(){return Math.ceil(360*this.GX/256)},set:function($){this.GX=$*256/360|0}});var dX=$_,{b:W$,T:{Sr:{yD:x$}},AJ:{kX:C5,i5:LX,e5:nX,k5:sX,hB:fD,o5:AX,l5:UX,Mr:uX,$y:RX}}=Fy3,BX=1/Math.SQRT2;function aD($){LX.call(this,$),this.$=0}aD.prototype=x$(LX.prototype,{A:function($){var _=this.B;$.R(_.x),$.R(_.y),$.R(this.a),$.i(this.f),$.i(this.g)},U:function($){var _=this.B;_.x=$.h(),_.y=$.h(),this.a=$.h(),this.f=$.S(),this.g=$.S()}});function gD($){nX.call(this,$),this.u$=$?.u$==null?!0:$.u$,this.u=$?.u==null?0:$.u,$?.iD!=null&&this.G5($.iD)}gD.prototype=x$(nX.prototype,{A:function($){var _=0,D=$.d;$.n(0),$.n(this.H.$),$.n(this.M.$),this.Z$!=0&&(_=1,$.R(this.Z$)),this.o$!=1/0&&(_|=2,$.R(this.o$)),this.u!=0&&(_|=4,$.i(this.u)),this.u$&&(_|=8),$.Y.setUint8(D,_),$.R(this.a),$.i(this.f),$.i(this.g)},U:function($,_){var D=$.z();this.H=_[$.z()],this.M=_[$.z()],this.Z$=D&1?$.h():0,this.o$=D&2?$.h():1/0,this.u=D&4?$.S():0,this.u$=(D&8)!=0,this.a=$.h(),this.f=$.S(),this.g=$.S()}});function BD($){sX.call(this,$)}BD.prototype=x$(sX.prototype,{A:function($){var _=this.z$;$.R(_.x),$.R(_.y),$.R(this.c$),$.R(this.a),$.i(this.f),$.i(this.g)},U:function($){var _=this.z$;_.x=$.h(),_.y=$.h(),this.c$=$.h(),this.a=$.h(),this.f=$.S(),this.g=$.S()}});function dD($){fD.call(this,$),this.p=$?.p==null?r$.N_:$.p}dD.prototype=x$(fD.prototype,{Tr:fD.prototype.Tr,A:function($){var _=this.L_;$.R(_.x),$.R(_.y),_=this.d_,$.R(_.x),$.R(_.y),$.n(this.p.$)},U:function($){var _=this.L_;_.x=$.h(),_.y=$.h(),_=this.d_,_.x=$.h(),_.y=$.h(),this.p=r$.X[$.Ic()]||r$.N_}});function LD($){AX.call(this,$),this.u=$?.u==null?16777215:$.u}LD.prototype=x$(AX.prototype,{A:function($){var _=this.B;$.R(_.x),$.R(_.y),_=this.I,$.R(_.x),$.R(_.y),_=this.V,$.R(_.x),$.R(_.y),$.R(this.l),$.R(this.a),$.R(this.j),$.R(this.Z),$.V$(this.u),$.i(this.f),$.i(this.g)},U:function($){var _=this.B;_.x=$.h(),_.y=$.h(),_=this.I,_.x=$.h(),_.y=$.h(),_=this.V,_.x=$.h(),_.y=$.h(),this.l=$.h(),this.a=$.h(),this.j=$.h(),this.Z=$.h(),this.u=$.n$(),this.f=$.S(),this.g=$.S()},Os:function(){var $=new Q$;return this.fg($),$},fg:function($){var _=$.B,D=this.B;_.x=D.x,_.y=D.y,_=$.I,D=this.I,_.x=D.x,_.y=D.y,_=$.V,D=this.V,_.x=D.x,_.y=D.y,$.l=this.l,$.a=this.a,$.j=this.j,$.Z=this.Z,$.u=this.u,$.f=this.f,$.g=this.g}});function nD($){UX.call(this,$),this.u=$?.u==null?0:$.u}nD.prototype=x$(UX.prototype,{A:function($){$.n(this.H$),$.n(this.P$),$.R(this.O$),$.R(this.v$),$.R(this.p_),$.i(this.u)},U:function($){this.H$=$.z(),this.P$=$.z(),this.O$=$.h(),this.v$=$.h(),this.p_=$.h(),this.u=$.S()}});function Q$($){uX.call(this,$),this.K=null,this.U_=-1,this.D$=null,this.Jg=0,this.u=$?.u==null?16777215:$.u}Q$.v_=function($,_){$.l=_.l,$.a=_.a,$.j=_.j,$.Z=_.Z,$.u=_.u,$.f=_.f,$.g=_.g;var D=$.B,r=_.B;D.x=r.x,D.y=r.y,D=$.I,r=_.I,D.x=r.x,D.y=r.y,D=$.V,r=_.V,D.x=r.x,D.y=r.y};Q$.prototype=x$(uX.prototype,{A:function($){var _=this.B;$.R(_.x),$.R(_.y),_=this.I,$.R(_.x),$.R(_.y),_=this.V,$.R(_.x),$.R(_.y),$.R(this.l),$.R(this.a),$.R(this.j),$.R(this.Z),$.V$(this.u),$.i(this.f),$.i(this.g)},U:function($){var _=this.B;_.x=$.h(),_.y=$.h(),_=this.I,_.x=$.h(),_.y=$.h(),_=this.V,_.x=$.h(),_.y=$.h(),this.l=$.h(),this.a=$.h(),this.j=$.h(),this.Z=$.h(),this.u=$.n$(),this.f=$.S(),this.g=$.S()},V_:function($){return $!=this.U_&&(this.D$||(this.D$=new Q$),this.U_=$,Q$.v_(this.D$,this)),this.D$}});function q$(){RX.call(this),this.e$=[],this.U_=-1,this.D$=null}q$.v_=function($,_,D){if(!_.F)$.F=null;else{$.F||($.F=[]);for(var r=$.F,c=_.F,f=c.length,a;r.length>f;)r.pop();for(f=0,a=c.length;f<a;f++)r[f]=c[f].V_(D)}$.O=_.O,$.k=_.k,$.m=_.m,$.L$=_.L$};q$.prototype=x$(RX.prototype,{A:function($){$.n(this.F.length),this.F.forEach((_,D)=>{_.Jg=D,_.A($)})},U:function($){this.F=[];for(var _=$.z(),D=0;D<_;D++){var r=new Q$;r.U($),this.Rc(r)}},V_:function($){return $!=this.U_&&(this.D$||(this.D$=new q$),this.U_=$,q$.v_(this.D$,this,$)),this.D$},zs:function($,_,D){var c=_.B,f=$.B,r=c.x-f.x,c=c.y-f.y,f=Math.sqrt(r*r+c*c);if(!(f-_.l-$.l>=4)){var a=r/f,L=c/f;return _.sJ(D.tD,a,L),$.sJ(-D.wD,a,L),!0}},vs:function($,_){var D=$.C$,r=((D&8)>0)-((D&4)>0),c=r==0,f=((D&2)>0)-((D&1)>0),a=f==0;!c&&!a&&(r*=BX,f*=BX),D=$.M_,(!c||!a)&&(a=D?_.PD:_.HD,$.E.FB(r*a,f*a)),$.E.Z=D?_.MD:_.Z},ag:function($,_){$.E&&(this.S5($.E),_?.($),$.E=null)},Vs:function($,_,D){$.C$=0;var r=$.E;r||(r=new Q$,r.K=$.$,$.E=r,this.Rc(r),D?.($));var c=_.$D;r.u=0,r.l=c.l,r.j=c.j,r.Z=c.Z,r.a=c.a,r.f=39,r.g=$.p.g|c.g;var f=$.p==r$.I$?_.c_:_.r_;f.length==0?(r.B.x=$.p.yg*_._D,r.B.y=0):($=r.B,f=f[f.length-1],$.x=f.x,$.y=f.y),f=r.I,f.x=0,f.y=0,r=r.V,c=c.V,r.x=c.x,r.y=c.y}});q$.Is=$=>{var _=new q$;return _.O=$.O,_.k=$.k,_.e$=$.e$,_.m=$.m,_.L$=$.L$,$.F.forEach(D=>{var r=new Q$;return r.B.x=D.B.x,r.B.y=D.B.y,r.I.x=D.I.x,r.I.y=D.I.y,r.V.x=D.V.x,r.V.y=D.V.y,r.l=D.l,r.a=D.a,r.j=D.j,r.Z=D.Z,r.u=D.u,r.f=D.f,r.g=D.g,_.Rc(r),r}),_};W$(aD,[],["cGroup","cMask","bCoef","pos","id"],[]);W$(gD,[],["normal","v1Normal","v0Normal","arcRadius","arcCenter","v0","v1","bias","bCoef","cMask","cGroup","curveF","vis","color"],[]);W$(BD,[],["cGroup","cMask","bCoef","dist","normal"],[]);W$(dD,[],["p1","p0","team"],["check"]);W$(LD,[],["cGroup","cMask","damping","invMass","bCoef","radius","gravity","speed","pos","color"],[]);W$(nD,[],["strength","maxLength","minLength","d1","d0","color"],[]);W$(Q$,[],["cGroup","cMask","damping","invMass","bCoef","radius","gravity","speed","pos","playerId",null,"ext",null,"color"],[]);W$(q$,[],["discs","vertices","planes","segments","joints","goals",null,"ext"],[null,null,null,"kickBall",null,null,null]);var e_={kX:C5,i5:aD,e5:gD,k5:BD,gg:dD,o5:LD,l5:nD,Mr:Q$,$y:q$},{T:{gn:k_}}=Fy3,G_=[];k_.Bg=$=>{$&&G_.push($)};k_.dg=$=>{if($){var _=G_.indexOf($);_<0||G_.splice(_,1)}};k_.CB=$=>{G_.forEach(_=>{_._onLanguageChange?.($?.abbr)})};var O5=k_,{b:z5}=Fy3,{kX:v5}=e_;function sD(){this.wD=0,this.l=15,this.g=0,this.V=new v5(0,0),this.a=.5,this.j=.5,this.Z=.96,this.HD=.1,this.PD=.07,this.MD=.96,this.tD=5}sD.prototype={A:function($){$.R(this.a),$.R(this.j),$.R(this.Z),$.R(this.HD),$.R(this.PD),$.R(this.MD),$.R(this.tD);var _=this.V;$.R(_.x),$.R(_.y),$.i(this.g),$.R(this.l),$.R(this.wD)},U:function($){this.a=$.h(),this.j=$.h(),this.Z=$.h(),this.HD=$.h(),this.PD=$.h(),this.MD=$.h(),this.tD=$.h();var _=this.V;_.x=$.h(),_.y=$.h(),this.g=$.S(),this.l=$.h(),this.wD=$.h()}};z5(sD,[],["kickback","radius","cGroup","gravity","bCoef","invMass","damping","acceleration","kickingAcceleration","kickingDamping","kickStrength"],[]);var FX=sD,{b:V5,T:{IX:{W$:p_},Sr:{lc:NX,$r:I5,t5:a$,w5:G},f$:{s5:{A5:G5}}}}=Fy3,{kX:V_,i5:c$,e5:L$,k5:U$,gg:I_,o5:M$,l5:s_}=e_,p5=$=>{var _=0;return $.forEach(D=>{_+=D,_+=_<<10,_^=_>>>6}),_+=_<<3,_=_^_>>>11,_+=_<<15,_|0};function v(){this.O=[],this.k=[],this.m=[],this.e$=[],this.F=[],this.L$=[],this.c_=[],this.r_=[],this.$D=new FX,this.U5=255,this.$X=0,this._X=0,this.pX=!0,this.eD=!1,this.L="",this._D=0,this.nD=0,this.j_=0,this.sD=0,this.AD=0,this.UD=0,this.uD=0,this.RD=0,this.y_=0,this.kD=0}var C$=null;v.U=function($){var _=$.z();return _==255?(_=new v,_.U($),_):v.Vf()[_]};v.Vf=function(){if(C$)return C$;C$=[];var $=new v;return $.DX("Classic",420,200,370,170,64,75),C$.push($),$=new v,$.DX("Easy",420,200,370,170,90,75),C$.push($),$=new v,$.DX("Small",420,200,320,130,55,70),C$.push($),$=new v,$.DX("Big",600,270,550,240,80,80),C$.push($),$=new v,$.DX("Rounded",420,200,370,170,64,75,75),C$.push($),$=new v,$.Lg("Hockey",420,204,398,182,68,120,75,100),C$.push($),$=new v,$.Lg("Big Hockey",600,270,550,240,90,160,75,150),C$.push($),$=new v,$.DX("Big Easy",600,270,550,240,95,80),C$.push($),$=new v,$.DX("Big Rounded",600,270,550,240,80,75,100),C$.push($),$=new v,$.DX("Huge",750,350,700,320,100,80),C$.push($),C$.forEach((_,D)=>{_.U5=D}),C$};v.Gs=function($,_){var D=_[$.trait];D&&Object.keys(D).forEach(r=>{$[r]==null&&($[r]=D[r])})};v.ps=function($){if($==63)return["all"];var _=[];return $&2&&_.push("red"),$&4&&_.push("blue"),$&1&&_.push("ball"),$&8&&_.push("redKO"),$&16&&_.push("blueKO"),$&32&&_.push("wall"),$&64&&_.push("kick"),$&128&&_.push("score"),$&268435456&&_.push("c0"),$&536870912&&_.push("c1"),$&1073741824&&_.push("c2"),$&-2147483648&&_.push("c3"),_};v.oD=function($){$=G($,Array);var _=0;return $.forEach(D=>{switch(D){case"ball":_|=1;break;case"red":_|=2;break;case"blue":_|=4;break;case"redKO":_|=8;break;case"blueKO":_|=16;break;case"wall":_|=32;break;case"kick":_|=64;break;case"score":_|=128;break;case"c0":_|=268435456;break;case"c1":_|=536870912;break;case"c2":_|=1073741824;break;case"c3":_|=-2147483648;break;case"all":_|=63;break}}),_};v.DD=function($,_,D,r){D!=r&&($[_]=v.ps(D))};v.Jc=function($,_,D){_!=D&&(_|=0,$.color=_<0?"transparent":NX(_))};v.ac=function($){if($=="transparent")return-1;if(typeof $=="string")return I5("0x"+$);if($ instanceof Array)return(($[0]|0)<<16)+(($[1]|0)<<8)+($[2]|0);throw p_(x.sa)};v.ng=function($){var _={x:$.B.x,y:$.B.y};return v.o(_,"bCoef",$.a,1),v.DD(_,"cMask",$.f,63),v.DD(_,"cGroup",$.g,32),_};v.Ss=function($){var _=new c$;_.B.x=G($.x,Number),_.B.y=G($.y,Number);var D=$.bCoef;return D!=null&&(_.a=G(D,Number)),D=$.cMask,D!=null&&(_.f=v.oD(D)),D=$.cGroup,D!=null&&(_.g=v.oD(D)),_};v.sg=function($){var _=new c$;_.B.x=G($.x,Number),_.B.y=G($.y,Number);var D=$.bCoef;return D!=null&&(_.a=G(D,Number)),D=$.cMask,D!=null&&(_.f=G(D,a$)),D=$.cGroup,D!=null&&(_.g=G(D,a$)),_};v.is=function($,_){var D={v0:$.H.$,v1:$.M.$};v.o(D,"bias",$.Z$,_.Z$),v.o(D,"bCoef",$.a,_.a);var r=$.nJ();return v.o(D,"curve",r,0),r!=0&&(D.curveF=$.o$),v.o(D,"vis",$.u$,_.u$),v.DD(D,"cMask",$.f,_.f),v.DD(D,"cGroup",$.g,_.g),v.Jc(D,$.u,_.u),D};v.es=function($,_,D){var[r,c]=$.If(_),f={v0:r,v1:c};v.o(f,"bias",_.Z$,D.Z$),v.o(f,"bCoef",_.a,D.a);var a=_.nJ();return v.o(f,"curve",a,0),a!=0&&(f.curveF=_.o$),v.o(f,"vis",_.u$,D.u$),v.DD(f,"cMask",_.f,D.f),v.DD(f,"cGroup",_.g,D.g),v.Jc(f,_.u,D.u),f};v.ks=function($,_){var D=new L$;D.H=_[G($.v0,a$)],D.M=_[G($.v1,a$)];var r=$.bias;return r!=null&&(D.Z$=G(r,Number)),r=$.bCoef,r!=null&&(D.a=G(r,Number)),r=$.curveF,r!=null?D.o$=G(r,Number):(r=$.curve,r!=null&&D.G5(G(r,Number))),r=$.vis,r!=null&&(D.u$=G(r,Boolean)),r=$.cMask,r!=null&&(D.f=v.oD(r)),r=$.cGroup,r!=null&&(D.g=v.oD(r)),r=$.color,r!=null&&(D.u=v.ac(r)),D};v.Ag=function($,_){var D=new L$;D.H=_[G($.v0,a$)],D.M=_[G($.v1,a$)];var r=$.bias;return r!=null&&(D.Z$=G(r,Number)),r=$.bCoef,r!=null&&(D.a=G(r,Number)),r=$.curveF,r!=null?D.o$=G(r,Number):(r=$.curve,r!=null&&D.G5(G(r,Number))),r=$.vis,r!=null&&(D.u$=G(r,Boolean)),r=$.cMask,r!=null&&(D.f=G(r,a$)),r=$.cGroup,r!=null&&(D.g=G(r,a$)),r=$.color,r!=null&&(D.u=G(r,a$)),D};v.os=function($){var _=new L$;_.H=$.v0,_.M=$.v1;var D=$.bias;return D!=null&&(_.Z$=G(D,Number)),D=$.bCoef,D!=null&&(_.a=G(D,Number)),D=$.curveF,D!=null?_.o$=G(D,Number):(D=$.curve,D!=null&&_.G5(G(D,Number))),D=$.vis,D!=null&&(_.u$=G(D,Boolean)),D=$.cMask,D!=null&&(_.f=G(D,a$)),D=$.cGroup,D!=null&&(_.g=G(D,a$)),D=$.color,D!=null&&(_.u=G(D,a$)),_};v.Ug=function($){var _={d0:$.H$,d1:$.P$,length:$.O$>=$.v$?$.O$:[$.O$,$.v$]};return v.Jc(_,$.u,0),v.o(_,"strength",$.p_,1/0),_};v.ls=function($,_){var D=new s_,r=G($.d0,a$),c=G($.d1,a$),f=$.length;if(r<0||r>=_.length||c<0||c>=_.length)throw null;return D.H$=r,D.P$=c,f==null?(r=_[r],c=_[c],r&&c?D.v$=D.O$=Math.sqrt((r.B.x-c.B.x)**2+(r.B.y-c.B.y)**2):D.v$=D.O$=100):f instanceof Array?(D.O$=G(f[0],Number),D.v$=G(f[1],Number)):D.v$=D.O$=G(f,Number),r=$.strength,D.p_=r==null||r=="rigid"?1/0:G(r,Number),r=$.color,r!=null&&(D.u=v.ac(r)),D};v.ug=function($,_){var D=new s_,r=G($.d0,a$),c=G($.d1,a$),f=$.length;if(r<0||r>=_.length||c<0||c>=_.length)throw null;return D.H$=r,D.P$=c,f==null?(r=_[r],c=_[c],r&&c?D.v$=D.O$=Math.sqrt((r.B.x-c.B.x)**2+(r.B.y-c.B.y)**2):D.v$=D.O$=100):f instanceof Array?(D.O$=G(f[0],Number),D.v$=G(f[1],Number)):D.v$=D.O$=G(f,Number),r=$.strength,D.p_=r==null||r=="rigid"?1/0:G(r,Number),r=$.color,r!=null&&(D.u=G(r,a$)),D};v.bs=function($){var _=new s_,D=$.d0,r=$.d1,c=$.length;return _.d0Obj=D,_.d1Obj=r,c==null?D&&r?_.v$=_.O$=Math.sqrt((D.B.x-r.B.x)**2+(D.B.y-r.B.y)**2):_.v$=_.O$=100:c instanceof Array?(_.O$=G(c[0],Number),_.v$=G(c[1],Number)):_.v$=_.O$=G(c,Number),D=$.strength,_.p_=D==null||D=="rigid"?1/0:G(D,Number),D=$.color,D!=null&&(_.u=G(D,a$)),_};v.Rg=function($){var _={normal:[$.z$.x,$.z$.y],dist:$.c$};return v.o(_,"bCoef",$.a,1),v.DD(_,"cMask",$.f,63),v.DD(_,"cGroup",$.g,32),_};v.Qs=function($){var _=new U$,D=G($.normal,Array),r=G(D[0],Number),c=G(D[1],Number),f=Math.sqrt(r*r+c*c);return _.z$.x=r/f,_.z$.y=c/f,_.c$=G($.dist,Number),D=$.bCoef,D!=null&&(_.a=G(D,Number)),D=$.cMask,D!=null&&(_.f=v.oD(D)),D=$.cGroup,D!=null&&(_.g=v.oD(D)),_};v.Fg=function($){var _=new U$,D=G($.normal,Array),r=G(D[0],Number),c=G(D[1],Number),f=Math.sqrt(r*r+c*c);return _.z$.x=r/f,_.z$.y=c/f,_.c$=G($.dist,Number),D=$.bCoef,D!=null&&(_.a=G(D,Number)),D=$.cMask,D!=null&&(_.f=G(D,a$)),D=$.cGroup,D!=null&&(_.g=G(D,a$)),_};v.Ng=function($){return{p0:[$.L_.x,$.L_.y],p1:[$.d_.x,$.d_.y],team:$.p==r$.I$?"red":"blue"}};v.Gf=function($){var _=new I_,D=G($.p0,Array);switch(_.L_.x=D[0],_.L_.y=D[1],D=G($.p1,Array),_.d_.x=D[0],_.d_.y=D[1],$.team){case"blue":D=r$.__;break;case"red":D=r$.I$;break;default:throw p_(x.Aa)}return _.p=D,_};v.hg=function($){var _={};return v.o(_,"bCoef",$.a,.5),v.o(_,"invMass",$.j,.5),v.o(_,"damping",$.Z,.96),v.o(_,"acceleration",$.HD,.1),v.o(_,"kickingAcceleration",$.PD,.07),v.o(_,"kickingDamping",$.MD,.96),v.o(_,"kickStrength",$.tD,5),v.DD(_,"cGroup",$.g,0),($.V.x!=0||$.V.y!=0)&&(_.gravity=[$.V.x,$.V.y]),v.o(_,"radius",$.l,15),v.o(_,"kickback",$.wD,0),_};v.js=function($){var _=new FX,D;return D=$.bCoef,D!=null&&(_.a=G(D,Number)),D=$.invMass,D!=null&&(_.j=G(D,Number)),D=$.damping,D!=null&&(_.Z=G(D,Number)),D=$.acceleration,D!=null&&(_.HD=G(D,Number)),D=$.kickingAcceleration,D!=null&&(_.PD=G(D,Number)),D=$.kickingDamping,D!=null&&(_.MD=G(D,Number)),D=$.kickStrength,D!=null&&(_.tD=G(D,Number)),D=$.gravity,D!=null&&(_.V.x=G(D[0],Number),_.V.y=G(D[1],Number)),D=$.cGroup,D!=null&&(_.g=v.oD(D)),D=$.radius,D!=null&&(_.l=G(D,Number)),D=$.kickback,D!=null&&(_.wD=G(D,Number)),_};v.Yg=function($,_){var D={};return($.B.x!=_.B.x||$.B.y!=_.B.y)&&(D.pos=[$.B.x,$.B.y]),($.I.x!=_.I.x||$.I.y!=_.I.y)&&(D.speed=[$.I.x,$.I.y]),($.V.x!=_.V.x||$.V.y!=_.V.y)&&(D.gravity=[$.V.x,$.V.y]),v.o(D,"radius",$.l,_.l),v.o(D,"bCoef",$.a,_.a),v.o(D,"invMass",$.j,_.j),v.o(D,"damping",$.Z,_.Z),v.Jc(D,$.u,_.u),v.DD(D,"cMask",$.f,_.f),v.DD(D,"cGroup",$.g,_.g),D};v.Cg=function($,_){var D;return D=$.pos,D!=null&&(_.B.x=D[0],_.B.y=D[1]),D=$.speed,D!=null&&(_.I.x=D[0],_.I.y=D[1]),D=$.gravity,D!=null&&(_.V.x=D[0],_.V.y=D[1]),D=$.radius,D!=null&&(_.l=G(D,Number)),D=$.bCoef,D!=null&&(_.a=G(D,Number)),D=$.invMass,D!=null&&(_.j=G(D,Number)),D=$.damping,D!=null&&(_.Z=G(D,Number)),D=$.color,D!=null&&(_.u=v.ac(D)),D=$.cMask,D!=null&&(_.f=v.oD(D)),D=$.cGroup,D!=null&&(_.g=v.oD(D)),_};v.pf=function($,_){var D;return D=$.pos,D!=null&&(_.B.x=D[0],_.B.y=D[1]),D=$.speed,D!=null&&(_.I.x=D[0],_.I.y=D[1]),D=$.gravity,D!=null&&(_.V.x=D[0],_.V.y=D[1]),D=$.radius,D!=null&&(_.l=G(D,Number)),D=$.bCoef,D!=null&&(_.a=G(D,Number)),D=$.invMass,D!=null&&(_.j=G(D,Number)),D=$.damping,D!=null&&(_.Z=G(D,Number)),D=$.color,D!=null&&(_.u=G(D,a$)),D=$.cMask,D!=null&&(_.f=G(D,a$)),D=$.cGroup,D!=null&&(_.g=G(D,a$)),_};v.o=function($,_,D,r){D!=r&&($[_]=D)};v.prototype={or:function(){var $=new M$;return $.u=16777215,$.f=63,$.g=193,$.l=10,$.Z=.99,$.j=1,$.a=.5,$},A:function($){$.n(this.U5),!this.Sf()&&($.A_(this.L),$.i(this.j_),$.R(this.AD),$.R(this.UD),$.R(this.uD),$.R(this.RD),$.R(this.kD),$.i(this.sD),$.R(this._D),$.R(this.nD),$.R(this.y_),this.$D.A($),$.K$(this.$X),$.n(this._X),$.n(this.pX?1:0),$.n(this.eD?1:0),$.n(this.O.length),this.O.forEach((_,D)=>{_.$=D,_.A($)}),$.n(this.k.length),this.k.forEach(_=>_.A($)),$.n(this.m.length),this.m.forEach(_=>_.A($)),$.n(this.e$.length),this.e$.forEach(_=>_.A($)),$.n(this.F.length),this.F.forEach(_=>_.A($)),$.n(this.L$.length),this.L$.forEach(_=>_.A($)),$.n(this.c_.length),this.c_.forEach(_=>{$.R(_.x),$.R(_.y)}),$.n(this.r_.length),this.r_.forEach(_=>{$.R(_.x),$.R(_.y)}))},U:function($){function _(r,c=!1,f=void 0){for(var a=[],L=$.z(),g=0;g<L;g++){var U=new r;U.U($,f),c&&(U.$=g),a.push(U)}return a}function D(){for(var r=[],c=$.z(),f=0;f<c;f++)r.push(new V_($.h(),$.h()));return r}this.L=$.s_(),this.j_=$.S(),this.AD=$.h(),this.UD=$.h(),this.uD=$.h(),this.RD=$.h(),this.kD=$.h(),this.sD=$.S(),this._D=$.h(),this.nD=$.h(),this.y_=$.h(),this.$D.U($),this.$X=$.x$(),this._X=$.z(),this.pX=$.z()!=0,this.eD=$.z()!=0,this.O=_(c$,!0),this.k=_(L$,!1,this.O),this.m=_(U$),this.e$=_(I_),this.F=_(M$),this.L$=_(s_),this.c_=D(),this.r_=D(),this.W_()},W_:function(){this.k.forEach($=>$.W_())},Sf:function(){return this.U5!=255},gc:function($,_,D){return $=$[_],$!=null?G($,Number):D},Es:function($,_,D){return $=$[_],$!=null?G($,Boolean):D},ms:function(){return JSON.stringify(this.Ks())},Ks:function(){var $={name:this.L,width:this._D,height:this.nD,ballPhysics:"disc0"},_,D;switch($.vertexes=D=[],this.O.forEach((r,c)=>{r.$=c,D.push(v.ng(r))}),$.segments=D=[],_=new L$,this.k.forEach(r=>D.push(v.is(r,_))),$.planes=D=[],this.m.forEach(r=>D.push(v.Rg(r))),$.goals=D=[],this.e$.forEach(r=>D.push(v.Ng(r))),$.playerPhysics=v.hg(this.$D),_=new M$,$.discs=D=[],this.F.forEach(r=>D.push(v.Yg(r,_))),v.o($,"maxViewWidth",this.$X,0),v.o($,"cameraFollow",this._X==1?"player":"",""),v.o($,"spawnDistance",this.y_,200),this.L$.length>0&&($.joints=D=[],this.L$.forEach(r=>D.push(v.Ug(r)))),this.c_.length>0&&($.redSpawnPoints=D=[],this.c_.forEach(r=>D.push([r.x,r.y]))),this.r_.length>0&&($.blueSpawnPoints=D=[],this.r_.forEach(r=>D.push([r.x,r.y]))),v.o($,"kickOffReset",this.eD?"full":"partial","partial"),this.j_){case 1:_="grass";break;case 2:_="hockey";break;default:_="none"}return $.bg=D={},v.o(D,"type",_,"none"),v.o(D,"width",this.AD,0),v.o(D,"height",this.UD,0),v.o(D,"kickOffRadius",this.uD,0),v.o(D,"cornerRadius",this.RD,0),v.Jc(D,this.sD,7441498),v.o(D,"goalLine",this.kD,0),$},Zs:function(D){var _=this,D=Fy3.hJ.parse(D);this.O=[],this.k=[],this.m=[],this.e$=[],this.F=[],this.L$=[],this.L=G(D.name,String),this._D=G(D.width,Number),this.nD=G(D.height,Number),this.$X=this.gc(D,"maxViewWidth",0)|0,D.cameraFollow=="player"&&(this._X=1),this.y_=200;var r=D.spawnDistance;r!=null&&(this.y_=G(r,Number)),r=D.bg;var c=0;switch(r.type){case"grass":c=1;break;case"hockey":c=2;break}this.j_=c,this.AD=this.gc(r,"width",0),this.UD=this.gc(r,"height",0),this.uD=this.gc(r,"kickOffRadius",0),this.RD=this.gc(r,"cornerRadius",0),this.sD=7441498,r.color!=null&&(this.sD=v.ac(r.color)),this.kD=this.gc(r,"goalLine",0),this.pX=this.Es(D,"canBeStored",!0),this.eD=D.kickOffReset=="full";var f=D.traits||{};function a(g){return new V_(G(g[0],Number),G(g[1],Number))}function L(g,U,A,u=!1){var N=D[U];u&&N==null||(N=G(N,Array),N?.forEach(C=>{try{v.Gs(C,f),g.push(A(C))}catch{throw p_(x.Ba,U,g.length)}}))}if(c=D.ballPhysics,c!="disc0"&&(c==null?this.F.push(this.or()):(c=v.Cg(c,this.or()),c.g|=192,this.F.push(c))),L(this.O,"vertexes",v.Ss),L(this.k,"segments",g=>v.ks(g,_.O)),L(this.e$,"goals",v.Gf),L(this.F,"discs",g=>v.Cg(g,new M$)),L(this.m,"planes",v.Qs),L(this.L$,"joints",g=>v.ls(g,_.F),!0),L(this.c_,"redSpawnPoints",a,!0),L(this.r_,"blueSpawnPoints",a,!0),c=D.playerPhysics,c!=null&&(this.$D=v.js(c)),this.O.length>255||this.k.length>255||this.m.length>255||this.e$.length>255||this.F.length<1||this.F.length>255)throw p_(x.Ua);this.W_()},calculateHash:function(){var $=G5.D(1024);return this.A($),p5($.Q$())},calculateChecksum:function(){return this.Sf()?null:NX(this.calculateHash(),8)},DX:function($,_,D,r,c,f,a,L=0){this.L=$,this.F.push(this.or()),this._D=_,this.nD=D,this.j_=1,this.sD=7441498,this.AD=r,this.UD=c,this.uD=a,this.RD=L,this.y_=.75*r,this.y_>400&&(this.y_=400),this.m.push(new U$({g_:0,B_:1,c$:-D,a:0})),this.m.push(new U$({g_:0,B_:-1,c$:-D,a:0})),this.m.push(new U$({g_:1,B_:0,c$:-_,a:0})),this.m.push(new U$({g_:-1,B_:0,c$:-_,a:0})),this.lr(r,1,f,13421823,r$.__),this.lr(-r,-1,f,16764108,r$.I$),this.Og(a,D),this.m.push(new U$({g_:0,B_:1,c$:-c,f:1})),this.m.push(new U$({g_:0,B_:-1,c$:-c,f:1}));var g=new c$({B$:-r,d$:-c,f:0}),U=new c$({B$:r,d$:-c,f:0}),A=new c$({B$:r,d$:-f,f:0}),u=new c$({B$:r,d$:f,f:0}),N=new c$({B$:r,d$:c,f:0}),C=new c$({B$:-r,d$:c,f:0}),h=new c$({B$:-r,d$:f,f:0}),O=new c$({B$:-r,d$:-f,f:0});this.O.push(g),this.O.push(U),this.O.push(A),this.O.push(u),this.O.push(N),this.O.push(C),this.O.push(h),this.O.push(O),this.k.push(new L$({H:U,M:A,f:1,u$:!1})),this.k.push(new L$({H:u,M:N,f:1,u$:!1})),this.k.push(new L$({H:C,M:h,f:1,u$:!1})),this.k.push(new L$({H:O,M:g,f:1,u$:!1})),this.zg(r,c,L),this.W_()},Lg:function($,_,D,r,c,f,a,L,g){this.L=$,this.F.push(this.or()),this._D=_,this.nD=D,this.j_=2,this.AD=r,this.UD=c,this.uD=L,this.RD=g,this.kD=a,this.y_=.75*(r-a),this.y_>400&&(this.y_=400),this.m.push(new U$({g_:0,B_:1,c$:-D,a:0})),this.m.push(new U$({g_:0,B_:-1,c$:-D,a:0})),this.m.push(new U$({g_:1,B_:0,c$:-_,a:0})),this.m.push(new U$({g_:-1,B_:0,c$:-_,a:0})),this.lr(r-a,1,f,13421823,r$.__,63),this.lr(-r+a,-1,f,16764108,r$.I$,63),this.Og(L,D),this.m.push(new U$({g_:0,B_:1,c$:-c,f:1})),this.m.push(new U$({g_:0,B_:-1,c$:-c,f:1})),this.m.push(new U$({g_:1,B_:0,c$:-r,f:1})),this.m.push(new U$({g_:-1,B_:0,c$:-r,f:1})),this.zg(r,c,g),this.W_()},lr:function($,_,D,r,c,f=1,a=32){var L=new c$({B$:$+8*_,d$:-D,f,g:a,a:.1}),g=new c$({B$:$+8*_,d$:D,f,g:a,a:.1}),U=new c$({B$:$+30*_,d$:22-D,f,g:a,a:.1}),A=new c$({B$:$+30*_,d$:D-22,f,g:a,a:.1});this.O.push(L),this.O.push(g),this.O.push(U),this.O.push(A),this.k.push(new L$({H:L,M:U,f,g:a,a:.1,iD:90*_})),this.k.push(new L$({H:A,M:U,f,g:a,a:.1})),this.k.push(new L$({H:A,M:g,f,g:a,a:.1,iD:90*_})),this.F.push(new M$({B$:$,d$:-D,j:0,l:8,u:r})),this.F.push(new M$({B$:$,d$:D,j:0,l:8,u:r})),this.e$.push(new I_({AB:$,UB:-D,uB:$,RB:D,p:c}))},Og:function($,_){var D=new c$({B$:0,d$:-_,a:.1,g:24,f:6}),r=new c$({B$:0,d$:-$,a:.1,g:24,f:6}),c=new c$({B$:0,d$:$,a:.1,g:24,f:6}),f=new c$({B$:0,d$:_,a:.1,g:24,f:6});this.O.push(D),this.O.push(r),this.O.push(c),this.O.push(f),this.k.push(new L$({H:D,M:r,a:.1,g:24,f:6,u$:!1})),this.k.push(new L$({H:c,M:f,a:.1,g:24,f:6,u$:!1})),this.k.push(new L$({H:r,M:c,a:.1,g:8,f:6,u$:!1,iD:180})),this.k.push(new L$({H:c,M:r,a:.1,g:16,f:6,u$:!1,iD:180}))},zg:function($,_,D){if(!(D<=0)){var r=new c$({B$:-$+D,d$:-_,f:0}),c=new c$({B$:-$,d$:-_+D,f:0}),f=new c$({B$:-$+D,d$:_,f:0}),a=new c$({B$:-$,d$:_-D,f:0}),L=new c$({B$:$-D,d$:_,f:0}),g=new c$({B$:$,d$:_-D,f:0}),U=new c$({B$:$-D,d$:-_,f:0}),A=new c$({B$:$,d$:-_+D,f:0});this.O.push(r),this.O.push(c),this.O.push(f),this.O.push(a),this.O.push(L),this.O.push(g),this.O.push(U),this.O.push(A),this.k.push(new L$({H:r,M:c,a:1,f:1,u$:!1,iD:-90})),this.k.push(new L$({H:f,M:a,a:1,f:1,u$:!1,iD:90})),this.k.push(new L$({H:L,M:g,a:1,f:1,u$:!1,iD:-90})),this.k.push(new L$({H:U,M:A,a:1,f:1,u$:!1,iD:90}))}},copy:function(){var $=new v,_=this;$.U5=_.U5,$.L=_.L,$.j_=_.j_,$.AD=_.AD,$.UD=_.UD,$.uD=_.uD,$.RD=_.RD,$.kD=_.kD,$.sD=_.sD,$._D=_._D,$.nD=_.nD,$.y_=_.y_;var D=$.$D,r=_.$D;return D.a=r.a,D.j=r.j,D.Z=r.Z,D.HD=r.HD,D.PD=r.PD,D.MD=r.MD,D.tD=r.tD,D.V.x=r.V.x,D.V.y=r.V.y,D.g=r.g,D.l=r.l,D.wD=r.wD,$.$X=_.$X,$._X=_._X,$.pX=_.pX,$.eD=_.eD,$.O=_.O.map((c,f)=>{var a=new c$;return a.B.x=c.B.x,a.B.y=c.B.y,a.a=c.a,a.f=c.f,a.g=c.g,a.$=f,a}),$.k=_.k.map(c=>{var f=new L$,a=c.H,L=c.M,g=-1,U=-1;return _.O.forEach((A,u)=>{A==a?g=u:A==L&&(U=u)}),f.H=$.O[g],f.M=$.O[U],f.Z$=c.Z$,f.o$=c.o$,f.u=c.u,f.u$=c.u$,f.a=c.a,f.f=c.f,f.g=c.g,f}),$.m=_.m.map(c=>{var f=new U$;return f.z$.x=c.z$.x,f.z$.y=c.z$.y,f.c$=c.c$,f.a=c.a,f.f=c.f,f.g=c.g,f}),$.e$=_.e$.map(c=>{var f=new I_;return f.L_.x=c.L_.x,f.L_.y=c.L_.y,f.d_.x=c.d_.x,f.d_.y=c.d_.y,f.p=c.p,f}),$.F=_.F.map(c=>{var f=new M$;return f.B.x=c.B.x,f.B.y=c.B.y,f.I.x=c.I.x,f.I.y=c.I.y,f.V.x=c.V.x,f.V.y=c.V.y,f.l=c.l,f.a=c.a,f.j=c.j,f.Z=c.Z,f.u=c.u,f.f=c.f,f.g=c.g,f}),$.L$=_.L$.map(c=>{var f=new s_;return f.H$=c.H$,f.P$=c.P$,f.O$=c.O$,f.v$=c.v$,f.p_=c.p_,f.u=c.u,f}),$.c_=_.c_.map(c=>new V_(c.x,c.y)),$.r_=_.r_.map(c=>new V_(c.x,c.y)),$.W_(),$}};Object.defineProperty(v.prototype,"isCustom",{get:function(){return!this.Sf()}});V5(v,[],["vertices","segments","planes","goals","discs","joints","redSpawnPoints","blueSpawnPoints","playerPhysics","defaultStadiumId","maxViewWidth","cameraFollow","canBeStored","fullKickOffReset","name","width","height","bgType","bgColor","bgWidth","bgHeight","bgKickOffRadius","bgCornerRadius","spawnDistance","bgGoalLine"],[]);var S_=v,{kX:S5,$y:hX,Mr:i5}=e_;function b$(){this.U_=-1,this.D$=null,this.a_=0,this.FD=0,this.E_=0,this.m_=0,this.XX=r$.I$,this.c=0,this.K_=0,this.s=new hX,this.G$=0,this.k$=5,this.C=null,this.a$=null}var JD=[],n_=[];for(yD=0;yD<256;yD++)JD.push(new S5(0,0)),n_.push(0);var yD;b$.v_=function($,_,D){$.a$=_.a$.V_(D),$.k$=_.k$,$.G$=_.G$,$.s=_.s.V_(D),$.K_=_.K_,$.c=_.c,$.m_=_.m_,$.E_=_.E_,$.FD=_.FD,$.a_=_.a_,$.C=_.C,$.XX=_.XX};b$.prototype={qs:function($){this.a$=$,this.k$=$.k$,this.G$=$.G$,this.C=$.C,this.s=hX.Is($.C),this.vg()},Vg:function($){$.p==r$.N_?this.s.ag($,this.a$.Bc):this.s.Vs($,this.C,this.a$.ef)},Ws:function($,_){return this.C.e$.findIndex(D=>D.Tr($,_))},j$:function($){var _=this;if(_.a_>0)_.a_<120&&_.a_--;else{_.a$.kf?.();var D=_.C.$D,r=_.a$.G;r.forEach(g=>{var{E:U}=g;if(U){if(g.C$&16||(g.M_=!1),g.ND>0&&g.ND--,g.hD<_.a$.cX&&g.hD++,g.M_&&g.ND<=0&&g.hD>=0){var A=!1;_.s.F.forEach(u=>{u!=U&&u.g&64&&_.s.zs(U,u,D)&&(A=!0)}),A&&(_.a$.of?.(g),g.M_=!1,g.ND=_.a$.lD,g.hD-=_.a$.YD)}_.s.vs(g,D)}});var c=0;switch(_.s.F.forEach((g,U)=>{g.g&128&&(n_[c]=U,U=JD[c],U.x=g.B.x,U.y=g.B.y,c++)}),_.s.E$($,_.a$),_.c){case 0:{r.forEach(g=>{g.E&&(g.E.f=39|_.XX.f)}),_.s.F[0].NB()&&(_.c=1,_.a$.lf?.());break}case 1:{_.FD+=.016666666666666666,r.forEach(g=>{g.E&&(g.E.f=39)});var f=-1;for(r=_.s.F,$=0;$<c&&f<0;$++)f=_.Ws(r[n_[$]].B,JD[$]);if(f>=0){var a=_.C.e$[f],{p:L}=a;_.c=2,_.K_=150,_.XX=L,L==r$.I$?_.E_++:_.m_++,_.a$.bf?.(L==r$.I$?r$.__:r$.I$,f,a,n_[$],r[n_[$]]),_.a$.xs?.(L.$)}else _.G$>0&&_.FD>=60*_.G$&&_.m_!=_.E_&&(_.a$.Qf?.(),_.Ig());break}case 2:{_.K_--,_.K_<=0&&(_.k$>0&&(_.m_>=_.k$||_.E_>=_.k$)||_.G$>0&&_.FD>=60*_.G$&&_.m_!=_.E_?_.Ig():(_.vg(),_.a$.jf?.()));break}case 3:{_.K_--,_.K_<=0&&_.a$.J!=null&&(_.a$.J=null,_.a$.G.forEach(g=>{g.E&&_.a$.Bc?.(g),g.E=null,g.Z_=0}),_.a$.br?.(null));break}}}},Ig:function(){this.K_=300,this.c=3,this.a$.Ef?.(this.m_>this.E_?r$.I$:r$.__)},vg:function(){var $=this,{F:_,eD:D,c_:r,r_:c,y_:f}=$.C,a=$.s.F,L=D?_.length:1;$.c=0;for(var g=0;g<L;g++)_[g].fg(a[g]);var U=[0,0,0];$.a$.G.forEach(A=>{$.Vg(A);var{$:u,yg:N}=A.p;if(u!=0){var{B:C}=A.E,h=U[u],O=u==1?r:c;O.length==0?(g=h+1>>1,h&1||(g=-g),C.x=f*N,C.y=55*g):(h>=O.length&&(h=O.length-1),g=O[h],C.x=g.x,C.y=g.y),A.Z_=++U[u]}})},A:function($){this.s.A($),$.i(this.K_),$.i(this.c),$.i(this.m_),$.i(this.E_),$.R(this.FD),$.i(this.a_),$.n(this.XX.$)},U:function($,_){this.s.U($),this.K_=$.S(),this.c=$.S(),this.m_=$.S(),this.E_=$.S(),this.FD=$.h(),this.a_=$.S(),this.XX=r$.X[$.Ic()]||r$.N_,this.a$=_,this.k$=_.k$,this.G$=_.G$,this.C=_.C,this.s.O=this.C.O,this.s.k=this.C.k,this.s.m=this.C.m,this.s.L$=this.C.L$},V_:function($){return $!=this.U_&&(this.D$||(this.D$=new b$),this.U_=$,b$.v_(this.D$,this,$)),this.D$},copy:function($){var _=new b$;return _.s.F=this.s.F.map(D=>{var r=new i5;return r.B.x=D.B.x,r.B.y=D.B.y,r.I.x=D.I.x,r.I.y=D.I.y,r.V.x=D.V.x,r.V.y=D.V.y,r.l=D.l,r.a=D.a,r.j=D.j,r.Z=D.Z,r.u=D.u,r.f=D.f,r.g=D.g,r.K=D.K,r}),_.K_=this.K_,_.c=this.c,_.m_=this.m_,_.E_=this.E_,_.FD=this.FD,_.a_=this.a_,_.XX=this.XX,_.a$=$||this.a$,_.k$=_.a$.k$,_.G$=_.a$.G$,_.C=_.a$.C,_.s.O=_.C.O,_.s.k=_.C.k,_.s.m=_.C.m,_.s.L$=_.C.L$,_}};b$.prototype.runSteps=b$.prototype.j$;Object.defineProperty(b$.prototype,"paused",{get:function(){return this.a_!==0}});Fy3.b(b$,[],[null,"ext","pauseGameTickCounter","timeElapsed","blueScore","redScore","goalConcedingTeam","state","goalTickCounter","physicsState","timeLimit","scoreLimit","stadium",null],[]);var e5=b$,k5=X_(function($){var{T:{IX:{Vc:_,W$:D}}}=Fy3;function r(u){return"rgba("+[(u&16711680)>>>16,(u&65280)>>>8,u&255].join()+",255)"}function c(u){var N=u.match(/rgba?[ \t]*\([ \t]*(\d+),[ \t]*(\d+),[ \t]*(\d+)[ \t]*\)/);if(!(N.length<4)){var C=parseInt(N[1]),h=parseInt(N[2]),O=parseInt(N[3]);if(!(C>255||h>255||O>255))return C<<16|h<<8|O}}function f(u,N){return(Fy3.Y_.oX?"https":"http")+"://"+Fy3.Y_.Fc+"/play?c="+u+(N?"&p=1":"")}function a(){return S_.Vf()}function L(u){try{var N=new S_;return N.Zs(u),N}catch(C){throw C instanceof _?C:C instanceof SyntaxError?D(x.da,C.lineNumber):D(x.La,C)}}function g(u){return u.ms()}function U(u,N,C){return(C?16:0)|(u>0?8:u<0?4:0)|(N>0?2:N<0?1:0)}function A(u){return{dirX:((u&8)>0)-((u&4)>0),dirY:((u&2)>0)-((u&1)>0),kick:(u&16)>0}}$.nZ=$.Ts||($.Ts={ts:r,ac:c,ws:f,Ps:a,Hs:L,mf:g,u5:U,Ms:A})}),{b:o5,T:{f$:{q:{jc:l5,vf:{gX:AD}}}}}=Fy3;l5(AD,x.ta);o5(AD,[],[null,"pings","byId"],[]);var b5=AD,{b:Q5,T:{f$:{q:{jc:j5,vf:{aX:UD}}}}}=Fy3;j5(UD,x.ba);Q5(UD,[],[null,"id","reason","ban","byId"],[]);var E5=UD,{b:m5,T:{f$:{q:{jc:K5,vf:{JX:uD}}}}}=Fy3;K5(uD,x.ea);m5(uD,[],[null,"data"],[]);var Z5=uD,{b:q5,T:{IX:{W$:W5},f$:{q:{s$:x5}}}}=Fy3,YX=x5({$:x.Sa,J$:!1,r$:!1,Yr:{Cr:10,Or:900},Q:function(){this.dc="",this.u=0,this.R5=0,this.F5=0,this.X=0,this.yr=null},A$:function($,_,D,r,c){return $.dc=_,$.u=D,$.R5=r,$.F5=c,$},U$:function(){return[this.dc,this.u,this.R5,this.F5]},e:function($){this.X==0&&$.$A(this.dc,this.u,this.R5,this.F5)},A:function($){$.z_(this.dc.substring(0,1e3)),$.i(this.u),$.n(this.R5),$.n(this.F5)},U:function($){if(this.dc=$.O_(),this.dc.length>1e3)throw W5(x.ua);this.u=$.S(),this.R5=$.z(),this.F5=$.z()}});q5(YX,[],[null,"msg","color","style","sound","byId","targetId"],[]);var T5=YX,{b:t5,T:{f$:{q:{s$:w5}}}}=Fy3,CX=w5({$:x.ia,J$:!1,r$:!1,Q:function(){this.value=0,this.$=null,this.Lc=null,this.X=0},A$:function($,_,D,r){return $.value=_,$.$=D,$.Lc=r,$},U$:function(){return[this.value,this.$,this.Lc]},e:function($){if(this.$!=null){Fy3.C_(()=>{try{$._A?.(this.X,this.$,this.Lc)}catch{}},200);return}$.DA(this.X,this.value)},A:function($){$.n(this.value),this.$!=null&&this.Lc!=null&&($.i(this.$),$.n(this.Lc))},U:function($,_){if(this.value=$.z(),!_)try{this.$=$.S(),this.Lc=$.z()}catch{}}});t5(CX,[],[null,"value","id","mode","byId"],[]);var P5=CX,{b:H5,T:{f$:{q:{s$:M5}}}}=Fy3,OX=M5({$:x.ka,J$:!0,r$:!0,Q:function(){this.C$=0,this.X=0},A$:function($,_){return $.C$=_,$},U$:function(){return[this.C$]},e:function($){$.XA(this.X,this.C$)},A:function($){$.V$(this.C$)},U:function($){this.C$=$.n$()}});H5(OX,[],[null,"input","byId"],[]);var $r=OX,{b:_r,T:{IX:{W$:Dr},f$:{q:{s$:Xr}}}}=Fy3,zX=Xr({$:x.oa,J$:!1,r$:!1,Yr:{Cr:10,Or:900},Q:function(){this.Q_="",this.X=0,this.yr=null},A$:function($,_){return $.Q_=_,$},U$:function(){return[this.Q_]},e:function($){$.cA(this.Q_,this.X)},A:function($){$.z_(this.Q_.substring(0,140))},U:function($){if(this.Q_=$.O_(),this.Q_.length>140)throw Dr(x.Ra)}});_r(zX,[],[null,"text","byId","targetId"],[]);var cr=zX,{b:rr,T:{f$:{q:{s$:yr}}}}=Fy3,vX=yr({$:x.la,J$:!1,r$:!1,Q:function(){this.$=0,this.L="",this.h$="",this.F$="",this.mD="",this.t$="",this.X=0},A$:function($,_,D,r,c,f,a){return $.$=_,$.L=D,$.h$=r,$.F$=c,$.mD=f,$.t$=a,$},U$:function(){return[this.$,this.L,this.h$,this.F$,this.mD,this.t$]},e:function($){this.X==0&&$.Yd(this.$,this.L,this.h$,this.F$,this.mD,this.t$)},A:function($){$.i(this.$),$.A_(this.L),$.A_(this.h$),$.A_(this.F$)},U:function($){this.$=$.S(),this.L=$.s_(),this.h$=$.s_(),this.F$=$.s_()}});rr(vX,[],[null,"id","name","flag","avatar","conn","auth","byId"],[]);var fr=vX,{b:Jr,T:{f$:{q:{s$:ar}}}}=Fy3,VX=ar({$:x.Qa,J$:!1,r$:!1,Q:function(){this.X=0},A$:function($){return $},U$:function(){return[]},e:function($){$.e_(this.X,32)&&$.rA($.t(this.X))},A:function(){},U:function(){}});Jr(VX,[],[null,"byId"],[]);var gr=VX,{b:Br,T:{f$:{q:{s$:dr}}}}=Fy3,IX=dr({$:x.ja,J$:!1,r$:!1,Q:function(){this.X=0},A$:function($){return $},U$:function(){return[]},e:function($){$.e_(this.X,32)&&$.yA($.t(this.X))},A:function(){},U:function(){}});Br(IX,[],[null,"byId"],[]);var Lr=IX,{b:nr,T:{f$:{q:{s$:sr}}}}=Fy3,GX=sr({$:x.Ea,J$:!0,r$:!0,Q:function(){this.N5=!1,this.X=0},A$:function($,_){return $.N5=_,$},U$:function(){return[this.N5]},e:function($){$.e_(this.X,16)&&$.fA(this.N5,this.X)},A:function($){$.n(this.N5?1:0)},U:function($){this.N5=$.z()!=0}});nr(GX,[],[null,"paused","byId"],[]);var Ar=GX,{b:Ur,T:{f$:{q:{s$:ur}}}}=Fy3,pX=ur({$:x.ma,J$:!1,r$:!1,Q:function(){this.W=0,this.q_=0,this.X=0},A$:function($,_,D){return $.W=_,$.q_=D,$},U$:function(){return[this.W,this.q_]},e:function($){if($.e_(this.X,2))switch(this.W){case 0:$.JA(this.q_,this.X);break;case 1:$.aA(this.q_,this.X);break}},A:function($){$.i(this.W),$.i(this.q_)},U:function($){this.W=$.S(),this.q_=$.S()}});Ur(pX,[],[null,"type","newValue","byId"],[]);var Rr=pX,{b:Fr,T:{f$:{s5:{A5:Nr,pr:hr},q:{s$:Yr}}}}=Fy3,SX=Yr({$:x.Ka,J$:!1,r$:!1,Yr:{Cr:10,Or:2e3},Q:function(){this.C=null,this.X=0},A$:function($,_){return $.C=_,$},U$:function(){return[this.C?.copy()]},e:function($){$.e_(this.X,8)&&$.gA(this.C,this.X)},A:function($){var _=Nr.D();this.C.A(_);var D=Fy3.q$.deflateRaw(_.Q$());$.K$(D.byteLength),$.M$(D)},U:function($){var _=Fy3.q$.inflateRaw($.m$($.x$()));this.C=S_.U(new hr(new DataView(_.buffer,_.byteOffset,_.byteLength)))}});Fr(SX,[],[null,"stadium","byId"],[]);var Cr=SX,{b:Or,T:{f$:{q:{s$:zr}}}}=Fy3,iX=zr({$:x.Za,J$:!1,r$:!1,Q:function(){this.K=0,this.p=null,this.X=0},A$:function($,_,D){return $.K=_,$.p=D,$},U$:function(){return[this.K,this.p]},e:function($){!$.e_(this.X,1)&&(this.K!=this.X||$.bD||$.J!=null)||$.Qr($.t(this.K),this.p,this.X)},A:function($){$.i(this.K),$.n(this.p.$)},U:function($){this.K=$.S(),this.p=r$.X[$.Ic()]||r$.N_}});Or(iX,[],[null,"playerId","team","byId"],[]);var vr=iX,{b:Vr,T:{f$:{q:{s$:Ir}}}}=Fy3,eX=Ir({$:x.qa,J$:!1,r$:!1,Q:function(){this.q_=0,this.X=0},A$:function($,_){return $.q_=_,$},U$:function(){return[this.q_]},e:function($){$.e_(this.X,2)&&$.BA(this.q_,this.X)},A:function($){$.n(this.q_?1:0)},U:function($){this.q_=$.z()!=0}});Vr(eX,[],[null,"newValue","byId"],[]);var Gr=eX,{b:pr,T:{f$:{q:{s$:Sr}}}}=Fy3,kX=Sr({$:x.Wa,J$:!1,r$:!1,Q:function(){this.K=0,this.value=0,this.X=0},A$:function($,_,D){return $.K=_,$.value=D,$},U$:function(){return[this.K,this.value]},e:function($){$.e_(this.X,4)&&$.dA($.t(this.K),this.value,this.X)},A:function($){$.i(this.K),$.n(this.value?1:0)},U:function($){this.K=$.S(),this.value=$.z()!=0}});pr(kX,[],[null,"playerId","value","byId"],[]);var ir=kX,{b:er,T:{f$:{q:{s$:kr}}}}=Fy3,oX=kr({$:x.xa,J$:!1,r$:!1,Q:function(){this.X=0},A$:function($){return $},U$:function(){return[]},e:function($){$.e_(this.X,1)&&$.LA(this.X)},A:function($){},U:function($){}});er(oX,[],[null,"byId"],[]);var or=oX,{b:lr,T:{f$:{q:{s$:br}}}}=Fy3,lX=br({$:x.Ta,J$:!1,r$:!1,Yr:{Cr:2,Or:1e4},Q:function(){this.value=!1,this.X=0},A$:function($,_){return $.value=_,$},U$:function(){return[this.value]},e:function($){$.nA($.t(this.X),this.value)},A:function($){$.n(this.value?1:0)},U:function($){this.value=$.z()!=0}});lr(lX,[],[null,"value","byId"],[]);var Qr=lX,{b:jr,T:{f$:{q:{s$:Er}}}}=Fy3,bX=Er({$:x.wa,J$:!1,r$:!1,Q:function(){this.value=null,this.X=0},A$:function($,_){return $.value=_,$},U$:function(){return[this.value]},e:function($){$.sA(this.X,this.value)},A:function($){$.A_(this.value)},U:function($){this.value=$.s_(),this.value&&(this.value=this.value.substring(0,2))}});jr(bX,[],[null,"value","byId"],[]);var mr=bX,{b:Kr,T:{f$:{q:{s$:Zr}}}}=Fy3,QX=Zr({$:x.Pa,J$:!1,r$:!1,Q:function(){this.p=null,this.nc=null,this.X=0},A$:function($,_,D){return $.p=_,$.nc=D,$},U$:function(){return[this.p,this.nc?.copy()]},e:function($){$.e_(this.X,2)&&$.AA(this.p.$,this.nc,this.X)},A:function($){$.n(this.p.$),this.nc.A($)},U:function($){this.p=r$.X[$.Ic()]||r$.N_,this.nc=new dX,this.nc.U($)}});Kr(QX,[],[null,"team","colors","byId"],[]);var qr=QX,{b:Wr,T:{f$:{q:{s$:xr}}}}=Fy3,jX=xr({$:x.Ha,J$:!1,r$:!1,Q:function(){this.SX=null,this.h5=!0,this.X=0},A$:function($,_,D){var r=new Set;_.forEach(a=>r.add(a)),_=[],r=r.values();for(var c=r.next(),f=0;!c.done&&f<40;f++)_.push(c.value),c=r.next();return $.SX=_,$.h5=D,$},U$:function(){return[this.SX.slice(),this.h5]},e:function($){this.X==0&&$.UA(this.SX,this.h5)},A:function($){$.n(this.h5?1:0),$.n(this.SX.length),this.SX.forEach(_=>$.i(_))},U:function($){this.SX=[],this.h5=$.z()!=0;for(var _=$.z(),D=0;D<_;D++)this.SX.push($.S())}});Wr(jX,[],[null,"playerIdList","moveToTop","byId"],[]);var Tr=jX,{b:tr,T:{f$:{q:{s$:wr}}}}=Fy3,EX=wr({$:x.Ma,J$:!1,r$:!1,Q:function(){this.Y5=0,this.C5=0,this.O5=0,this.X=0},A$:function($,_,D,r){return $.Y5=_,$.C5=D,$.O5=r,$},U$:function(){return[this.Y5,this.C5,this.O5]},e:function($){$.e_(this.X,2)&&$.Gg(this.Y5,this.C5,this.O5,$.t(this.X))},A:function($){$.i(this.Y5),$.i(this.C5),$.i(this.O5)},U:function($){this.Y5=$.S(),this.C5=$.S(),this.O5=$.S()}});tr(EX,[],[null,"min","rate","burst","byId"],[]);var Pr=EX,{b:Hr,T:{f$:{q:{s$:Mr}}}}=Fy3,mX=Mr({$:x.$g,J$:!1,r$:!1,Q:function(){this.F$="",this.K=0,this.X=0},A$:function($,_,D){return $.K=_,$.F$=D,$},U$:function(){return[this.K,this.F$]},e:function($){this.X==0&&$.uA(this.K,this.F$)},A:function($){$.A_(this.F$),$.i(this.K)},U:function($){this.F$=$.s_()?.substring(0,2),this.K=$.S()}});Hr(mX,[],[null,"avatar","playerId","byId"],[]);var $y=mX,{b:_y,T:{f$:{q:{s$:Dy}}}}=Fy3,i_=Dy({$:x._g,J$:!1,r$:!1,Q:function(){this.$=0,this.W=!1,this.iX=null,this.X_=null,this.X=0},A$:function($,_,D,r,c){return $.$=_,$.W=D,$.iX=r,$.X_=c,$},U$:function(){return[this.$,this.W,this.iX.slice(),this.X_.slice()]},e:function($){this.X==0&&$.RA(this.W,this.$,this.iX,this.X_)},A:function($){$.i(this.$),$.n(this.W?1:0);var _=$.d,D=0,r=1;$.K$(0),this.iX.forEach(c=>{c!=null&&(D|=r,$.Uy(c)),r<<=1}),this.X_.forEach(c=>{c!=null&&(D|=r,$.i(c)),r<<=1}),r=$.d,$.d=_,$.K$(D),$.d=r},U:function($){this.$=$.S(),this.W=$.z()!=0;var _=$.x$(),D;for(this.iX=[],D=0;D<10;D++)this.iX[D]=null,_&1&&(this.iX[D]=$.sy()),_>>>=1;for(this.X_=[],D=0;D<3;D++)this.X_[D]=null,_&1&&(this.X_[D]=$.S()),_>>>=1}});i_.SD=function($,_,D){var r=[D.x,D.y,D.xspeed,D.yspeed,D.xgravity,D.ygravity,D.radius,D.bCoeff,D.invMass,D.damping];r.forEach((f,a)=>{f!=null&&(r[a]=Math.fround(f))});var c=[D.color,D.cMask,D.cGroup];return c.forEach((f,a)=>{f!=null&&(c[a]=f|0)}),i_.D($,_,r,c)};_y(i_,[],[null,"id","type","data1","data2","byId"],[]);var Xy=i_,{b:cy,T:{f$:{q:{s$:ry}}}}=Fy3,KX=ry({$:x.Dg,J$:!1,r$:!1,Q:function(){this.W=0,this.$$=null,this.X=0},A$:function($,_,D){return $.W=_,$.$$=D,$},U$:function(){return[this.W,JSON.parse(JSON.stringify(this.$$))]},e:function($){$.FA(this.W,this.$$,this.X)},A:function($){$.V$(this.W),$.z_(JSON.stringify(this.$$))},U:function($){this.W=$.n$(),this.$$=JSON.parse($.O_())}});cy(KX,[],[null,"type","data","byId"],[]);var yy=KX,{b:fy,T:{f$:{q:{s$:Jy},s5:{A5:ay,pr:gy}}}}=Fy3,ZX=Jy({$:x.Xg,J$:!1,r$:!1,Q:function(){this.W=0,this.$$=null,this.X=0},A$:function($,_,D){return $.W=_,$.$$=D,$},U$:function(){var $=new Uint8Array;return $.set(this.$$),[this.W,$]},e:function($){$.NA(this.W,this.$$,this.X)},A:function($){var _=ay.D();_.V$(this.W),_.M$(this.$$);var D=Fy3.q$.deflateRaw(_.Q$());$.V$(D.byteLength),$.M$(D)},U:function($){var _=Fy3.q$.inflateRaw($.m$($.n$()));$=new gy(new DataView(_.buffer,_.byteOffset,_.byteLength)),this.W=$.n$(),this.$$=$.m$()}});fy(ZX,[],[null,"type","data","byId"],[]);var By=ZX,{b:dy,T:{f$:{q:{s$:Ly}}}}=Fy3,qX=Ly({$:x.cg,J$:!1,r$:!1,Q:function(){this.$=0,this.$$=null,this.X=0},A$:function($,_,D){return $.$=_,$.$$=D,$},U$:function(){return[this.$,JSON.parse(JSON.stringify(this.$$))]},e:function($){this.X==0&&$.Ty(this.$,this.$$,this.X)},A:function($){$.i(this.$),$.z_(JSON.stringify(this.$$))},U:function($){this.$=$.S(),this.$$=JSON.parse($.O_())}});dy(qX,[],[null,"id","data","byId"],[]);var ny=qX,WX=X_(function($){$.nZ=$.hA||($.hA={gX:b5,aX:E5,JX:Z5,pg:T5,Sg:P5,ig:$r,eg:cr,kg:fr,og:gr,lg:Lr,bg:Ar,Qg:Rr,jg:Cr,Eg:vr,mg:Gr,Kg:ir,Zg:or,qg:Qr,Wg:mr,xg:qr,Tg:Tr,tg:Pr,wg:$y,Pg:Xy,Hg:yy,Mg:By,$B:ny})}),sy=X_(function($){$.nZ=$.YA||($.YA={CA:(_,{x:D,y:r},c)=>_.J?.s.O.findIndex(f=>{var a=f.B.x-D,L=f.B.y-r;return a*a+L*L<=c*c}),OA:(_,{x:D,y:r},c)=>_.J?.s.k.findIndex(f=>{var a,L,g,U,A,u,N;if(0*f.o$==0){if(L=D-f.I5.x,g=r-f.I5.y,(f.Uc.x*L+f.Uc.y*g>0&&f.uc.x*L+f.uc.y*g>0)==f.o$<=0)return!1;a=Math.sqrt(L*L+g*g)-f.xr}else{if(U=f.H.B,A=f.M.B,L=A.x-U.x,g=A.y-U.y,u=D-A.x,N=r-A.y,(D-U.x)*L+(r-U.y)*g<=0||u*L+N*g>=0)return!1;a=f.z$.x*u+f.z$.y*N}return Math.abs(a)<c}),zA:(_,{x:D,y:r},c)=>_.C.e$.findIndex(f=>{var a=f.L_,L=f.d_,g=L.x-a.x,U=L.y-a.y,A=D-L.x,u=r-L.y;if((D-a.x)*g+(r-a.y)*U<=0||A*g+u*U>=0)return!1;var N=Math.sqrt(U*U+g*g);return Math.abs(A*U/N-u*g/N)<c}),vA:(_,{x:D,y:r},c)=>_.J?.s.m.findIndex(f=>Math.abs(f.c$-(f.z$.x*D+f.z$.y*r))<c),VA:(_,{x:D,y:r},c)=>{var f=_.J?.s;if(!f)return-1;var a=f.F;return f.L$.findIndex(L=>{var g=a[L.P$];if(!g)return!1;var U=a[L.H$];if(!U)return!1;var A=g.B,u=U.B,N=u.x-A.x,C=u.y-A.y,h=D-u.x,O=r-u.y;if((D-A.x)*N+(r-A.y)*C<=0||h*N+O*C>=0)return!1;var p=Math.sqrt(C*C+N*N);return Math.abs(h*C/p-O*N/p)<c})},IA:(_,{x:D,y:r})=>_.J?.s.F.findIndex(c=>{var f=c.B.x-D,a=c.B.y-r;return f*f+a*a<=c.l*c.l}),GA:(_,{x:D,y:r},c)=>{c||(c=_.J?.C.$D.l);var f=c*c,a=_.J?.C.c_.findIndex(L=>{var g=L.x-D,U=L.y-r;return g*g+U*U<=f});return a>=0?[a,1]:(a=_.J?.C.r_.findIndex(L=>{var g=L.x-D,U=L.y-r;return g*g+U*U<=f}),a>=0?[a,2]:[-1,-1])}})}),Ay=X_(function($){var _=[];function D(c,f){_.push({L:c})}function r(c){var f=_.findIndex(a=>a.L==c);f<0||_.splice(f,1)}D("PlayerObjectCreated"),D("PlayerDiscCreated"),D("PlayerDiscDestroyed"),D("RoomLink"),D("PlayerBallKick"),D("TeamGoal"),D("GameEnd"),D("GameTick"),D("PlayerSyncChange"),D("Announcement"),D("KickOff"),D("AutoTeams"),D("ScoreLimitChange"),D("TimeLimitChange"),D("PlayerAdminChange"),D("PlayerAvatarChange"),D("PlayerHeadlessAvatarChange"),D("PlayersOrderChange"),D("PlayerTeamChange"),D("StadiumChange"),D("TeamColorsChange"),D("TeamsLockChange"),D("PlayerJoin"),D("GamePauseChange"),D("PlayerChat"),D("PlayerInputChange"),D("PlayerChatIndicatorChange"),D("PlayerLeave"),D("SetDiscProperties"),D("KickRateLimitChange"),D("GameStart"),D("GameStop"),D("PingData"),D("PingChange"),D("CollisionDiscVsDisc"),D("CollisionDiscVsSegment"),D("CollisionDiscVsPlane"),D("CollisionDiscVsVertex"),D("ModifyJoint"),D("TimeIsUp"),D("PositionsReset"),D("BansClear"),D("BanClear"),D("HandicapChange"),D("RoomRecaptchaModeChange"),D("RoomTokenChange"),D("RoomRecordingChange"),D("RoomPropertiesChange"),D("CustomEvent"),D("BinaryCustomEvent"),D("IdentityEvent"),D("PluginActiveChange"),D("ConfigUpdate"),D("RendererUpdate"),D("PluginAdd"),D("PluginUpdate"),D("PluginMove"),D("PluginRemove"),D("LibraryAdd"),D("LibraryMove"),D("LibraryUpdate"),D("LibraryRemove"),D("LanguageChange"),Fy3.z5||D("VariableValueChange"),$.nZ=$.Kf||($.Kf={Kf:_,pA:D,SA:r})}),Uy=X_(function($){var{pg:_,Sg:D,JX:r,ig:c,eg:f,kg:a,aX:L,og:g,lg:U,bg:A,Qg:u,jg:N,Eg:C,mg:h,Kg:O,Zg:p,qg:B,gX:s,Wg:F,xg:I,Tg:l,tg:K,wg:R,Pg:k,Hg:j,Mg:n$,$B:i}=WX;$.nZ=$.iA||($.iA={create:V=>Fy3.T.f$.q.rr(V),createFromStream:V=>Fy3.T.f$.q.Iy(V,!0),checkConsistency:V=>r.D(V),sendAnnouncement:(V,o=-1,t=0,D$=1)=>_.D(V,o,t,D$),sendChatIndicator:V=>D.D(V?0:1),sendInput:V=>c.D(V),sendChat:V=>f.D(V),joinRoom:(V,o,t,D$,X$,J$)=>a.D(V,o,t,D$,X$,J$),setHeadlessAvatar:(V,o)=>R.D(V,o),kickBanPlayer:(V,o,t)=>L.D(V,o,t),reorderPlayers:(V,o)=>l.D(V,o),startGame:()=>g.D(),stopGame:()=>U.D(),pauseResumeGame:V=>A.D(V),setScoreLimit:V=>u.D(0,V),setTimeLimit:V=>u.D(1,V),setStadium:V=>N.D(V),setPlayerTeam:(V,o)=>{var t=r$.X[o];if(t)return C.D(V,t)},setTeamsLock:V=>h.D(V),setPlayerAdmin:(V,o)=>O.D(V,o),autoTeams:()=>p.D(),setPlayerSync:V=>B.D(V),ping:V=>{var o=new s;return o.CD=V,o},setAvatar:V=>F.D(V),setTeamColors:(V,o)=>{var t=r$.X[V];if(t)return I.D(t,o)},setKickRateLimit:(V,o,t)=>K.D(V,o,t),setDiscProperties:(V,o)=>k.SD(V,!1,o),setPlayerDiscProperties:(V,o)=>k.SD(V,!0,o),customEvent:(V,o)=>j.D(V,o),binaryCustomEvent:(V,o)=>n$.D(V,o),setPlayerIdentity:(V,o)=>i.D(V,o)})});function c_($,_=null){this.L=$,this.R$=null,this.defineMetadata(_)}c_.prototype.defineMetadata=function($){};c_.prototype.defineVariable=function($){var _=this,D=$.name,r=$.value;Fy3.z5?_[D]=r:Object.defineProperty(_,D,{get:()=>r,set:c=>{var f=r;c!=f&&(r=c,_.R$?._onVariableValueChange?.(_,D,f,r))}})};c_.prototype.setVariableGUIProps=function($,..._){};c_.addonType=x.ga;Fy3.b(c_,[],["name","room"],[]);var uy=c_;function r_($=null){this.R$=null,this.defineMetadata($)}r_.prototype.defineMetadata=function($){};r_.prototype.defineVariable=function($){var _=this,D=$.name,r=$.value;Fy3.z5?_[D]=r:Object.defineProperty(_,D,{get:()=>r,set:c=>{var f=r;c!=f&&(r=c,_.R$?._onVariableValueChange?.(_,D,f,r))}})};r_.prototype.setVariableGUIProps=function($,..._){};r_.addonType=x.fa;Fy3.b(r_,[],["room"],[]);var Ry=r_;function y_($,_=!1,D=null){this.L=$,this.R$=null,this.defineMetadata(D),this.defineVariable({name:"active",description:"Whether this plugin is active or not.",type:x.rg,value:_})}y_.prototype.defineMetadata=function($){};y_.prototype.defineVariable=function($){var _=this,D=$.name,r=$.value;Fy3.z5?_[D]=r:Object.defineProperty(_,D,{get:()=>r,set:c=>{var f=r;c!=f&&(r=c,_.R$?._onVariableValueChange?.(_,D,f,r))}})};y_.prototype.setVariableGUIProps=function($,..._){};y_.addonType=x.Ja;Fy3.b(y_,[],["name","room"],[]);var Fy=y_;function f_($=null){this.R$=null,this.defineMetadata($)}f_.prototype.defineMetadata=function($){};f_.prototype.defineVariable=function($){var _=this,D=$.name,r=$.value;Fy3.z5?_[D]=r:Object.defineProperty(_,D,{get:()=>r,set:c=>{var f=r;c!=f&&(r=c,_.R$?._onVariableValueChange?.(_,D,f,r))}})};f_.prototype.setVariableGUIProps=function($,..._){};f_.addonType=x.aa;Fy3.b(f_,[],["room"],[]);var Ny=f_,hy=function(){var{f_:$,lX:_,uJ:D,C_:r,q$:c,b:f,T:a}=Fy3;let{IX:{W$:L},Sr:{Qc:g,oc:U,t5:A,w5:u,T5:N,yD:C},f$:{s5:{A5:h,pr:O},q:{Gy:p},Wy:B,py:s,hf:F,qy:I,Of:l,zf:K}}=a;var R=x,k=r$,j=dX,{kX:n$,i5:i,e5:V,k5:o,gg:t,o5:D$,l5:X$}=e_,J$=O5,Q=S_,y$=e5;let{ts:O$,ac:h$,ws:u$,Ps:V$,Hs:Y$,mf:$$,u5:I$,Ms:s$}=k5;var{pg:q,Sg:f$,JX:H,ig:W,eg:T,kg:g$,aX:B$,og:v$,lg:p$,bg:e$,Qg:j$,jg:U_,Eg:k$,mg:l_,Kg:b_,Zg:Q_,qg:j_,gX:$c,Wg:u_,xg:E_,Tg:RD,tg:m_,wg:FD,Pg:K_,Hg:Z_,Mg:q_,$B:W_}=WX,{CA:ND,OA:hD,zA:YD,vA:CD,VA:OD,IA:zD,GA:_c}=sy,{Kf:Dc,pA:Xc,SA:cc}=Ay;function vD(X){this.jr=0,this.eA=X}vD.prototype={E$:function(){var X=this.eA.u5;!this.Er||this.jr==X||(this.jr=X,this.Er(W.D(X)))},Zf:function(){!this.Er||this.jr==0||(this.jr=0,this.Er(W.D(0)))}};let VD={lat:40,lon:40,flag:"tr"};this.yc=F(this,{Q:function(X,y){if(this.XD=X?.XD,this.h_=X?.h_||[],this.w$=X?.w$||[],this._=X?._||{},this.v5=null,this.u5=0,this._B=!1,this.vX=null,this.C$=new vD(this),this.d5=null,this.DB=!1,this.r5=new Set,this.I_=X?.I_||9,this.f_=X?.f_,this.lX=X?.lX,this.V5=X?.V5,this.qf=X?.qf,this.EX=X?.EX,this.T_=X?.T_,this.Ir=X?.Ir,this.y5=X?.y5,!!X){var J=this;Object.assign(y.c,{mr:d=>J._onPlayerInputChange?.(d.$,d.C$),of:d=>J._onPlayerBallKick?.(d?.$),bf:(d,n,Y,z,e)=>J._onTeamGoal?.(d?.$,n,Y,z,e),Ef:d=>J._onGameEnd?.(d.$),Wf:d=>J._onGameStart?.(d?.$),kf:()=>J._onGameTick?.(),lf:()=>J._onKickOff?.(),tr:(d,n,Y,z)=>J._onCollisionDiscVsDisc?.(d,n.K,Y,z.K),wr:(d,n,Y)=>J._onCollisionDiscVsPlane?.(d,n.K,Y),Pr:(d,n,Y)=>J._onCollisionDiscVsSegment?.(d,n.K,Y),Hr:(d,n,Y,z)=>J._onCollisionDiscVsVertex?.(d,n.K,Y,z),p5:(d,n,Y)=>J._onModifyJoint?.(d,n,Y),Kr:(d,n,Y,z,e)=>J._onAutoTeams?.(d,n,Y,z,e),xf:(d,n)=>J._onTimeLimitChange?.(d,n),Tf:(d,n)=>J._onScoreLimitChange?.(d,n),ef:d=>J._onPlayerDiscCreated?.(d),Bc:d=>J._onPlayerDiscDestroyed?.(d),tf:(d,n)=>J._onPlayerAvatarChange?.(d,n),wf:(d,n)=>J._onPlayerHeadlessAvatarChange?.(d,n),Pf:(d,n)=>J._onPlayersOrderChange?.(d,n),Zr:(d,n,Y)=>J._onPlayerTeamChange?.(d,n,Y),Hf:(d,n,Y)=>J._onTeamColorsChange?.(d,n,Y),Mf:(d,n)=>J._onTeamsLockChange?.(d,n),$J:(d,n,Y)=>J._onCustomEvent?.(d,n,Y),_J:(d,n,Y)=>J._onBinaryCustomEvent?.(d,n,Y),ty:(d,n,Y)=>J._onIdentityEvent?.(d,n,Y||0),DJ:(d,n,Y,z)=>J._onSetDiscProperties?.(d,n,Y,z),xy:d=>J._onPingData?.(d),jL:()=>J.hostPing||0,Zf:()=>J.C$.Zf(),jy:d=>J._onHandicapChange?.(d),Qf:()=>J._onTimeIsUp?.(),jf:()=>J._onPositionsReset?.(),XJ:(d,n)=>J._onPlayerChat?.(d.$,n),cJ:(d,n,Y,z)=>J._onAnnouncement?.(d,n,Y,z),br:d=>J._onGameStop?.(d?.$),rJ:(d,n)=>J._onStadiumChange?.(n,d?.$),yJ:d=>J._onPlayerSyncChange?.(d?.$,d?.aD),fJ:(d,n)=>J._onPlayerAdminChange?.(n?.$,n?.o_,d?.$),JJ:(d,n,Y,z)=>J._onKickRateLimitChange?.(n,Y,z,d?.$),aJ:(d,n)=>J._onPlayerChatIndicatorChange?.(d?.$,!n),C4:(d,n)=>{if(d!=J.DB){if(J.y5&&d&&n){var Y=new y.c.AX.t_;Y.U(new O(new DataView(n))),J.y5(y.c,Y)}J.DB=d,J.v(j_.D(d))}},gJ:(d,n)=>{J._onGamePauseChange?.(n,d?.$)},Tc:d=>{J._onPlayerJoin?.(d),J._onPlayerObjectCreated?.(d)},sX:(d,n,Y,z)=>{d.E&&J._onPlayerDiscDestroyed?.(d),J.L5?.(d.$),n!=null&&J.EL?.(d,n,z?.L,Y),J._onPlayerLeave?.(d,n,Y,z?.$),J.r5.delete(d.$)},_A:(d,n,Y)=>{var z;J.i$?(z=y.c.t(d),z&&Y==1&&(z.VX=!0,J.r5.add(z.$))):Y==0&&(J.r5.add(d),z=y.c.t(d),z&&(z.VX=!0),y.kA=!0,z=y.c.t(n),z&&(z.VX=!0),J.r5.add(n),y.vD(f$.D(1,n,1),0,!0,!1))}}),this.C$.Er=d=>J.v(d),Object.defineProperties(this,{sdp:{get:()=>J.i$?null:y._$.Y$.remoteDescription.sdp},currentPlayerId:{get:()=>y.zD},currentPlayer:{get:()=>y.c.t(y.zD)},state:{get:()=>y.c},stateExt:{get:()=>y.c?.D$},gameState:{get:()=>y.c?.J},gameStateExt:{get:()=>y.c?.J?.D$},currentFrameNo:{get:()=>y.N},banList:{get:()=>y.P?.b_?.Vd()},token:{get:()=>y.P?.i_,set:d=>{var n=y.P;n&&(n.i_=d,n._5(),J.d5=null,r(()=>{n.ur(),J._onRoomTokenChange?.(n.i_)},2e4))}},requireRecaptcha:{get:()=>y.P?.cf,set:d=>y.P?.Jf(d)},name:{get:()=>y.c.L},password:{get:()=>y.u_},geo:{get:()=>y.pD},maxPlayerCount:{get:()=>y.hX==null?null:y.hX+(y.fc?0:1)},fakePassword:{get:()=>y.cc},fixedPlayerCount:{get:()=>y.X5},showInRoomList:{get:()=>y.Fr},unlimitedPlayerCount:{get:()=>y.Xc},link:{get:()=>u$(J.d5,y.u_!=null)},timeLimit:{get:()=>y.c.G$},scoreLimit:{get:()=>y.c.k$},redScore:{get:()=>{var d=y.c?.J;return(d?.D$||d)?.m_}},blueScore:{get:()=>{var d=y.c?.J;return(d?.D$||d)?.E_}},timeElapsed:{get:()=>{var d=y.c?.J;return(d?.D$||d)?.FD}},stadium:{get:()=>y.c.C},players:{get:()=>y.c.G}})}},IL:function(X){var y=X.storage||{},J={};return J.f5=y.crappy_router||!1,J.Xa=y.player_name||"abc",J.F$=y.avatar||null,J.pD=g(y.geo||VD,VD),{I_:X.version==null?D:X.version,f_:X.proxyAgent||$,lX:X.identityToken||_,V5:X.noPluginMechanism,y5:X.debugDesync,XD:X.renderer,_:X.config||{},h_:X.libraries||[],w$:X.plugins||[],qf:X.preInit,EX:X.onOpen,T_:X.onClose,Ir:X.onConnInfo,B5:J}},GL:function(X){var{lX:y}=X;if(y){if(!Fy3.S_){Fy3.Dy(J$.dy(R.Va)||"NoProxyIdentityProblem");var J=J$.dy(R.Ia);J&&Fy3.Dy(J);return}return[y]}},SL:function(X){var y=h.D();return y.z_(X.Xa),y.z_(X.pD.flag),y.A_(X.F$),y.QX()},iL:function(X){J$.Bg(X);var y=X._onPlayerObjectCreated;y&&X.r.c.G.forEach(y),y=X._onPlayerDiscCreated,y&&X.r.c.G.filter(J=>J.E!=null).forEach(y)},pL:function(X,y){J$.dg(X)},eL:async function(X,y,J,d,n){var Y=J.O_();if(Y.length>25)return L(R.Na,d,n,Y);var z=J.O_();if(z.length>3)return L(R.ha,d,n,Y,z);var e=J.s_();if(e?.length>2)return L(R.Ya,d,n,Y,z,e);var E=X._modifyPlayerData;if(E){var w=await E(y,Y,z,e,d,n);if(!w)return L(R.Ca,d,n,Y,z,e);[Y,z,e]=w}var d$=g$.D(y,Y,z,e,d,n);if(!X.v(d$))return L(R.Oa,d$);X.r.uf(f$.D(0,y,0),y,!0)},kL:function(X){X._onRoomLink?.(u$(X.d5,X.r.u_!=null))},oL:function(X,y){J$.dg(X)},lL:function(X){J$.Bg(X);var y=X._onPlayerObjectCreated;y&&X.r.c.G.forEach(y),y=X._onPlayerDiscCreated,y&&X.r.c.G.filter(J=>J.E!=null).forEach(y)},bL:function(){this.C$.E$()},QL:function(){this.V5||this.XD?.render?.()}}),Object.assign(this.yc.prototype,{v:function(X,y){if(this.BJ(X,void 0,y)!=!1)return this.r.vD(X),!0},XB:function(X,y){if(y==null){this.v(X);return}if(this.BJ(X,y)!=!1){var J=this;Promise.resolve().then(()=>{J.r.uf(X,y)})}},dJ:function(X,y){if(!(y!=null&&!this.r.c.t(y)?.VX)&&this.BJ(X,y)!=!1)if(this.i$)if(y!=null){var J=this;Promise.resolve().then(()=>{J.r.uf(X,y)})}else this.r.q4(X,0,!0);else this.r.kA&&this.r.vD(X)},YU:function(){this.r.OD.$_.length=0},Gg:function(X,y,J){this.v(m_.D(X,y,J))},cB:function(X,y){y&&this.v(k$.D(X,y))},gL:function(X,y){return X.__proto__.ZX==U_&&X.C.F.length==0?!1:this.rB(X,this.r.N,y)?X.__proto__.ZX==Z_||X.__proto__.ZX==q_||X.__proto__.ZX==W_?(this.r.q4(X,X.X,!0),!1):!0:!1},setProperties:function(X){if(!(!this.i$||!X)){var y={};if(X.hasOwnProperty("name")&&(y.name=this.r.c.L=X.name||""),X.hasOwnProperty("password")&&(y.password=this.r.u_=X.password),X.hasOwnProperty("fakePassword")&&(y.fakePassword=this.r.cc=X.fakePassword),X.hasOwnProperty("geo")){y.geo=X.geo;var J=g(X.geo,this.r.pD,!1);this.r.fc||(this.r.c.t(0).h$=J.flag)}X.hasOwnProperty("unlimitedPlayerCount")&&(y.unlimitedPlayerCount=this.r.Xc=!!X.unlimitedPlayerCount),X.hasOwnProperty("showInRoomList")&&(y.showInRoomList=this.r.Fr=!!X.showInRoomList),X.hasOwnProperty("playerCount")&&(y.playerCount=this.r.X5=X.playerCount),X.hasOwnProperty("maxPlayerCount")&&(y.maxPlayerCount=this.r.hX=X.maxPlayerCount==null?null:X.maxPlayerCount-(this.r.fc?0:1)),this.L5?.(),this._onRoomPropertiesChange?.(y)}},sendCustomEvent:function(X,y,J){this.dJ(Z_.D(X,y),J)},sendBinaryCustomEvent:function(X,y,J){this.dJ(q_.D(X,y),J)},setPlayerIdentity:function(X,y,J){this.dJ(W_.D(X,y),J)},setHandicap:function(X){this.r.gd(X)},clearBan:function(X){this.i$&&this.r.xd(X)},clearBans:function(){this.i$&&this.r.Wd()},addPlayerBan:function(X){if(this.i$){var y=this.r.c.G.filter(J=>J.$==X)[0];if(y)return this.r.Td(y)}},addIpBan:function(...X){if(this.i$)return this.r.td(...X)},addAuthBan:function(...X){if(this.i$)return this.r.wd(...X)},removeBan:function(X){if(this.i$)return this.r.Pd(X)},sendChat:function(X,y){if(this.i$){this.XB(T.D(X),y);return}this.v(T.D(X))},sendChatIndicator:function(X){this._B!=X&&(this.v(f$.D(X?0:1)),this._B=X)},sendAnnouncement:function(X,y,J=-1,d="",n=1){this.i$&&this.XB(q.D(X,J,{bold:1,italic:2,small:3,"small-bold":4,"small-italic":5}[d]||0,n),y)},setDiscProperties:function(X,y){this.i$&&this.v(K_.SD(X,!1,y))},setPlayerDiscProperties:function(X,y){this.i$&&this.v(K_.SD(X,!0,y))},getKeyState:function(){return this.u5},setKeyState:function(X,y=!0){this.u5=X,y&&this.C$.E$()},extrapolate:function(X,y=!1){return y?this.r.BD(X):this.r.Qy||this.r.BD(X)},startGame:function(){this.v(v$.D())},stopGame:function(){this.v(p$.D())},pauseGame:function(){this.r.c.J&&this.v(e$.D(this.r.c.J.a_!=120))},autoTeams:function(){this.v(Q_.D())},lockTeams:function(){this.v(l_.D(!this.r.c?.bD))},isGamePaused:function(){return this.r.c?.J?.a_==120},resetTeams:function(){this.yB(X=>X.p.$!=0)},startRecording:function(){return this.vX!=null?!1:(this.vX=new SD(this.r),this._onRoomRecordingChange?.(!0),!0)},stopRecording:function(){if(this.vX==null)return null;var X=this.vX.BX();return this.vX=null,this._onRoomRecordingChange?.(X),X},isRecording:function(){return this.vX!=null},randTeams:function(){var X=[],y=0,J=0;function d(){return X.splice(Math.random()*X.length|0,1)[0]}if(this.r.c.G.forEach(n=>{n.p==k.I$?y++:n.p==k.__?J++:X.push(n.$)}),X.length!=0){if(X.length==1){this.v(k$.D(d(),Math.random()<.5?k.I$:k.__));return}if(J==y){this.v(k$.D(d(),k.I$)),this.v(k$.D(d(),k.__));return}this.v(k$.D(d(),J>y?k.I$:k.__))}},setSync:function(X){this.r.c.C4(X)},leave:function(){this._a()},setCurrentStadium:function(X){this.v(U_.D(X))},setTimeLimit:function(X){this.v(j$.D(1,X))},setScoreLimit:function(X){this.v(j$.D(0,X))},changeTeam:function(X){this.cB(this.r.zD,k.X[X])},resetTeam:function(X){this.yB(y=>y.p.$==X)},setPlayerTeam:function(X,y){this.cB(X,k.X[y])},setPlayerAdmin:function(X,y){this.v(b_.D(X,y))},kickPlayer:function(X,y,J){this.v(B$.D(X,y||"",J))},setAvatar:function(X){this.v(u_.D(X?.substr(0,2)||""))},setPlayerAvatar:function(X,y,J){!this.i$&&(J||X!=this.r.zD)||this.v(J?FD.D(X,y):u_.D(y),J?0:X)},reorderPlayers:function(X,y){this.v(RD.D(X,y))},setChatIndicatorActive:function(X){this.v(f$.D(X?0:1))},setTeamColors:function(X,y,...J){var d=k.X[X];if(!d)throw L(R.ir);this.v(E_.D(d,j.SD(d,y,...J)))},setUnlimitedPlayerCount:function(X){this.i$&&(this.r.Xc=X)},setFakePassword:function(X){this.i$&&(this.r.cc=X,this.L5?.())},getPlayer:function(X){return this.r.c.t(X)},getBall:function(X=!1){var y=this.r.c?.J;return(X&&y?.D$||y)?.s.F[0]},getDiscs:function(X=!1){var y=this.r.c?.J;return(X&&y?.D$||y)?.s.F},getDisc:function(X,y=!1){var J=this.r.c?.J;return(y&&J?.D$||J)?.s.F[X]},getPlayerDisc:function(X,y=!1){var J=this.r.c?.J,d=(y&&J?.D$||J)?.s.F,n=this.r.c?.C.F;if(!(!d||!n)){for(var Y=n.length;Y<d.length;Y++)if(d[Y].K==X)return d[Y]}},getPlayerDisc_exp:function(X){return this.r.c?.t(X)?.E},fakePlayerJoin:function(X,y,J,d,n,Y){this.v(g$.D(X,y,J,d,n,Y))},fakePlayerLeave:function(X){var y=this.r.c.t(X);if(y)return this.v(B$.D(X,null,!0)),{id:y.$,name:y.L,flag:y.h$,avatar:y.F$,conn:y.mD,auth:y.t$}},fakeSendPlayerInput:function(X,y){this.v(W.D(X),y)},fakeSendPlayerChat:function(X,y){this.v(T.D(X),y)},fakeSetPlayerChatIndicator:function(X,y){this.v(f$.D(X?0:1),y)},fakeSetPlayerAvatar:function(X,y){this.v(u_.D(X),y)},fakeSetStadium:function(X,y){this.v(U_.D(X),y)},fakeStartGame:function(X){this.v(v$.D(),X)},fakeStopGame:function(X){this.v(p$.D(),X)},fakeSetGamePaused:function(X,y){this.v(e$.D(X),y)},fakeSetScoreLimit:function(X,y){this.v(j$.D(0,X),y)},fakeSetTimeLimit:function(X,y){this.v(j$.D(1,X),y)},fakeSetTeamsLock:function(X,y){this.v(l_.D(X),y)},fakeAutoTeams:function(X){this.v(Q_.D(),X)},fakeSetPlayerTeam:function(X,y,J){var d=k.X[y];d&&this.v(k$.D(X,d),J)},fakeSetKickRateLimit:function(X,y,J,d){this.v(m_.D(X,y,J),d)},fakeSetTeamColors:function(X,y,J,d){var n=k.X[X];if(!n)throw L(R.ir);this.v(E_.D(n,j.SD(n,y,...J)),d)},fakeSetPlayerAdmin:function(X,y,J){this.v(b_.D(X,y),J)},fakeKickPlayer:function(X,y,J,d){this.v(B$.D(X,y,J),d)},fakeSetPlayerSync:function(X,y){this.v(j_.D(X),y)},takeSnapshot:function(){return this.r.c?.copy()},exportStadium:function(){return this.r.c?.mf()},createVertex:function(X){return this.r.c?.fB(X)},createSegment:function(X){return this.r.c?.JB(X)},createSegmentFromObj:function(X){return this.r.c?.oA(X)},createGoal:function(X){return this.r.c?.aB(X)},createPlane:function(X){return this.r.c?.gB(X)},createDisc:function(X){return this.r.c?.BB(X)},createJoint:function(X){return this.r.c?.dB(X)},createJointFromObj:function(X){return this.r.c?.lA(X)},addVertex:function(X){return this.r.c?.bA(X)},addSegment:function(X){return this.r.c?.QA(X)},addGoal:function(X){return this.r.c?.jA(X)},addPlane:function(X){return this.r.c?.EA(X)},addDisc:function(X){return this.r.c?.Rc(X)},addJoint:function(X){return this.r.c?.mA(X)},addSpawnPoint:function(X){return this.r.c?.KA(X)},addPlayer:function(X){return this.r.c?.Br(X)},findVertexIndicesOfSegmentObj:function(X){return this.r.c?.If(X)},findVertexIndicesOfSegment:function(X){return this.r.c?.ZA(X)},updateVertex:function(X,y){return this.r.c?.qA(X,y)},updateSegment:function(X,y){return this.r.c?.WA(X,y)},updateGoal:function(X,y){return this.r.c?.xA(X,y)},updatePlane:function(X,y){return this.r.c?.TA(X,y)},updateDisc:function(X,y){return this.r.c?.tA(X,y)},updateDiscObj:function(X,y){return this.r.c?.qr(X,y)},updateJoint:function(X,y){return this.r.c?.wA(X,y)},updateSpawnPoint:function(X,y,J){return this.r.c?.PA(X,y,J)},updatePlayer:function(X,y){return this.r.c?.HA(X,y)},removeVertex:function(X){return this.r.c?.MA(X)},removeSegment:function(X){return this.r.c?.$U(X)},removeGoal:function(X){return this.r.c?._U(X)},removePlane:function(X){return this.r.c?.DU(X)},removeDisc:function(X){return this.r.c?.S5(X)},removeJoint:function(X){return this.r.c?.XU(X)},removeSpawnPoint:function(X,y){return this.r.c?.cU(X,y)},removePlayer:function(X){return this.r.c?.Hy(X)},updateStadiumPlayerPhysics:function(X){return this.r.c?.rU(X)},updateStadiumBg:function(X){return this.r.c?.yU(X)},updateStadiumGeneral:function(X){return this.r.c?.fU(X)},yB:function(X,y=k.N_){var J=this;this.r.c.G.slice().forEach(d=>{X(d)&&J.v(k$.D(d.$,y))})},rB:function(X,y,J){var d=this._onOperationReceived;if(!d)return!0;var n=X.eventType;return n==null?!0:d(n,X,y,J)},BJ:function(X,y,J){if(this.i$)return X.X=J||0,X.yr=y,this.rB(X,this.r.N,null)},Da:function(){var X=null,y=this.XD,J=this._,d=this;if(!this.V5){let E=function(S,b,Z){for(var P=0,_$=0;P<S.length&&_$<b.length;){for(;P<S.length&&_$<b.length&&S[P]==b[_$]&&S[P]!=Z;)P++,_$++;if(S[P]==Z)break;for(;P<S.length&&_$<b.length&&S[P]!=b[_$]&&S[P]!=Z;)P++;if(S[P]==Z)break}b[_$]!=Z&&b.splice(_$,0,Z)},w=function(S){Object.defineProperty(d,S,{get(){return J[S]},set(b){J[S]=b}})},d$=function(S){w(S+"Before"),w(S),w(S+"After")};var Y=E,z=w,e=d$;this.librariesMap=this.h_.reduce((S,b)=>(S[b.L]=b,S),{}),this.pluginsMap=this.w$.reduce((S,b)=>(S[b.L]=b,S),{}),this.v5=X=this.w$.filter(S=>S.active),this.setConfig=function(S){var b=J;b.finalize?.(),b.R$=null,S=S||{},S.R$=d,S.initialize?.(),J=d._=S,d._onConfigUpdate?.(b,S)},this.mixConfig=function(S){Object.keys(S).forEach(b=>{var Z=S[b];if(typeof Z=="function"){var P=J[b];P?typeof P=="function"&&(J[b]=function(..._$){P(..._$),Z(..._$)}):J[b]=Z}})},this.setRenderer=function(S){var b=y;b&&(b.finalize?.(),b.R$=null),S&&(S.R$=d,S.initialize?.()),y=d.XD=S,d._onRendererUpdate?.(b,S)},this.setPluginActive=function(S,b){var Z=d.w$.filter(_$=>_$.L==S)[0],P;if(!(!Z||Z.active==b))if(b){if(P=X.findIndex(_$=>_$.L==S),P>=0)return;E(d.w$,X,Z),Z.active=b,d._onPluginActiveChange?.(Z)}else{if(P=X.findIndex(_$=>_$.L==S),P<0)return;Z.active=b,d._onPluginActiveChange?.(Z),X.splice(P,1)}},this._modifyPlayerData=async(S,b,Z,P,_$,G$)=>{var M=[b,Z,P],T$,J_;if(J.modifyPlayerDataBefore&&(J_=J.modifyPlayerDataBefore(S,M[0],M[1],M[2],_$,G$),J_ instanceof Promise&&(J_=await J_),[M,T$]=J_),T$!==!1){for(var x_=0;x_<X.length;x_++){var iD=X[x_];iD.modifyPlayerData&&M&&(M=iD.modifyPlayerData(S,M[0],M[1],M[2],_$,G$,T$),M instanceof Promise&&(M=await M))}J.modifyPlayerData&&M&&(M=J.modifyPlayerData(S,M[0],M[1],M[2],_$,G$,T$),M instanceof Promise&&(M=await M)),J.modifyPlayerDataAfter&&M&&(M=J.modifyPlayerDataAfter(S,M[0],M[1],M[2],_$,G$,T$),M instanceof Promise&&(M=await M))}return M},d$("modifyPlayerData"),this._modifyPlayerPing=function(S,b){var Z;return J.modifyPlayerPingBefore&&([b,Z]=J.modifyPlayerPingBefore(S,b)),Z!==!1&&(X.forEach(P=>{P.modifyPlayerPing&&(b=P.modifyPlayerPing(S,b,Z))}),J.modifyPlayerPing&&(b=J.modifyPlayerPing(S,b,Z)),J.modifyPlayerPingAfter&&(b=J.modifyPlayerPingAfter(S,b,Z))),b},d$("modifyPlayerPing"),this._modifyClientPing=function(S){var b;return J.modifyClientPingBefore&&([S,b]=J.modifyClientPingBefore(S)),b!==!1&&(X.forEach(Z=>{Z.modifyClientPing&&(S=Z.modifyClientPing(S,b))}),J.modifyClientPing&&(S=J.modifyClientPing(S,b)),J.modifyClientPingAfter&&(S=J.modifyClientPingAfter(S,b))),S},d$("modifyClientPing"),this._onOperationReceived=function(S,b,Z,P){var _$=J.onBeforeOperationReceived?.(S,b,Z,P),G$=_$!==!1,M;return X.forEach(T$=>{M=T$.onOperationReceived,G$&&M&&!M(S,b,Z,P,_$)&&(G$=!1)}),M=J.onOperationReceived,G$&&M&&!M(S,b,Z,P,_$)&&(G$=!1),M=J.onAfterOperationReceived,G$&&M&&!M(S,b,Z,P,_$)&&(G$=!1),G$},w("onBeforeOperationReceived"),w("onOperationReceived"),w("onAfterOperationReceived");var n=function(S,b){d["_on"+S]=function(...Z){var P=J["onBefore"+S]?.(...Z);P!==!1&&(X.forEach(_$=>{_$["on"+S]?.(...Z,P)}),J["on"+S]?.(...Z,P),y?.["on"+S]?.(...Z,P),J["onAfter"+S]?.(...Z,P))},w("onBefore"+S),w("on"+S),w("onAfter"+S)};Dc.forEach(({L:S,CU:b})=>{n(S,b)})}this.qf?.(this),this.V5||(this.h_.forEach(E=>{E.R$=d,E.initialize?.()}),this._.R$=this,this._.initialize?.(),this.XD&&(this.XD.R$=this,this.XD.initialize?.()),this.w$.forEach(E=>{E.R$=d,E.initialize?.()}),this.v5.forEach(E=>{d._onPluginActiveChange?.(E)}))},$a:function(X){this.w$?.forEach(y=>{y.finalize?.(),y.R$=null}),this.XD&&(this.XD.finalize?.(),this.XD.R$=null),this._.finalize?.(),this._.R$=null,this.h_?.forEach(y=>{y.finalize?.(),y.R$=null}),this.T_?.(X)},addPlugin:function(X){if(this.pluginsMap[X.L]!=null)throw L(R.Ga,X.L);this.w$.push(X),this.pluginsMap[X.L]=X,X.R$=this,X.initialize?.(),this._onPluginAdd?.(X),X.active&&(X.active=!1,this.setPluginActive(X.L,!0))},movePlugin:function(X,y){var J=this.w$[X];if(!J)throw L(R.er,X);this.w$.splice(X,1),this.w$.splice(N(y,0,this.w$.length+1),0,J),J.active&&(this.v5.splice(this.v5.indexOf(J),1),addInOrder(this.w$,this.v5,J)),this.OU?.(J)},updatePlugin:function(X,y){var J=this.w$[X];if(!J)throw L(R.er,X);var{L:d,active:n}=J;if(d!=y.L)throw L(R.za);var Y=this.setPluginActive;n&&Y(d,!1),J.finalize?.(),J.R$=null,this.w$[X]=y,this.pluginsMap[d]=y,y.R$=this,y.initialize?.(),this._onPluginUpdate?.(J,y),n&&(y.active=!1,Y(d,!0))},removePlugin:function(X){var y=this.w$.findIndex(J=>J.L==X.L);if(y<0)throw L(R.er,X.L);X.active&&this.setPluginActive(X.L,!1),X.finalize?.(),X.R$=null,this.w$.splice(y,1),delete this.pluginsMap[X.L],this._onPluginRemove?.(X)},addLibrary:function(X){if(this.librariesMap[X.L]!=null)throw L(R.pa,X.L);this.h_.push(X),this.librariesMap[X.L]=X,X.R$=this,X.initialize?.(),this._onLibraryAdd?.(X)},moveLibrary:function(X,y){var J=this.h_[X];if(!J)throw L(R.kr,X);this.h_.splice(X,1),this.h_.splice(N(y,0,this.h_.length+1),0,J),this.zU?.(J)},updateLibrary:function(X,y){var J=this.h_[X];if(!J)throw L(R.kr,X);var{L:d}=J;if(d!=y.L)throw L(R.va);J.finalize?.(),J.R$=null,this.h_[X]=y,this.librariesMap[d]=y,y.R$=this,y.initialize?.(),this._onLibraryUpdate?.(J,y)},removeLibrary:function(X){var y=this.h_.findIndex(J=>J.L==X.L);if(y<0)throw L(R.kr,X.L);X.finalize?.(),X.R$=null,this.h_.splice(y,1),delete this.librariesMap[X.L],this._onLibraryRemove?.(X)},startStreaming:function({immediate:X=!0,onClientCount:y,emitData:J}){if(!(!this.i$||this.isRecording()||this.r.w_)){var d=new Map,n=h.D(16384),Y=0,z=this;return{onOpen:()=>{z.r.w_=function(e){if(X){n.n(2),n.V$(z.r.N),n.K$(e.X),p(e,n),J?.(n.Q$()),n.d=0;return}var E=d.get(z.r.N);E||(E=[],d.set(z.r.N,E)),E.push(e)}},onDataReceived:e=>{e=new DataView(e.buffer,e.byteOffset,e.byteLength);var E=e.getUint8(0);switch(e=e.getUint16(1),E){case 0:{Y=e,y?.(e);break}case 1:{var w=h.D();w.n(1),w.K$(e);var d$=h.D();z.r.XL(d$),w.M$(c.deflateRaw(d$.Q$())),J?.(w.Q$());break}}},interval:()=>{for(var e=d.keys(),E=e.next(),w=z.r.N;!E.done;){var d$=E.value,S=d.get(d$);n.K$(w-d$),n.K$(S.length),S.forEach(_$=>{n.K$(_$.X),p(_$,n)}),E=e.next()}d.clear();var b=n.Q$();if(n.d=0,Y!=0){b=c.deflateRaw(b);var Z=new Uint8Array(b.byteLength+5),P=new DataView(Z.buffer,Z.byteOffset,Z.byteLength);P.setUint8(0,0),P.setUint32(1,w),Z.set(b,5),J?.(Z)}}}}},stopStreaming:function(){!this.i$||this.isRecording()||!this.r.w_||(this.r.w_=null)}}),this.UX=s({Q:function(){this.p=k.N_,this.E=null,this.ND=0,this.hD=0,this.M_=!1,this.C$=0,this.sc=0,this.eX=null,this.F$=null,this.Z_=0,this.o_=!1,this.VX=!1},v_:function(X,y,J){X.o_=y.o_,X.Z_=y.Z_,X.F$=y.F$,X.eX=y.eX,X.sc=y.sc,X.C$=y.C$,X.M_=y.M_,X.hD=y.hD,X.ND=y.ND,X.E=y.E==null?null:y.E.V_(J),X.E&&(X.E.K=X.$),X.p=y.p}}),this.t_=B(this,{Q:function(){this.J=null,this.C=Q.Vf()[0],this.lD=2,this.YD=0,this.cX=1,this.G$=3,this.k$=3,this.bD=!1,this.cD=[null,new j,new j],this.cD[1].H_.push(k.I$.u),this.cD[2].H_.push(k.__.u)},v_:function(X,y,J){X.J=y.J?.V_(J),X.bD=y.bD,X.k$=y.k$,X.G$=y.G$,X.cX=y.cX,X.YD=y.YD,X.lD=y.lD,X.C=y.C,X.cD=y.cD},j$:function(X){this.J?.j$(X)},sX:function(X){this.J?.s.S5(X.E)},Nd:function(X){X.n(this.bD?1:0),X.i(this.k$),X.i(this.G$),X.Ay(this.cX),X.n(this.YD),X.n(this.lD),this.C.A(X),X.n(this.J?1:0),this.J?.A(X),X.n(this.G.length),this.G.forEach(y=>{X.n(y.o_?1:0),X.i(y.Z_),X.A_(y.F$),X.A_(y.eX),X.n(y.aD?1:0),X.A_(y.h$),X.i(y.sc),X.A_(y.L),X.i(y.C$),X.S$(y.$),X.n(y.M_?1:0),X.Ay(y.hD),X.n(y.ND),X.n(y.p.$),X.Ay(y.E==null?-1:y.E.Jg)}),this.cD[1].A(X),this.cD[2].A(X)},hd:function(X){this.bD=X.z()!=0,this.k$=X.S(),this.G$=X.S(),this.cX=X.ny(),this.YD=X.z(),this.lD=X.z(),this.C=Q.U(X),this.J=null,X.z()!=0&&(this.J=new y$,this.J.U(X,this));for(var y=this.J?.s.F,J=X.z();this.G.length>J;)this.G.pop();for(var d=0;d<J;d++){var n=new this.AX.UX;n.o_=X.z()!=0,n.Z_=X.S(),n.F$=X.s_(),n.eX=X.s_(),n.aD=X.z()!=0,n.h$=X.s_(),n.sc=X.S(),n.L=X.s_(),n.C$=X.S(),n.$=X.b$(),n.M_=X.z()!=0,n.hD=X.ny(),n.ND=X.z(),n.p=k.X[X.Ic()]||k.N_;var Y=X.ny();n.E=y?.[Y],n.E&&(n.E.K=n.$),this.G[d]=n}this.cD[1].U(X),this.cD[2].U(X)}}),Object.assign(this.t_.prototype,{rA:function(X){this.J==null&&(this.J=new y$,this.G.forEach(y=>{y.E=null,y.Z_=0}),this.J.qs(this),this.Wf?.(X))},yA:function(X){var y=this;y.J&&(y.J=null,y.G.forEach(J=>{J.E&&y.Bc?.(J),J.E=null,J.Z_=0}),y.Zf?.(),y.br?.(X))},BA:function(X,y){this.bD=X,this.Mf?.(X,y)},AA:function(X,y,J){X!=k.N_.$&&(this.cD[X]=y,this.Hf?.(X,y,J))},gA:function(X,y){this.J==null&&(this.C=X,this.rJ?.(this.t(y),X))},Qr:function(X,y,J,d){if(!(!X||X.p==y)){if(X.p=y,U(this.G,X),this.G.push(X),!this.J){d||this.Zr?.(X.$,y.$,J);return}this.J.s.ag(X,this.Bc),this.J.Vg(X);var n=0;do n++;while(this.G.find(Y=>Y!=X&&Y.p==X.p&&Y.Z_==n));X.Z_=n,d||this.Zr?.(X.$,y.$,J)}},nA:function(X,y){!X||y==X.aD||(X.aD=y,this.yJ?.(X))},dA:function(X,y,J){!X||X.$==0||X.o_==y||(X.o_=y,this.fJ?.(this.t(J),X))},Gg:function(X,y,J,d){this.lD=N(X,0,255),this.YD=N(y,0,255),J=N(J,0,100),this.cX=this.YD*J,this.JJ?.(d,this.lD,this.YD,J)},uA:function(X,y){var J=this.t(X);J&&(J.eX=y,this.wf?.(X,y))},JA:function(X,y){this.J==null&&(this.k$=N(X,0,99),this.Tf?.(this.k$,y))},aA:function(X,y){this.J==null&&(this.G$=N(X,0,99),this.xf?.(this.G$,y))},RA:function(X,y,J,d){if(this.J){var n=X?this.t(y)?.E:this.J.s.F[y];n&&(J[0]!=null&&(n.B.x=J[0]),J[1]!=null&&(n.B.y=J[1]),J[2]!=null&&(n.I.x=J[2]),J[3]!=null&&(n.I.y=J[3]),J[4]!=null&&(n.V.x=J[4]),J[5]!=null&&(n.V.y=J[5]),J[6]!=null&&(n.l=J[6]),J[7]!=null&&(n.a=J[7]),J[8]!=null&&(n.j=J[8]),J[9]!=null&&(n.Z=J[9]),d[0]!=null&&(n.u=d[0]),d[1]!=null&&(n.f=d[1]),d[2]!=null&&(n.g=d[2]),this.DJ?.(y,X,J,d))}},sA:function(X,y){var J=this.t(X);J&&(J.F$=y,this.tf?.(X,y))},XA:function(X,y){var J=this.t(X);J&&(!(J.C$&16)&&y&16&&(J.M_=!0),J.C$=y,this.mr?.(J))},DA:function(X,y){var J=this.t(X);J&&this.aJ?.(J,y)},cA:function(X,y){var J=this.t(y);J&&this.XJ?.(J,X)},$A:function(X,y,J,d){this.cJ?.(X,y,J,d)},UA:function(X,y){var J=new Map,d=[],n=[];this.G.forEach(e=>J.set(e.$,e)),X.forEach(e=>{var E=J.get(e);E&&(J.delete(e),d.push(E))}),n=[];for(var Y=J.values(),z=Y.next();!z.done;)n.push(z.value),z=Y.next();this.G=y?d.concat(n):n.concat(d),this.Pf?.(X,y)},fA:function(X,y){var J=this.J;if(J){var d=J.a_==120;X?J.a_=120:d&&(J.a_=119),X!=d&&this.gJ?.(this.t(y),X)}},FA:function(X,y,J){J!=0&&!this.t(J)||this.$J?.(X,y,J)},NA:function(X,y,J){J!=0&&!this.t(J)||this._J?.(X,y,J)},LA:function(X){var y=[],J=0,d=0;this.G.forEach(z=>{z.p==k.N_&&y.push(z),z.p==k.I$?++J:z.p==k.__&&++d});var n=y.length;if(n!=0)if(d==J)n>=2&&(this.Qr(y[0],k.I$,X,!0),this.Qr(y[1],k.__,X,!0),this.Kr?.(y[0].$,k.I$.$,y[1].$,k.__.$,X));else{var Y=d>J?k.I$:k.__;this.Qr(y[0],Y,X,!0),this.Kr?.(y[0].$,Y.$,null,null,X)}},LB:function(X){this.xs=X},copy:function(){var X=new this.AX.t_;return X.L=this.L,X.bD=this.bD,X.k$=this.k$,X.G$=this.G$,X.cX=this.cX,X.YD=this.YD,X.lD=this.lD,X.C=this.C?.copy(),X.J=this.J?.copy(X),X.G=[],this.G.forEach((y,J)=>{var d=new this.AX.UX;if(d.o_=y.o_,d.Z_=y.Z_,d.F$=y.F$,d.eX=y.eX,d.aD=y.aD,d.h$=y.h$,d.sc=y.sc,d.L=y.L,d.C$=y.C$,d.$=y.$,d.M_=y.M_,d.hD=y.hD,d.ND=y.ND,d.p=y.p,d.t$=y.t$,d.mD=y.mD,d.VX=y.VX,X.J&&y.E){var n=y.E.K,Y=X.J.s.F.findIndex(z=>z.K==n);Y>-1&&(d.E=X.J.s.F[Y])}X.G[J]=d}),this.cD.forEach((y,J)=>{X.cD[J]=y?.copy()}),X},mf:function(){if(this.J){var{C:X,s:y}=this.J,J=new V,d=new D$,n={},Y=X.c_.map(w=>[w.x,w.y]),z=X.r_.map(w=>[w.x,w.y]),e=y.L$.map(Q.Ug);Q.o(n,"type",X.j_==1?"grass":X.j_==2?"hockey":"none","none"),Q.o(n,"width",X.AD,0),Q.o(n,"height",X.UD,0),Q.o(n,"kickOffRadius",X.uD,0),Q.o(n,"cornerRadius",X.RD,0),Q.Jc(n,X.sD,7441498),X.j_==2&&Q.o(n,"goalLine",X.kD,0);var E={name:X.L,width:X._D,height:X.nD,vertexes:y.O.map((w,d$)=>{var S=Q.ng(w);return S.id=d$,S}),segments:y.k.map(w=>Q.es(this,w,J)),planes:y.m.map(Q.Rg),goals:X.e$.map(Q.Ng),discs:y.F.map(w=>Q.Yg(w,d)),bg:n,playerPhysics:Q.hg(X.$D),ballPhysics:"disc0"};return Q.o(E,"maxViewWidth",X.$X,0),Q.o(E,"cameraFollow",X._X==1?"player":"",""),Q.o(E,"spawnDistance",X.y_,200),e.length>0&&(E.joints=e),Y.length>0&&(E.redSpawnPoints=Y),z.length>0&&(E.blueSpawnPoints=z),Q.o(E,"kickOffReset",X.eD?"full":"partial","partial"),X.pX||(E.canBeStored=!1),E}},fB:function(X){return Q.sg(X)},JB:function(X){var y=Q.Ag(X,this.J.s.O);return y.W_(),y},oA:function(X){var y=Q.os(X);return y.W_(),y},aB:function(X){return Q.Gf(X)},gB:function(X){return Q.Fg(X)},BB:function(X){return Q.pf(X,new D$).Os()},dB:function(X){return Q.ug(X,this.J.s.F)},lA:function(X){return Q.bs(X,this.J.s.F)},bA:function(X){this.J.s.O.push(this.fB(X))},QA:function(X){this.J.s.k.push(this.JB(X))},jA:function(X){this.J.C.e$.push(this.aB(X))},EA:function(X){this.J.s.m.push(this.gB(X))},Rc:function(X){var y=this.BB(X),J=this.J.s.F.findIndex(Y=>Y.K!=null);J<0&&(J=this.J.s.F.length),this.J.s.F.splice(J,0,y);for(var d=this.J.s.L$,n=this.J.s.F.length-2;n>=J;n--)d.forEach(Y=>{Y.H$==n&&Y.H$++,Y.P$==n&&Y.P$++})},mA:function(X){this.J.s.L$.push(this.dB(X))},KA:function(X){var y;X.team=="red"?y=this.J.C.c_:X.team=="blue"&&(y=this.J.C.r_),y&&y.push(new n$(X.x,X.y))},Br:function(X){var{team:y,id:J,name:d,avatar:n,flag:Y}=X,z=y=="spec"?k.N_:y=="red"?k.I$:y=="blue"?k.__:null;if(z){var e=g$.D(J,d,Y,n,"fakeConn","fakeAuth");e.X=0,e.e(this),y!="spec"&&(e=k$.D(J,z),e.X=0,e.e(this),this.qr(this.t(J).E,X))}},If:function(X){var y=X.H,J=X.M,d=-1,n=-1;return this.J.s.O.forEach((Y,z)=>{Y==y?d=z:Y==J&&(n=z)}),[d,n]},ZA:function(X){return this.If(this.J.s.k[X])},qA:function(X,y){var J=this.J.s.O[X];if(J){var d=Q.sg(y);y.hasOwnProperty("x")&&(J.B.x=d.B.x),y.hasOwnProperty("y")&&(J.B.y=d.B.y),y.hasOwnProperty("bCoef")&&(J.a=d.a),y.hasOwnProperty("cMask")&&(J.f=d.f),y.hasOwnProperty("cGroup")&&(J.g=d.g),this.J.s.k.forEach(n=>{(n.M==J||n.H==J)&&n.W_()})}},WA:function(X,y){var J=this.J.s.k[X];if(J){var d=Q.Ag(y,this.J.s.O);(y.hasOwnProperty("v0")||y.hasOwnProperty("curve"))&&(J.H=d.H),(y.hasOwnProperty("v1")||y.hasOwnProperty("curve"))&&(J.M=d.M),(y.hasOwnProperty("bias")||y.hasOwnProperty("curve"))&&(J.Z$=d.Z$),(y.hasOwnProperty("curveF")||y.hasOwnProperty("curve"))&&(J.o$=d.o$),y.hasOwnProperty("vis")&&(J.u$=d.u$),y.hasOwnProperty("color")&&(J.u=d.u),y.hasOwnProperty("bCoef")&&(J.a=d.a),y.hasOwnProperty("cMask")&&(J.f=d.f),y.hasOwnProperty("cGroup")&&(J.g=d.g),J.W_()}},xA:function(X,y){var J=this.J.C.e$[X];if(J){var d=Q.Gf(y);y.hasOwnProperty("p0")&&(J.L_=d.L_),y.hasOwnProperty("p1")&&(J.d_=d.d_),y.hasOwnProperty("team")&&(J.p=d.p)}},TA:function(X,y){var J=this.J.s.m[X];if(J){var d=Q.Fg(y);y.hasOwnProperty("normal")&&(J.z$=d.z$),y.hasOwnProperty("dist")&&(J.c$=d.c$),y.hasOwnProperty("bCoef")&&(J.a=d.a),y.hasOwnProperty("cMask")&&(J.f=d.f),y.hasOwnProperty("cGroup")&&(J.g=d.g)}},tA:function(X,y){this.qr(this.J.s.F[X],y)},qr:function(X,y){if(X){var J=Q.pf(y,new D$);y.hasOwnProperty("pos")&&(X.B=J.B),y.hasOwnProperty("speed")&&(X.I=J.I),y.hasOwnProperty("gravity")&&(X.V=J.V),y.hasOwnProperty("radius")&&(X.l=J.l),y.hasOwnProperty("invMass")&&(X.j=J.j),y.hasOwnProperty("damping")&&(X.Z=J.Z),y.hasOwnProperty("color")&&(X.u=J.u),y.hasOwnProperty("bCoef")&&(X.a=J.a),y.hasOwnProperty("cMask")&&(X.f=J.f),y.hasOwnProperty("cGroup")&&(X.g=J.g)}},wA:function(X,y){var J=this.J.s.L$[X];if(J){var d=Q.ug(y,this.J.s.F);y.hasOwnProperty("d0")&&(J.H$=d.H$),y.hasOwnProperty("d1")&&(J.P$=d.P$),y.hasOwnProperty("color")&&(J.u=d.u),y.hasOwnProperty("strength")&&(J.p_=d.p_),y.hasOwnProperty("length")&&(J.v$=d.v$,J.O$=d.O$)}},PA:function(X,y,J){var d,n;if(y=="red"?d=this.J.C.c_:y=="blue"&&(d=this.J.C.r_),J.team=="red"?n=this.J.C.c_:J.team=="blue"&&(n=this.J.C.r_),!(!d||!n)){var Y;d==n?Y=d[X]:Y=d.splice(X,1)[0],Y&&(J.hasOwnProperty("x")&&(Y.x=J.x),J.hasOwnProperty("y")&&(Y.y=J.y),d!=n&&n.push(Y))}},HA:function(X,y){var J=this.t(X);if(J){var d=null;if(y.hasOwnProperty("team")&&(d=y.team=="spec"?k.N_:y.team=="red"?k.I$:y.team=="blue"?k.__:null),y.hasOwnProperty("name")&&(J.L=y.name),y.hasOwnProperty("flag")&&(J.h$=y.flag),y.hasOwnProperty("avatar")&&(J.F$=y.avatar),d!=null){var n=k$.D(X,d);n.X=0,n.e(this)}J.E!=null&&this.qr(J.E,y)}},MA:function(X){var y=this.J.s.O.splice(X,1)[0];if(y){var J=this.J.s.k,d=[];J.forEach((n,Y)=>{(n.M==y||n.H==y)&&d.unshift(Y)}),d.forEach(n=>J.splice(n,1))}},$U:function(X){this.J.s.k.splice(X,1)},_U:function(X){this.J.C.e$.splice(X,1)},DU:function(X){this.J.s.m.splice(X,1)},S5:function(X){this.J.s.F.splice(X,1);var y=this.J.s.L$,J=[];y.forEach((n,Y)=>{(n.H$==X||n.P$==X)&&J.unshift(Y)}),J.forEach(n=>y.splice(n,1));for(var d=X+1;d<=this.J.s.F.length;d++)y.forEach(n=>{n.H$==d&&n.H$--,n.P$==d&&n.P$--})},XU:function(X){this.J.s.L$.splice(X,1)},cU:function(X,y){var J;y=="red"?J=this.J.C.c_:y=="blue"&&(J=this.J.C.r_),J&&J.splice(X,1)},Hy:function(X){var y=B$.D(X,null,!0);y.X=0,y.e(this)},rU:function(X){var y=this.J?.C.$D;if(y){var J=Q.pf(X,new D$);X.hasOwnProperty("radius")&&(y.l=J.l),X.hasOwnProperty("gravity")&&(y.V=J.V),X.hasOwnProperty("invMass")&&(y.j=J.j),X.hasOwnProperty("bCoef")&&(y.a=J.a),X.hasOwnProperty("cGroup")&&(y.g=J.g),X.hasOwnProperty("damping")&&(y.Z=J.Z),X.hasOwnProperty("kickingDamping")&&(y.MD=u(X.kickingDamping,Number)),X.hasOwnProperty("acceleration")&&(y.HD=u(X.acceleration,Number)),X.hasOwnProperty("kickingAcceleration")&&(y.PD=u(X.kickingAcceleration,Number)),X.hasOwnProperty("kickStrength")&&(y.tD=u(X.kickStrength,Number)),X.hasOwnProperty("kickback")&&(y.wD=u(X.kickback,Number))}},yU:function(X){var y=this.J?.C;y&&(X.hasOwnProperty("type")&&(y.j_=u(X.type,A)),X.hasOwnProperty("width")&&(y.AD=u(X.width,Number)),X.hasOwnProperty("height")&&(y.UD=u(X.height,Number)),X.hasOwnProperty("kickOffRadius")&&(y.uD=u(X.kickOffRadius,Number)),X.hasOwnProperty("cornerRadius")&&(y.RD=u(X.cornerRadius,Number)),X.hasOwnProperty("color")&&(y.sD=u(X.color,A)),X.hasOwnProperty("goalLine")&&(y.kD=u(X.goalLine,Number)))},fU:function(X){var y=this.J?.C;y&&(X.hasOwnProperty("name")&&(y.L=u(X.name,String)),X.hasOwnProperty("width")&&(y._D=u(X.width,Number)),X.hasOwnProperty("height")&&(y.nD=u(X.height,Number)),X.hasOwnProperty("maxViewWidth")&&(y.$X=u(X.maxViewWidth,Number)),X.hasOwnProperty("cameraFollow")&&(y._X=u(X.cameraFollow,A)),X.hasOwnProperty("spawnDistance")&&(y.y_=u(X.spawnDistance,Number)),X.hasOwnProperty("kickOffReset")&&(y.eD=u(X.kickOffReset,Boolean)),X.hasOwnProperty("canBeStored")&&(y.pX=u(X.canBeStored,Boolean)))}}),f(this.yc,[],["isHost",null,null,null,"renderer","libraries","plugins","config"],[null,null,null,null,"executeEvent","executeEventWithTarget",null,"clearEvents","setKickRateLimit"]),f(this.UX,[],[null,"ext","id","name","ping","flag","sync","conn","auth","identity","team","disc","kickRateMinTickCounter","kickRateMaxTickCounter","isKicking","input",null,"headlessAvatar","avatar","avatarNumber","isAdmin","customClient"],[]),f(this.t_,[this],[null,"ext","name","players",null,"gameState","stadium","kickRate_min","kickRate_rate","kickRate_max","timeLimit","scoreLimit","teamsLocked","teamColors"],["setPings","forceLeaveRoom","forceJoinRoom","setPlayerIdentity","getPlayer","runSteps",null,null,null,null,null,null,null,"startGame","stopGame","setTeamsLock","setTeamColors","setStadium","setPlayerTeam","setPlayerSync","setPlayerAdmin","setKickRateLimit","setHeadlessAvatar","setScoreLimit","setTimeLimit","setDiscProperties","setAvatar","setPlayerInput","setPlayerChatIndicator","sendChat","sendAnnouncement","reorderPlayers","setGamePaused","applyCustomEvent","applyBinaryCustomEvent","applyAutoTeams",null,null,"exportStadium","createVertex","createSegment","createSegmentFromObj","createGoal","createPlane","createDisc","createJoint","createJointFromObj","addVertex","addSegment","addGoal","addPlane","addDisc","addJoint","addSpawnPoint","addPlayer","findVertexIndicesOfSegmentObj","findVertexIndicesOfSegment","updateVertex","updateSegment","updateGoal","updatePlane","updateDisc","updateDiscObj","updateJoint","updateSpawnPoint","updatePlayer","removeVertex","removeSegment","removeGoal","removePlane","removeDisc","removeJoint","removeSpawnPoint","removePlayer","updateStadiumPlayerPhysics","updateStadiumBg","updateStadiumGeneral"]);function ID(X,y){X.c.mr==null&&Object.assign(X.c,{tr:(J,d,n,Y)=>y.onCollisionDiscVsDisc?.(J,d.K,n,Y.K),wr:(J,d,n)=>y.onCollisionDiscVsPlane?.(J,d.K,n),Pr:(J,d,n)=>y.onCollisionDiscVsSegment?.(J,d.K,n),Hr:(J,d,n,Y)=>y.vU?.(J,d.K,n,Y),p5:(J,d,n)=>y.VU?.(J,d,n),mr:J=>y.onPlayerInputChange?.(J.$,J.C$),Tc:J=>y.onPlayerJoin?.(J),of:J=>y.onPlayerBallKick?.(J?.$),bf:(J,d,n,Y,z)=>y.onTeamGoal?.(J?.$,d,n,Y,z),Ef:J=>y.onGameEnd?.(J.$),Wf:J=>y.onGameStart?.(J?.$),kf:()=>y.onGameTick?.(),lf:()=>y.onKickOff?.(),Kr:(J,d,n,Y,z)=>y.onAutoTeams?.(J,d,n,Y,z),xf:(J,d)=>y.onTimeLimitChange?.(J,d),Tf:(J,d)=>y.onScoreLimitChange?.(J,d),ef:J=>y.onPlayerDiscCreated?.(J),Bc:J=>y.onPlayerDiscDestroyed?.(J),tf:(J,d)=>y.onPlayerAvatarChange?.(J,d),wf:(J,d)=>y.onPlayerHeadlessAvatarChange?.(J,d),Pf:(J,d)=>y.onPlayersOrderChange?.(J,d),Zr:(J,d,n)=>y.onPlayerTeamChange?.(J,d,n),Hf:(J,d,n)=>y.onTeamColorsChange?.(J,d,n),Mf:(J,d)=>y.onTeamsLockChange?.(J,d),$J:(J,d,n)=>y.onCustomEvent?.(J,d,n),_J:(J,d,n)=>y.onBinaryCustomEvent?.(J,d,n),ty:(J,d,n)=>y.onIdentityEvent?.(J,d,n),DJ:(J,d,n,Y)=>y.onSetDiscProperties?.(J,d,n,Y),xy:J=>y.onPingData?.(J),jy:J=>y.onHandicapChange?.(J),Qf:()=>y.onTimeIsUp?.(),jf:()=>y.onPositionsReset?.(),XJ:(J,d)=>y.onPlayerChat?.(J.$,d),cJ:(J,d,n,Y)=>y.onAnnouncement?.(J,d,n,Y),br:J=>y.onGameStop?.(J?.$),rJ:(J,d)=>y.onStadiumChange?.(d,J?.$),yJ:J=>y.onPlayerSyncChange?.(J?.$,J?.aD),fJ:(J,d)=>y.onPlayerAdminChange?.(d?.$,d?.o_,J?.$),JJ:(J,d,n,Y)=>y.onKickRateLimitChange?.(d,n,Y,J?.$),aJ:(J,d)=>y.onPlayerChatIndicatorChange?.(J?.$,!d),gJ:(J,d)=>y.onGamePauseChange?.(d,J?.$),sX:(J,d,n,Y)=>{J.E&&y.onPlayerDiscDestroyed?.(J),y.onPlayerLeave?.(J,d,n,Y?.$)}})}function GD(X){Object.assign(X.c,{mr:null,Tc:null,of:null,bf:null,Ef:null,gJ:null,Wf:null,kf:null,lf:null,tr:null,wr:null,Pr:null,Hr:null,p5:null,Kr:null,xf:null,Tf:null,tf:null,ef:null,Bc:null,wf:null,Pf:null,Zr:null,Hf:null,Mf:null,$J:null,_J:null,ty:null,DJ:null,xy:null,jy:null,Qf:null,jf:null,XJ:null,cJ:null,br:null,rJ:null,yJ:null,fJ:null,JJ:null,sX:null,aJ:null})}var{nd:pD,sd:SD,Ad:rc,Ud:yc,ud:fc,Rd:Jc,Fd:ac}=I(this,{Kc:function(X){if(X.n$()!=1212305970)throw"";var y=X.n$();if(y!=3)throw L(R.Fa,y)},qc:function(X){X.q5("HBR2"),X.V$(3)},$$:{Q:function(){this.Ac=[],this.I_=3},Zc:function(X,y){var J=X.x$();if(y)for(var d=0,n=0;n<J;n++)d+=X.b$(),y.Ac.push({frameNo:d,teamId:X.z()});else for(var n=0;n<J;n++)X.b$(),X.z()},iy:function(X,y){X.K$(y.Ac.length);var J=0;y.Ac.forEach(d=>{X.S$(d.frameNo-J),X.n(d.teamId),J=d.frameNo})},ey:function(X,y){this.Ac=this.Ac.filter(J=>J.frameNo>=X&&J.frameNo<=y),this.Ac.forEach(J=>{J.frameNo-=X})}},dd:{Q:function(){this.nB=0,this.dX.K$(0);var X=this.r.N,y=this;this.r.c.LB(J=>{var d=y.r.N;y.dX.S$(d-X),y.dX.n(J),y.nB++,X=d})},BX:function(){this.r.c.LB(null),this.dX.Y.setUint16(0,this.nB,this.dX.l$)}},Ld:{KD:ID,VD:GD}});f(pD,[],["roomData","events","totalFrames","goalMarkers","version"],[]);var{WL:gc,xL:Bc}=l(this,{Q:function(X,y,J){X.qL=J?.filterEvents;var d=null;Object.assign(this,{startRecording:function(){return d!=null?!1:(d=new SD(X),J.onRoomRecordingChange?.(!0),!0)},stopRecording:function(){if(d==null)return null;var n=d.BX();return d=null,J.onRoomRecordingChange?.(n),n},isRecording:function(){return d!=null},playerJoin:function(n,Y,z,e,E,w){var d$=g$.D(n,Y,z,e,E,w);d$.X=0,X.w(d$)},playerLeave:function(n){var Y=X.c.t(n);if(Y){var z=B$.D(n,null,!0);z.X=0,X.w(z)}},playerInput:function(n,Y){var z=W.D(n);z.X=Y,X.w(z)},playerChat:function(n,Y){var z=T.D(n);z.X=Y,X.w(z)},setKeyState:function(n){this.playerInput(n,y?.controlledPlayerId||0)},setPlayerChatIndicator:function(n,Y){var z=f$.D(n);z.X=Y,X.w(z)},setPlayerAvatar:function(n,Y,z){var e;n?(e=FD.D(z,Y),e.X=0):(e=u_.D(Y),e.X=z),X.w(e)},setCurrentStadium:function(n,Y){var z=U_.D(n);z.X=Y,X.w(z)},sendAnnouncement:function(n,Y=-1,z=0,e=1,E,w){var d$=q.D(n,Y,z,e);d$.X=w,X.w(d$)},startGame:function(n){var Y=v$.D();Y.X=n,X.w(Y)},stopGame:function(n){var Y=p$.D();Y.X=n,X.w(Y)},setGamePaused:function(n,Y){var z=e$.D(n);z.X=Y,X.w(z)},setScoreLimit:function(n,Y){var z=j$.D(0,n);z.X=Y,X.w(z)},setTimeLimit:function(n,Y){var z=j$.D(1,n);z.X=Y,X.w(z)},setTeamsLock:function(n,Y){var z=l_.D(n);z.X=Y,X.w(z)},autoTeams:function(n){var Y=Q_.D();Y.X=n,X.w(Y)},setPlayerTeam:function(n,Y,z){var e=k.X[Y];if(e){var E=k$.D(n,e);E.X=z,X.w(E)}},setKickRateLimit:function(n,Y,z,e){var E=m_.D(n,Y,z);E.X=e,X.w(E)},setTeamColors:function(n,Y,z,e){var E=k.X[n];if(!E)throw L(R.ir);var w=E_.D(E,j.SD(E,Y,...z));w.X=e,X.w(w)},setPlayerAdmin:function(n,Y,z){var e=b_.D(n,Y);e.X=z,X.w(e)},kickPlayer:function(n,Y,z,e){var E=B$.D(n,Y,z);E.X=e,X.w(E)},setPlayerSync:function(n,Y){var z=j_.D(n);z.X=Y,X.w(z)},sendPingData:function(n,Y){var z=new $c;z.CD=X.c.G.map(n),z.X=Y,X.w(z)},setDiscProperties:function(n,Y,z,e){var E=K_.SD(n,Y,z);E.X=e,X.w(E)},sendCustomEvent:function(n,Y,z){var e=Z_.D(n,Y);e.X=z,X.w(e)},sendBinaryCustomEvent:function(n,Y,z){var e=q_.D(n,Y);e.X=z,X.w(e)},setPlayerIdentity:function(n,Y,z){var e=W_.D(n,Y);e.X=z,X.w(e)},reorderPlayers:function(n,Y,z){var e=RD.D(n,Y);e.X=z,X.w(e)}})},KD:ID,VD:GD});this.nZ={AddonType:{RoomConfig:R.fa,Plugin:R.Ja,Renderer:R.aa,Library:R.ga},AllowFlags:{JoinRoom:R.Tn,CreateRoom:R.tn},BackgroundType:{None:R.wn,Grass:R.Pn,Hockey:R.Hn},CameraFollow:{None:R.Mn,Player:R.$2},CollisionFlags:{ball:R._2,red:R.D2,blue:R.X2,redKO:R.c2,blueKO:R.r2,wall:R.y2,kick:R.f2,score:R.J2,free1:R.a2,free2:R.g2,free3:R.B2,free4:R.d2,free5:R.L2,free6:R.n2,free7:R.s2,free8:R.A2,free9:R.U2,free10:R.u2,free11:R.R2,free12:R.F2,free13:R.N2,free14:R.h2,free15:R.Y2,free16:R.C2,free17:R.O2,free18:R.z2,free19:R.v2,free20:R.V2,c0:R.I2,c1:R.G2,c2:R.p2,c3:R.S2},Direction:{Backward:R.i2,Still:R.e2,Forward:R.k2},GamePlayState:{BeforeKickOff:R.o2,Playing:R.l2,AfterGoal:R.b2,Ending:R.Q2},OperationType:{SendAnnouncement:R.Sa,SendChatIndicator:R.ia,CheckConsistency:R.ea,SendInput:R.ka,SendChat:R.oa,JoinRoom:R.la,KickBanPlayer:R.ba,StartGame:R.Qa,StopGame:R.ja,PauseResumeGame:R.Ea,SetGamePlayLimit:R.ma,SetStadium:R.Ka,SetPlayerTeam:R.Za,SetTeamsLock:R.qa,SetPlayerAdmin:R.Wa,AutoTeams:R.xa,SetPlayerSync:R.Ta,Ping:R.ta,SetAvatar:R.wa,SetTeamColors:R.Pa,ReorderPlayers:R.Ha,SetKickRateLimit:R.Ma,SetHeadlessAvatar:R.$g,SetDiscProperties:R._g,CustomEvent:R.Dg,BinaryCustomEvent:R.Xg,SetPlayerIdentity:R.cg},PlayerPositionInGame:{None:R.j2,GK:R.E2,SW:R.m2,WBL:R.K2,DL:R.Z2,DC:R.q2,DR:R.W2,WBR:R.x2,DML:R.T2,DMC:R.t2,DMR:R.w2,ML:R.P2,MC:R.H2,MR:R.M2,AML:R.$s,AMC:R._s,AMR:R.Ds,FL:R.Xs,FC:R.cs,FR:R.rs,ST:R.ys},VariableType:{Void:R.fs,Boolean:R.rg,Integer:R.Js,Number:R.as,String:R.gs,Color:R.Bs,CollisionFlags:R.ds,Coordinate:R.Ls,Team:R.ns,TeamWithSpec:R.ss,BgType:R.As,CameraFollow:R.Us,KickOffReset:R.us,Flag:R.Rs,File:R.Fs,PlayerId:R.Ns,Keys:R.hs,Progress:R.Ys,PlayerPositionInGame:R.Cs},Callback:{add:Xc,remove:cc},Utils:{numberToColor:O$,colorToNumber:h$,getDefaultStadiums:V$,parseStadium:Y$,exportStadium:$$,keyState:I$,reverseKeyState:s$},EventFactory:Uy,Room:{create:this.yc.D,join:this.yc.ZL,sandbox:Bc,streamWatcher:K(this,gc)},Replay:{ReplayData:pD,read:rc,readAll:yc,writeAll:fc,trim:Jc,trimAsync:ac},Query:{getVertexIndexAtMapCoord:ND,getSegmentIndexAtMapCoord:hD,getGoalIndexAtMapCoord:YD,getPlaneIndexAtMapCoord:CD,getJointIndexAtMapCoord:OD,getDiscIndexAtMapCoord:zD,getSpawnPointIndexAtMapCoord:_c,getVertexAtMapCoord:(X,y,J)=>X.J?.s.O[ND(X,y,J)],getSegmentAtMapCoord:(X,y,J)=>X.J?.s.k[hD(X,y,J)],getGoalAtMapCoord:(X,y,J)=>X.C.e$[YD(X,y,J)],getPlaneAtMapCoord:(X,y,J)=>X.J?.s.m[CD(X,y,J)],getJointAtMapCoord:(X,y,J)=>X.J?.s.L$[OD(X,y,J)],getDiscAtMapCoord:(X,y)=>X.J?.s.F[zD(X,y)]},Library:uy,RoomConfig:Ry,Plugin:Fy,Renderer:Ny,Language:J$,Impl:{Core:{Point:n$,TeamColors:j,Team:k},Stadium:{Vertex:i,Segment:V,Plane:o,Goal:t,Disc:D$,Joint:X$,Stadium:Q}},Errors:{ErrorCodes:{StadiumParseError:R.Ba,StadiumParseSyntaxError:R.da,StadiumParseUnknownError:R.La,TeamColorsReadError:R.na,BadColorError:R.sa,BadTeamError:R.Aa,StadiumLimitsExceededError:R.Ua,AnnouncementActionMessageTooLongError:R.ua,ChatActionMessageTooLongError:R.Ra,ChangeTeamColorsInvalidTeamIdError:R.ir,ReplayFileVersionMismatchError:R.Fa,PlayerNameTooLongError:R.Na,PlayerCountryTooLongError:R.ha,PlayerAvatarTooLongError:R.Ya,PlayerJoinBlockedByMPDError:R.Ca,PlayerJoinBlockedByORError:R.Oa,PluginNotFoundError:R.er,PluginNameChangeNotAllowedError:R.za,LibraryNotFoundError:R.kr,LibraryNameChangeNotAllowedError:R.va,NoProxyIdentityProblem:R.Va,NoProxyIdentitySolution:R.Ia,PluginAlreadyExistsError:R.Ga,LibraryAlreadyExistsError:R.pa}}}},Yy=hy;xX.nZ=Yy});var HX=a_((Qy,PX)=>{function Cy($){return Oy($)&&!zy($)}function Oy($){return!!$&&typeof $=="object"}function zy($){var _=Object.prototype.toString.call($);return _==="[object RegExp]"||_==="[object Date]"}function vy($){return Array.isArray($)?[]:{}}function A_($,_){return _.tc!==!1&&_.Wr($)?o_(vy($),$,_):$}function Vy($,_,D){return $.concat(_).map(function(r){return A_(r,D)})}function Iy($,_){if(!_.JU)return o_;var D=_.JU($);return typeof D=="function"?D:o_}function Gy($){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols($).filter(_=>Object.propertyIsEnumerable.call($,_)):[]}function tX($){return Object.keys($).concat(Gy($))}function wX($,_){try{return _ in $}catch{return!1}}function py($,_){return wX($,_)&&!(Object.hasOwnProperty.call($,_)&&Object.propertyIsEnumerable.call($,_))}function Sy($,_,D){var r={};return D.Wr($)&&tX($).forEach(c=>{r[c]=A_($[c],D)}),tX(_).forEach(c=>{py($,c)||(r[c]=wX($,c)&&D.Wr(_[c])?Iy(c,D)($[c],_[c],D):A_(_[c],D))}),r}function o_($,_,D){D=D||{},D.sB=D.sB||Vy,D.Wr=D.Wr||Cy,D.IU=A_;var r=Array.isArray(_),c=Array.isArray($);return!r===c?A_(_,D):r?D.sB($,_,D):Sy($,_,D)}Fy3={AJ:eD(),aU:o_,b:($,_,D,r)=>{var c=new $(..._),f=Object.keys(c),a=Object.keys($.prototype),L=f.concat(a);D.forEach((g,U)=>{if(!(!g||L.includes(g))){var A=f[U];A&&(L.push(g),Object.defineProperty($.prototype,g,{get:function(){return this[A]},set:function(u){this[A]=u}}))}}),r.forEach((g,U)=>{if(!(!g||L.includes(g))){var A=a[U];A&&(L.push(g),$.prototype[g]=$.prototype[A])}})}};PX.nZ=($,_)=>{var D=gX()($,_),r=D._;return r.T=D,_?.noVariableValueChangeEvent!=null&&(r.z5=_.noVariableValueChangeEvent),r.gU=TX(),r}});var ey=a_((jy,MX)=>{var iy=HX();MX.nZ=($,_)=>{var D=iy($,_),{f$:{s5:{A5:r,pr:c}},tL:f,HL:a,Sr:{rn:L,yn:g,zy:U,fn:A,_r:u,Dr:N,Ny:C,hy:h,Xr:O,Yy:p,vy:B,Qc:s,lc:F,$r:I,P5:l,H5:K,M5:R,Jn:k,an:j},IX:{Vc:n$,Bn:i}}=D.T,V=new D.gU(D);return Fy3.aU({version:"2.3.0",BanEntryType:{Player:f.UX,IP:f.wL,Auth:f.PL},ConnectionState:{TryingReverseConnection:a.ML,ConnectingToMaster:a.$n,ConnectingToPeer:a._n,AwaitingState:a.Dn,Active:a.Xn,ConnectionFailed:a.cn},Utils:{generateAuth:L,authFromKey:g,getRoomList:U,calculateAllRoomDistances:A,ipToNumber:u,numberToIp:N,authToNumber:C,numberToAuth:h,compareBits:O,runAfterGameTick:p,getGeo:B,parseGeo:s,numberToHexString:F,parseHexInt:I,promiseWithTimeout:l,hexStrToNumber:K,byteArrayToIp:R,refreshRoomToken:k,generateRoomId:j},Errors:{HBError:n$,ErrorCodes:{Empty:i.dn,ConnectionClosed:i.Ln,GameStateTimeout:i.nn,RoomClosed:i.sn,RoomFull:i.An,WrongPassword:i.Un,BannedBefore:i.un,IncompatibleVersion:i.Rn,FailedHost:i.Fn,Unknown:i.Nn,Cancelled:i.hn,KickedNow:i.Yn,MasterConnectionError:i.Cn,ObjectCastError:i.On,UTF8CharacterDecodeError:i.zn,ReadTooMuchError:i.vn,ReadWrongStringLengthError:i.Vn,EncodeUTF8CharNegativeError:i.In,EncodeUTF8CharTooLargeError:i.Gn,CalculateLengthOfUTF8CharNegativeError:i.pn,CalculateLengthOfUTF8CharTooLargeError:i.Sn,BufferResizeParameterTooSmallError:i.en,MissingActionConfigError:i.kn,UnregisteredActionError:i.ln,MissingImplementationError:i.bn,KickBanReasonTooLongError:i.Qn,MissingRecaptchaCallbackError:i.jn,ReplayFileReadError:i.on,JoinRoomNullIdAuthError:i.En,AuthFromKeyInvalidIdFormatError:i.mn,BadActorError:i.Kn,AuthBannedError:i.Zn,FailedToCreateRoom:i.qn,RateLimitReached:i.Wn,UnknownMessageType:i.xn}},Impl:{Stream:{Reader:c,Writer:r}}},V.nZ)}});return ey();})();if(typeof exports!=='undefined'){if(typeof module!=='undefined'&&module.exports)exports=module.exports=cn;exports["abcHaxballAPI"]=cn;}else if(typeof root!=='undefined')root["abcHaxballAPI"]=cn;else window["abcHaxballAPI"]=cn;